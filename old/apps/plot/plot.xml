<?xml version="1.0" encoding="UTF-8" ?>
<!-- This is a WordPress eXtended RSS file generated by WordPress as an export of your site. -->
<!-- It contains information about your site's posts, pages, comments, categories, and other content. -->
<!-- You may use this file to transfer that content from one site to another. -->
<!-- This file is not intended to serve as a complete backup of your site. -->

<!-- To import this information into a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Go to Tools: Import in the WordPress admin panel. -->
<!-- 3. Install the "WordPress" importer from the list. -->
<!-- 4. Activate & Run Importer. -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. You will first be asked to map the authors in this export file to users -->
<!--    on the site. For each author, you may choose to map to an -->
<!--    existing user on the site or to create a new user. -->
<!-- 7. WordPress will then import each of the posts, pages, comments, categories, etc. -->
<!--    contained in this file into your site. -->

	
<rss version="2.0"
	xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:wp="http://wordpress.org/export/1.2/"
>

<channel>
	<title>nxt.wpoets.com</title>
	<link>http://nxt.wpoets.com</link>
	<description></description>
	<pubDate>Tue, 19 Nov 2019 21:50:29 +0000</pubDate>
	<language>en-US</language>
	<wp:wxr_version>1.2</wp:wxr_version>
	<wp:base_site_url>http://nxt.wpoets.com</wp:base_site_url>
	<wp:base_blog_url>http://nxt.wpoets.com</wp:base_blog_url>

		<wp:author><wp:author_id>1</wp:author_id><wp:author_login><![CDATA[Amit]]></wp:author_login><wp:author_email><![CDATA[amit@wpoets.com]]></wp:author_email><wp:author_display_name><![CDATA[Amit]]></wp:author_display_name><wp:author_first_name><![CDATA[]]></wp:author_first_name><wp:author_last_name><![CDATA[]]></wp:author_last_name></wp:author>

				
			

		<item>
		<title>task</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860530</link>
		<pubDate>Sat, 26 Oct 2019 15:14:03 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=858293</guid>
		<description></description>
		<content:encoded><![CDATA[[env.set_array task]
	[meta_table]plot[/meta_table]
	[fields]
    [task_id data_type=string max_length=20 label="Original Id" coll_id="{env.coll_id}" coll_type="task" /]
    [original_id data_type=string max_length=20 label="Original Id" coll_id="{env.coll_id}" coll_type="task" /]
    [project_id data_type=string max_length=20 label="Project Id" coll_id="{env.coll_id}" coll_type="task" /]
    [original_url data_type=string max_length=20 label="Original URL" coll_id="{env.coll_id}" coll_type="task" /]
    [title data_type=string max_length=100 label='Title' coll_id="{env.coll_id}" coll_type="task" /]
    [due_date data_type=date_format format='d-m-Y' label='Status' coll_id="{env.coll_id}" coll_type="task" /]
    [assigned_to data_type=string max_length=20 label="Assigned to" coll_id="{env.coll_id}" coll_type="task" /]
    [project_label data_type=string max_length=20 label='Project Label' coll_id="{env.coll_id}" coll_type="task" /]
    [status data_type=date_format format='d-m-Y' label='Status' coll_id="{env.coll_id}" coll_type="task" /]
    [task_priority data_type=string  label='Task Priority' coll_id="{env.coll_id}" coll_type="task" /]
    [projected_time data_type=string  label='Created By' coll_id="{env.coll_id}" coll_type="task" /]
    [time_spent data_type=string  label='Time Spent' coll_id="{env.coll_id}" coll_type="task" /]
  [/fields]
[/env.set_array]

[templates.add status_count]

 [query.get_results o.set='template.status_counts']
      SELECT  
        count(1) AS total,
        sum(case when meta_value = 'signed-off' then 1 else 0 end) AS `signed-off`,
        sum(case when meta_value= 'new' then 1 else 0 end) AS new_status,
        sum(case when meta_value= 'work-in-progress' then 1 else 0 end) AS `work-in-progress`,
        sum(case when meta_value= 'feedback' then 1 else 0 end) AS feedback,
        sum(case when meta_value= 'hold' then 1 else 0 end) AS hold
      FROM [env.get task.meta_table /]
      where 1=1 
      [if.not_empty template.story_id]
       and object_id = '[template.get story_id /]'
      [/if.not_empty]
      and coll_type='task' and meta_key ='task_status' ;
   [/query.get_results] 
   
   [template.return template.status_counts.0 /]
  
[/templates.add]

[templates.add list]
 
		[env.set page="{template.page}" /]
		[env.set search="{template.search}" /]

		[if.not_equal rhs="{template.assigned_to}" lhs="all"]
			[env.set assigned_to="{template.assigned_to}" /]
    [/if.not_equal]
    
		[if.not_equal rhs="{template.task_status}" lhs="all"]
			[env.set task_status="{template.task_status}" /]
    [/if.not_equal]
    
		[env.set task_due="{template.task_due}" /]
		[env.set task_sprint="{template.task_sprint}" /]
		[env.set priority="{template.priority}" /]
		[env.set task_tag="{template.task_tag}" /]
		[env.set table="{template.table}" /]
    [env.set task_due_query_part="{template.task_due_query_part}" /]
    [env.set task_sprint_query_part="{template.task_sprint_query_part}" /]
    [env.set page="{template.page}" default="1" /] 
    [env.set story_id="{template.story_id}" /] 


      [module.set_array query]
        [pagesize][aw2.get template.records default="50"][/pagesize]
        [pageno][env.get page /][/pageno]
        [query_count]yes[/query_count]
        [with]
           [sql]
            SELECT coll_id as data_id, object_id FROM plot WHERE 1=1 
            [if.not_empty env.story_id]
                and object_id = "[env.get story_id /]"
            [/if.not_empty]
            and coll_type="task" AND meta_key="task_id"
           [/sql]
           [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , meta_value as story_title 
                from [module.previous_query_no /] join plot 
                ON [module.previous_query_no /].object_id = plot.object_id and coll_type="user_stories" 
                 AND meta_key="story_title"
              [/sql]
           [/add_field]
          //** [add_field new table="plot" aw2_meta_key='task_due_date' coll_type="task" /] 
           
           Abstract archive post **//
          [filter new]
          	[sql raw]
                select [module.previous_query_no /].*, STR_TO_DATE(meta_value,'%d-%m-%Y') as task_due_date 
                from [module.previous_query_no /] join plot 
                ON [module.previous_query_no /].data_id = plot.coll_id and coll_type="task" 
                AND meta_key="task_due_date" 
                [if.not_empty env.task_due_query_part]
                [env.get task_due_query_part /]
                [/if.not_empty]
                
            [/sql]
          [/filter]    
          [filter new ]
          	[sql raw]
                select [module.previous_query_no /].*, meta_value as task_status 
                from [module.previous_query_no /] join plot 
                ON [module.previous_query_no /].data_id = plot.coll_id and coll_type="task" 
                AND meta_key="task_status" 
                [if.not_empty env.task_status]
                	[if.not_arr task_status] [env.get task_status.comma o.set='task_status'/] [/if.not_arr]
                and meta_value in ([env.get task_status.quote_comma /])
                [/if.not_empty]
            [/sql]
          [/filter]          
					//******search based on filters******//
          [filter new not_empty="{env.assigned_to}"]
          	[sql raw]
               select [module.previous_query_no /].*, meta_value as assignedto 
               from [module.previous_query_no /] join plot 
               ON [module.previous_query_no /].data_id = plot.coll_id and coll_type="task" 
               AND meta_key="task_assigned_to" and meta_value = "[env.get assigned_to /]"
            [/sql]
          [/filter]      
          [filter new not_empty="{env.task_tag}"]
            [sql raw]
               select [module.previous_query_no /].*, meta_value as task_tags 
               from [module.previous_query_no /] join plot 
               ON [module.previous_query_no /].data_id = plot.coll_id and coll_type="task" 
               AND meta_key="task_tags" and meta_value LIKE "%[env.get task_tag /]%"
            [/sql]
					[/filter]
          //**exact and partial search**//
          [filter new not_empty="{{env.get search}}"]
          	[sql raw]
              select [module.previous_query_no /].* from plot join [module.previous_query_no /] on 
              [module.previous_query_no /].data_id=plot.coll_id 
              where meta_key IN ("task_title","task_description") and meta_value LIKE '%[env.get search /]%' 
              group by data_id
            [/sql]
          [/filter] 
        [/with]
        [transform ref_id=data_id /]
        [meta new]
           [table]plot[/table]
						[meta_keys]story_id, task_id, task_assigned_to, task_title, task_tags, task_due_date, task_status, created_datetime[/meta_keys] 
           [id_field]coll_id[/id_field]
         [/meta]
        [meta new]
          [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'story_title' AS meta_key,story_title AS meta_value FROM bounded_data
          [/sql]
        [/meta] 
        [order]
        	task_due_date DESC
        [/order]
    [/module.set_array]
    [db.meta_query query="{module.query}" set="template.rs"/]  
        
    [template.return template.rs  /] 
[/templates.add]


[templates.add add]
  
		[template.set object_id='{template.object_id}' /] 
		
		[template.set meta_key='' /] 
  	[template.set meta_value='' /]
    
    [loop.@meta template.metas]
      [template.set_array meta_arr.new  meta_key="{@meta.key}"  meta_value="{@meta.item}" coll_type="task" /]
    [/loop.@meta]

    
    [date.create now date_format='Y-m-d H:i:s' empty="{template.task_created_datetime}" set=template.task_created_datetime /]
    [template.get task_created_datetime date_format='Ymd' set=template.task_created_date /]
    [aw2.get current_user.user_email empty="{template.task_created_by}" set=template.task_created_by /]
    
    
    
		[template.set_array meta_arr.new meta_key="task_created_by" meta_value="{template.task_created_by}" coll_type="task"/]
		[template.set_array meta_arr.new meta_key="task_created_datetime" meta_value="{template.task_created_datetime}" coll_type="task"/]
    [template.set_array meta_arr.new meta_key="task_created_date" meta_value="{template.task_created_date}" coll_type="task" /]
    [template.set_array meta_arr.new meta_key="task_ip" meta_value="{ip}" coll_type="task" /]    
	
  	[db.meta.update_object_meta meta="{template.meta_arr}" meta_table="plot" object_id="{template.object_id}" coll_id='{template.coll_id}'  set='template.ack'/]
  
		[template.return template.ack /]
[/templates.add]
[templates.add update]
  [template.set meta_key='' /] 
  [template.set meta_value='' /]

  [loop.@meta template.metas]
    [template.set_array meta_arr.new  meta_key="{@meta.key}"  meta_value="{@meta.item}" coll_type="task" /]
  [/loop.@meta]

  [db.meta.update_object_meta meta="{template.meta_arr}" meta_table="plot" object_id="{template.object_id}" coll_id='{template.coll_id}'  set='template.ack'/]

  [template.return template.ack /]
[/templates.add]

[templates.add single]
	//** Get  data **//
    [db.meta.select_meta_key_value_pair meta_table="plot" coll_id="{template.task_id}" set="template.task_data" /]
		[template.return template.task_data /]
[/templates.add]

[templates.add feedbacks]
  
  [template.set_array query]
  	[pagesize]-1[/pagesize]
    [with]
       [sql]        
        SELECT coll_id as data_id FROM plot WHERE  coll_type="task_feedback" AND meta_key="task_feedback_id"
      	[if.not_empty template.task_id]
      		AND object_id="[template.get task_id /]"
      	[/if.not_empty]
       [/sql]
      [filter new]
        [sql raw]
           select [module.previous_query_no /].*, STR_TO_DATE(meta_value,'%d-%m-%Y') as created_datetime from [module.previous_query_no /] join plot pa on [module.previous_query_no /].data_id = pa.coll_id where  meta_key='task_feedback_created_datetime'
        [/sql]
      [/filter]
    [/with]
    [transform ref_id=data_id /]
    [meta new]
      [table]plot[/table]                 [meta_keys]story_id,task_id,task_feedback_reference_label_url,task_feedback_id,task_feedback_description,task_feedback_attachments,task_feedback_created_datetime,task_feedback_created_date,task_feedback_created_by[/meta_keys] 
       [id_field]coll_id[/id_field]
   [/meta]
    [order]
      created_datetime DESC
    [/order]
  [/template.set_array]    
 
  [db.meta_query query="{template.query}" set="template.feedbacks" /]
  
  [template.return template.feedbacks /]

[/templates.add]
[templates.add add_feedback]
  [template.set meta_key='' /] 
  	[template.set meta_value='' /]

    [loop.@meta template.metas]
      [template.set_array meta_arr.new  meta_key="{@meta.key}"  meta_value="{@meta.item}" coll_type="task_feedback" /]
    [/loop.@meta]

    [date.create now date_format='Y-m-d H:i:s' empty="{template.task_feedback_created_datetime}" set=template.task_feedback_created_datetime /]
    [template.get task_feedback_created_datetime date_format='Ymd' set=template.task_feedback_created_date /]
    [aw2.get current_user.user_email empty="{template.task_feedback_created_by}" set=template.task_feedback_created_by /]
    
		[template.set_array meta_arr.new meta_key="task_feedback_created_datetime" meta_value="{template.task_feedback_created_datetime}" coll_type="task_feedback"/]
    [template.set_array meta_arr.new meta_key="task_feedback_created_date" meta_value="{template.task_feedback_created_date}" coll_type="task_feedback" /]
    [template.set_array meta_arr.new meta_key="task_feedback_created_by" meta_value="{template.task_feedback_created_by}" coll_type="task_feedback" /]    
    [template.set_array meta_arr.new meta_key="task_feedback_ip" meta_value="{ip}" coll_type="task_feedback " /]    

  	[db.meta.update_object_meta meta="{template.meta_arr}" meta_table="plot" object_id="{template.object_id}" coll_id='{template.coll_id}'  set='template.ack'/]

		[template.return template.ack /]
[/templates.add]

[templates.add tags]
 	[template.set taxonomy='{request.taxonomy}' /]
	[template.set term_per_page='15' /]
  
  [template.set offset='({request.page} - 1) * {template.term_per_page default=0}' not_empty='{request.page}' /]
  [template.set offset='{template.offset.math}' /]
  [template.set offset='0' empty='{request.page}' /]
  [query.get_terms taxonomies='{template.taxonomy}' hide_empty=0 name__like='{request.q}' offset='{template.offset}' number='{template.term_per_page}' set='template.childs' /]

	[loop.@child template.childs]
    [php.htmlspecialchars_decode p1='{@child.item.name}' set=template.name /]
    [template.set_array child_terms.new id='{@child.item.slug}' text='{template.name}' /]
  [/loop.@child]
  
  [template.set newoffset="{template.offset} + {template.term_per_page}" /]
  [template.set newoffset="{template.newoffset.math}" /]
  [query.get_terms
    taxonomies='{template.taxonomy}'
    hide_empty=0
    name__like='{request.q}'
    offset='{template.newoffset}'
    number='1'
    set='template.future_child' /]
    {
    "results": 
      [aw2.get template.child_terms.json_encode /]
      [if.empty template.child_terms]
        []
      [/if.empty]
      ,
    "pagination": {
  		[if.not_empty template.future_child]
        "more": true
      [/if.not_empty]
      [if.else]
        "more": false
      [/if.else]
    }
  }
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860530</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 15:14:03]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 15:14:03]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[task]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[tasks]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>user_story</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860531</link>
		<pubDate>Mon, 28 Oct 2019 06:05:48 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=858297</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add list]
      [env.set search="{template.search}" /]
      
      [if.not_equal rhs="{template.priority}" lhs="all"]
        [env.set story_priority="{template.priority}" /]
      [/if.not_equal]
      [if.not_equal rhs="{template.assigned_to}" lhs="all"]
        [env.set assigned_to="{template.assigned_to}" /]
      [/if.not_equal]

      [if.not_equal rhs="{template.story_status}" lhs="all"]
        [env.set story_status="{template.story_status}" /]
      [/if.not_equal]
      
      [env.set page="{template.page}" default="1" /] 
      [env.set table="plot" /] 
      [module.set_array query]
        [pagesize][aw2.get template.records default="50"][/pagesize]
        [pageno][template.get page /][/pageno]
        [query_count]yes[/query_count]
        [with]
           [sql]
            SELECT object_id as data_id  FROM plot WHERE coll_type="user_stories" AND meta_key="story_id"
           [/sql]
					 [add_field new table="{env.table}" aw2_meta_key='story_due_date' coll_id="plot" /] 

          //** Abstract archive post **//
          [filter new  not_empty={env.story_status}]
          	[sql raw]
              select [module.previous_query_no /].* 
              from [module.previous_query_no /] join plot 
              ON [module.previous_query_no /].data_id = plot.object_id and coll_id="plot" and 
              coll_type="user_stories" 
              AND meta_key="story_status"
              [if.not_empty env.story_status]
              and meta_value = "[env.get story_status /]"
              [/if.not_empty]
            [/sql]
          [/filter]

          [filter new not_empty={env.search}]
          	[sql raw]
              select [module.previous_query_no /].* from plot join [module.previous_query_no /] on 
              [module.previous_query_no /].data_id=plot.object_id and coll_type="user_stories" 
              where meta_key IN ("story_title","story_description") and meta_value LIKE '%[env.get search /]%' 
              group by data_id
            [/sql]
          [/filter]

          //**Priority filter**//
          [filter new not_empty={env.story_priority}]
          	[sql raw]
              select [module.previous_query_no /].*
               from [module.previous_query_no /] join plot 
               ON [module.previous_query_no /].data_id = plot.object_id and coll_type="user_stories" 
               AND meta_key="story_priority"
               AND meta_value="[env.get story_priority /]"
            [/sql]
          [/filter]

          //**Assigned To filter**//
          [filter new not_empty={env.assigned_to}]
          	[sql raw]
              select [module.previous_query_no /].*
               from [module.previous_query_no /] join plot 
               ON [module.previous_query_no /].data_id = plot.object_id and coll_type="user_stories" 
               AND meta_key="story_assigned_to" and meta_value="[env.get assigned_to /]"
            [/sql]
          [/filter]
          
          //**Task Counts for each story**//
          [filter new]
          	[sql raw]
               SELECT [module.previous_query_no /].*,  
                count(1) AS total,
                sum(case when plot.meta_value = 'signed-off' then 1 else 0 end) AS `signed-off`,
                sum(case when plot.meta_value= 'new' then 1 else 0 end) AS new_status,
                sum(case when plot.meta_value= 'work-in-progress' then 1 else 0 end) AS `work-in-progress`,
                sum(case when plot.meta_value= 'feedback' then 1 else 0 end) AS feedback,
                sum(case when plot.meta_value= 'hold' then 1 else 0 end) AS hold
              FROM  [module.previous_query_no /] left join plot
              ON  [module.previous_query_no /].data_id = plot.object_id
              and plot.coll_type='task' and plot.meta_key ='task_status' group by [module.previous_query_no /].data_id
            [/sql]
          [/filter]

        [/with]
        [transform ref_id=data_id /]
        [meta new]
           [table]plot[/table]
           [aw2_collection_keys] 		    		   
           story_assigned_to,story_id,story_title,story_tags,story_due_date,story_status,story_description
           [/aw2_collection_keys] 
           [coll_type]user_stories[/coll_type]
       [/meta]
       [meta new]
          [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'total' AS meta_key, total AS meta_value FROM bounded_data
          [/sql]
        [/meta] 
        [meta new]
          [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'signed-off' AS meta_key,`signed-off` AS meta_value FROM bounded_data
          [/sql]
        [/meta] 
        [meta new]
          [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'new_status' AS meta_key,new_status AS meta_value FROM bounded_data
          [/sql]
        [/meta] 
        [meta new]
          [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'feedback' AS meta_key,feedback AS meta_value FROM bounded_data
          [/sql]
        [/meta] 
        [meta new]
          [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'hold' AS meta_key,hold AS meta_value FROM bounded_data
          [/sql]
        [/meta] 
        [meta new]
          [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'work-in-progress' AS meta_key,`work-in-progress` AS meta_value FROM bounded_data
          [/sql]
        [/meta] 
        [order]
        	story_due_date DESC
        [/order]
    	[/module.set_array]
			[db.meta_query query="{module.query}" set ="template.rs" /]

		[template.return template.rs /]
[/templates.add]

[templates.add single]
  [db.meta.select_meta_key_value_pair meta_table="plot" coll_type="user_stories" object_id="{template.story_id}" o.set="template.story_data" /]
	[template.return template.story_data /]
[/templates.add]

[templates.add status_count]
 [query.get_results o.set='template.status_counts']
      SELECT  
        count(1) AS total,
        sum(case when meta_value = 'signed-off' then 1 else 0 end) AS `signed-off`,
        sum(case when meta_value= 'new' then 1 else 0 end) AS new_status,
        sum(case when meta_value= 'in-pipeline' then 1 else 0 end) AS `in-pipeline`,
        sum(case when meta_value= 'feedback' then 1 else 0 end) AS feedback,
        sum(case when meta_value= 'migration' then 1 else 0 end) AS migration,
        sum(case when meta_value= 'ops' then 1 else 0 end) AS ops,
        sum(case when meta_value= 'discussion' then 1 else 0 end) AS discussion
      FROM plot
      where coll_type='user_stories' and meta_key ='story_status' ;
   [/query.get_results] 
   
   [template.return template.status_counts.0 /]

[/templates.add]
[templates.add remove_attachments]
[db.meta.select_meta_key_value_pair meta_table="plot" object_id="{template.story_id}" set="template.story_data" /]
  [template.get story_data.story_attachments.json_decode set="template.arr_story_attachments"  /]
	[loop.@eachAttachment template.arr_story_attachments]
    [if.not_equal lhs="{aw2.get @eachAttachment.item.id}" rhs="{template.attachment_id}"]    
    	[template.set_array filtered_arr_story_attachments.new id="{aw2.get @eachAttachment.item.id}" url="{aw2.get @eachAttachment.item.url}" /]
    [/if.not_equal]
  [/loop.@eachAttachment]

	[if.equal rhs="template.filtered_arr_story_attachments.count" lhs="template.story_data.story_attachments.count"]
   [template.return not_updated="Attachment not exists" /]
  [/if.equal]

	[template.set story_data.story_attachments="{template.filtered_arr_story_attachments.json_encode}" /]

  //**Call add story service **//
  [plot.user_stories.add metas='{template.story_data}' object_id="{template.story_id}" set="template.res" /]
[/templates.add]

[templates.add add]
		[template.set meta_key='' /] 
  	[template.set meta_value='' /]

    [loop.@meta template.metas]
      [template.set_array meta_arr.new  meta_key="{@meta.key}"  meta_value="{@meta.item}" coll_type="user_stories" /]
    [/loop.@meta]
    
    [date.create now date_format='Y-m-d H:i:s' empty="{template.story_created_datetime}" set=template.story_created_datetime /]
    [template.get story_created_datetime date_format='Ymd' set=template.story_created_date /]
    [aw2.get current_user.user_email empty="{template.story_created_by}" set=template.story_created_by /]
    
		[template.set_array meta_arr.new meta_key="story_created_datetime" meta_value="{template.story_created_datetime}" coll_type="user_stories"/]
    [template.set_array meta_arr.new meta_key="story_created_date" meta_value="{template.story_created_date}" coll_type="user_stories" /]
    [template.set_array meta_arr.new meta_key="story_ip" meta_value="{ip}" coll_type="user_stories " /]    
    [template.set_array meta_arr.new meta_key="story_created_by" meta_value="{template.story_created_by}" coll_type="user_stories" /]    
    
    
  	[db.meta.update_object_meta meta="{template.meta_arr}" meta_table="plot" object_id="{template.object_id}" coll_id='plot'  set='template.ack'/]
		[template.return template.ack /]
[/templates.add]
[templates.add update]
	[template.set meta_key='' /] 
  	[template.set meta_value='' /]

    [loop.@meta template.metas]
      [template.set_array meta_arr.new  meta_key="{@meta.key}"  meta_value="{@meta.item}" coll_type="user_stories" /]
    [/loop.@meta]
  	[db.meta.update_object_meta meta="{template.meta_arr}" meta_table="plot" object_id="{template.object_id}" coll_id='plot'  set='template.ack'/]

		[template.return template.ack /]
[/templates.add]

[templates.add feedbacks]
  [module.set_array query]
    [pagesize]5000[/pagesize]
      [with]
         [sql]
          SELECT coll_id as data_id FROM plot WHERE object_id="[template.get story_id /]" AND coll_type="story_feedback" AND meta_key="story_feedback_id"
         [/sql]
        [filter new]
          [sql raw]
             select q0.*, meta_value as created_datetime from q0 join plot pa on q0.data_id = pa.coll_id where  meta_key='story_feedback_created_datetime'
          [/sql]
        [/filter]
      [/with]
      [transform ref_id=data_id /]
      [meta new]
        [table]plot[/table]                 [meta_keys]story_id,story_feedback_reference_label_url,story_feedback_id,story_feedback_description,story_feedback_attachments,story_feedback_created_datetime,story_feedback_created_date,story_feedback_created_by[/meta_keys] 
         [id_field]coll_id[/id_field]
     [/meta]
      [order]
        created_datetime DESC
      [/order]
    [/module.set_array]    
  [db.meta_query query="{module.query}" set="template.feedbacks" /]
  
  [template.return template.feedbacks /]
[/templates.add]

[templates.add add_feedback]
[template.set meta_key='' /] 
  	[template.set meta_value='' /]

    [loop.@meta template.metas]
      [template.set_array meta_arr.new  meta_key="{@meta.key}"  meta_value="{@meta.item}" coll_type="story_feedback" /]
    [/loop.@meta]

    [date.create now date_format='Y-m-d H:i:s' set=template.current_dt /]
    
    [date.create now date_format='Y-m-d H:i:s' empty="{template.story_feedback_created_datetime}" set=template.story_feedback_created_datetime /]
    [template.get story_feedback_created_datetime date_format='Ymd' set=template.story_feedback_created_date /]
    [aw2.get current_user.user_email empty="{template.story_feedback_created_by}" set=template.story_feedback_created_by /]
    
    
		[template.set_array meta_arr.new meta_key="story_feedback_created_datetime" meta_value="{template.story_feedback_created_datetime}" coll_type="story_feedback"/]
    [template.set_array meta_arr.new meta_key="story_feedback_created_date" meta_value="{template.story_feedback_created_date}" coll_type="story_feedback" /]
    [template.set_array meta_arr.new meta_key="story_feedback_created_by" meta_value="{template.story_feedback_created_by}" coll_type="story_feedback" /]    
    [template.set_array meta_arr.new meta_key="story_feedback_ip" meta_value="{ip}" coll_type="story_feedback " /]    

  	[db.meta.update_object_meta meta="{template.meta_arr}" meta_table="plot" object_id="{template.object_id}" coll_id='{template.coll_id}'  set='template.ack'/]

		[template.return template.ack /]
[/templates.add]

[templates.add search_reference]


	[template.set res_per_page='15' /]
  
  [template.set offset='({request.page} - 1) * {template.res_per_page default=0}' not_empty='{request.page}' /]
  [template.set offset='{template.offset.math}' /]
  [template.set offset='0' empty='{request.page}' /]
  
  [query.get_results set='template.datas']
    SELECT meta_value,object_id,coll_id,coll_type from plot where meta_key in ("task_title","story_title") AND meta_value Like ("%[get.request q /]%") limit 10 offset [template.offset /]
  [/query.get_results]
  [template.set type_lable.user_stories="Story" /]
  [template.set type_lable.task="Task" /]
  
  [loop.@comp template.datas]
  		[aw2.get template.type_lable.{@comp.item.coll_type} set="template.temp" /]
  		[template.set item_id="{@comp.item.coll_id}" /]
      [template.set item_id="{@comp.item.object_id}" cond='{@comp.item.coll_type}' equal='user_stories'  /]
      
    [template.set_array data.new text='{template.temp}::{@comp.item.meta_value}' id='{template.item_id}' /]
  [/loop.@comp]
  {
    "results": 
      [aw2.get template.data.json_encode /]
      [if.empty template.data]
        []
      [/if.empty]
      ,
    "pagination": {
  		[if.not_empty template.data]
        "more": true
      [/if.not_empty]
      [if.else]
        "more": false
      [/if.else]
    }
  }
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860531</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 06:05:48]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 06:05:48]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[user_story]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[user_sotry]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[user_sotries]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[user_stories]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>icon</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860532</link>
		<pubDate>Mon, 28 Oct 2019 06:45:19 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=858313</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[css.style]
  	.sprite-icon{
    		width: 20px;
        cursor: pointer;
    }
  [/css.style]
  <svg style="display:none;">
      <g id="icon-dashboard">
        <path d="M5,27.6H1.8C1.3,27.6,1,28,1,28.4v5.9C1,34.7,1.3,35,1.8,35H5c0.4,0,0.8-0.3,0.8-0.8v-5.9C5.7,28,5.4,27.6,5,27.6z"/>
        <path d="M11.6,17H8.4c-0.4,0-0.8,0.3-0.8,0.8v16.5C7.6,34.7,8,35,8.4,35h3.2c0.4,0,0.8-0.3,0.8-0.8V17.8C12.4,17.3,12,17,11.6,17z"/>
        <path d="M18.2,23.6H15c-0.4,0-0.8,0.3-0.8,0.8v9.9c0,0.4,0.3,0.8,0.8,0.8h3.2c0.4,0,0.8-0.3,0.8-0.8v-9.9   C19,23.9,18.7,23.6,18.2,23.6z"/>
      </g>
      <path id="icon-user-stories" d="M8.1,78.9c0.3,0.3,0.3,0.7,0,0.9l-1.7,1.7c-0.1,0.1-0.3,0.2-0.5,0.2l-0.1,0c0,0-0.1,0-0.2,0l-0.1,0  c0,0-0.1,0-0.1-0.1l-0.9-0.9c-0.1-0.1-0.2-0.3-0.2-0.5s0.1-0.3,0.2-0.5c0.1-0.1,0.3-0.2,0.5-0.2h0c0.2,0,0.3,0.1,0.5,0.2l0.4,0.4  l1.2-1.2C7.4,78.7,7.8,78.7,8.1,78.9z M7.1,75.4l-1.2,1.2l-0.4-0.4c-0.3-0.3-0.7-0.3-0.9,0c-0.1,0.1-0.2,0.3-0.2,0.5  s0.1,0.3,0.2,0.5L5.5,78c0.1,0.1,0.1,0.1,0.2,0.1c0.1,0,0.2,0,0.2,0c0.2,0,0.3-0.1,0.5-0.2l1.7-1.7c0.3-0.3,0.3-0.7,0-0.9  C7.8,75.2,7.4,75.2,7.1,75.4z M7.1,82.4l-1.2,1.2l-0.4-0.4C5.4,83.1,5.3,83,5.1,83h0c-0.2,0-0.3,0.1-0.5,0.2  c-0.1,0.1-0.2,0.3-0.2,0.5c0,0.2,0.1,0.3,0.2,0.5L5.5,85c0,0,0.1,0.1,0.1,0.1l0.1,0c0.1,0,0.1,0,0.1,0l0.1,0c0.2,0,0.3-0.1,0.5-0.2  l1.7-1.7c0.3-0.3,0.3-0.7,0-0.9C7.8,82.1,7.4,82.1,7.1,82.4z M15,82.8h-5c-0.4,0-0.7,0.3-0.7,0.7c0,0.4,0.3,0.7,0.7,0.7h5  c0.4,0,0.7-0.3,0.7-0.7C15.7,83.1,15.4,82.8,15,82.8z M17.8,73.8v11.3c0,1.1-0.9,1.9-1.9,1.9H4.1c-1.1,0-1.9-0.9-1.9-1.9V73.8  c0-1.1,0.9-1.9,1.9-1.9h1.3v-0.3c0-0.7,0.6-1.3,1.3-1.3h0.9C8,69.4,9.1,69,10,69c0.9,0,2,0.4,2.3,1.4h0.9c0.7,0,1.3,0.6,1.3,1.3v0.3  h1.4C16.9,71.9,17.8,72.8,17.8,73.8z M13.1,72.6c0-0.1,0-0.1,0-0.2v-0.7l-1.4,0c-0.4,0-0.7-0.3-0.7-0.7c0-0.6-0.7-0.7-1.1-0.7  S8.9,70.4,8.9,71c0,0.4-0.3,0.7-0.7,0.7H6.8v1.5l6.4,0l0-0.4C13.1,72.7,13.1,72.6,13.1,72.6z M15.9,73.2h-1.4c0,0.7-0.6,1.3-1.3,1.3  H6.8c-0.7,0-1.3-0.6-1.3-1.3H4.1c-0.3,0-0.6,0.3-0.6,0.6v11.3c0,0.3,0.3,0.6,0.6,0.6h11.7c0.3,0,0.6-0.3,0.6-0.6V73.8  C16.5,73.5,16.2,73.2,15.9,73.2z M15,76.1h-5c-0.4,0-0.7,0.3-0.7,0.7c0,0.4,0.3,0.7,0.7,0.7h5c0.4,0,0.7-0.3,0.7-0.7  C15.7,76.4,15.4,76.1,15,76.1z M15,79.4h-5c-0.4,0-0.7,0.3-0.7,0.7s0.3,0.7,0.7,0.7h5c0.4,0,0.7-0.3,0.7-0.7S15.4,79.4,15,79.4z"/>
      <g id="icon-tasks" transform="translate(0,-952.36218)">
        <path d="M5.5,1073.4c-0.3,0-0.5,0.2-0.7,0.4l-1.4,2.8l-1.1-0.9c-0.3-0.3-0.8-0.2-1.1,0.1s-0.2,0.8,0.1,1.1h0l1.9,1.6   c0.3,0.3,0.8,0.2,1.1-0.1c0,0,0.1-0.1,0.1-0.2l1.9-3.7c0.2-0.4,0-0.9-0.3-1.1C5.7,1073.4,5.6,1073.4,5.5,1073.4z"/>
        <path d="M10.5,1074.4h6.4c1.2,0,2.1,0.7,2.1,1.6l0,0c0,0.9-0.9,1.6-2.1,1.6h-6.4c-1.2,0-2.1-0.7-2.1-1.6l0,0   C8.4,1075.1,9.4,1074.4,10.5,1074.4z"/>
        <path d="M5.2,1082.9c0,0.9-0.7,1.6-1.6,1.6s-1.6-0.7-1.6-1.6s0.7-1.6,1.6-1.6S5.2,1082,5.2,1082.9z"/>
        <path d="M10.5,1081.3h6.4c1.2,0,2.1,0.7,2.1,1.6l0,0c0,0.9-0.9,1.6-2.1,1.6h-6.4c-1.2,0-2.1-0.7-2.1-1.6l0,0   C8.4,1082,9.4,1081.3,10.5,1081.3z"/>
        <path d="M5.2,1089.8c0,0.9-0.7,1.6-1.6,1.6s-1.6-0.7-1.6-1.6s0.7-1.6,1.6-1.6S5.2,1088.9,5.2,1089.8z"/>
        <path d="M10.5,1088.2h6.4c1.2,0,2.1,0.7,2.1,1.6l0,0c0,0.9-0.9,1.6-2.1,1.6h-6.4c-1.2,0-2.1-0.7-2.1-1.6l0,0   C8.4,1088.9,9.4,1088.2,10.5,1088.2z"/>
      </g>
      <g id="icon-notes">
        <path d="M18.7,175.7L18,175c-0.3-0.3-0.8-0.4-1.1-0.1l-2.4,2.4v-2.1c0-0.9-0.7-1.6-1.6-1.6H2.6c-0.9,0-1.6,0.7-1.6,1.6v13.6   c0,0.9,0.7,1.6,1.6,1.6h10.2c0.9,0,1.6-0.7,1.6-1.6v-7.7l4.3-4.3C19.1,176.5,19.1,176,18.7,175.7z M13.5,188.8   c0,0.3-0.3,0.6-0.6,0.6H2.6c-0.3,0-0.6-0.3-0.6-0.6v-13.6c0-0.3,0.3-0.6,0.6-0.6h10.2c0.3,0,0.6,0.3,0.6,0.6v3.1l-3.1,3.1l1.9,1.9   l1.3-1.3V188.8z"/>
        <path d="M9.2,184c-0.1,0.4,0.1,0.6,0.5,0.5l2-0.6L9.8,182L9.2,184z"/>
        <path d="M3.5,177.7h8.2c0.3,0,0.5-0.2,0.5-0.5c0-0.3-0.2-0.5-0.5-0.5H3.5c-0.3,0-0.5,0.2-0.5,0.5C3,177.4,3.2,177.7,3.5,177.7z"/>
        <path d="M11.7,186.2H3.5c-0.3,0-0.5,0.2-0.5,0.5c0,0.3,0.2,0.5,0.5,0.5h8.2c0.3,0,0.5-0.2,0.5-0.5C12.2,186.5,12,186.2,11.7,186.2z   "/>
        <path d="M3.5,180.9h5.1c0.3,0,0.5-0.2,0.5-0.5c0-0.3-0.2-0.5-0.5-0.5H3.5c-0.3,0-0.5,0.2-0.5,0.5C3,180.6,3.2,180.9,3.5,180.9z"/>
        <path d="M3.5,184.1h4.2c0.3,0,0.5-0.2,0.5-0.5c0-0.3-0.2-0.5-0.5-0.5H3.5c-0.3,0-0.5,0.2-0.5,0.5C3,183.8,3.2,184.1,3.5,184.1z"/>
      </g>
      <g id="icon-add-new">
        <g>
          <path d="M10,225c-5,0-9,4-9,9s4,9,9,9c5,0,9-4,9-9S15,225,10,225z M10,242c-4.4,0-8-3.6-8-8c0-4.4,3.6-8,8-8s8,3.6,8,8    C18,238.4,14.4,242,10,242z"/>
        </g>
        <g>
          <path d="M13.9,233.5h-3.4v-3.4c0-0.3-0.2-0.5-0.5-0.5c-0.3,0-0.5,0.2-0.5,0.5v3.4H6.1c-0.3,0-0.5,0.2-0.5,0.5    c0,0.3,0.2,0.5,0.5,0.5h3.4v3.4c0,0.3,0.2,0.5,0.5,0.5c0.3,0,0.5-0.2,0.5-0.5v-3.4h3.4c0.3,0,0.5-0.2,0.5-0.5    C14.4,233.7,14.2,233.5,13.9,233.5z"/>
        </g>
      </g>
      <path id="icon-search" d="M8.9,292.7c1.8,0,3.4-0.6,4.7-1.6l3.6,3.6c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1.1,0-1.5  l-3.6-3.6c1-1.3,1.6-3,1.6-4.7c0-4.3-3.5-7.8-7.8-7.8S1,280.5,1,284.8S4.5,292.7,8.9,292.7z M8.9,279.1c3.2,0,5.7,2.6,5.7,5.7  s-2.6,5.7-5.7,5.7s-5.7-2.6-5.7-5.7S5.7,279.1,8.9,279.1z"/>
      <g id="icon-filters">
        <path d="M6.3,339.1c-0.3-0.8-1-1.3-1.9-1.5v-6.9c0-0.4-0.3-0.7-0.7-0.7c-0.4,0-0.7,0.3-0.7,0.7v6.9c-0.2,0-0.3,0.1-0.5,0.2   c-1.4,0.6-2,2.3-1.4,3.7c0.3,0.8,1,1.3,1.9,1.5v2.5c0,0.4,0.3,0.7,0.7,0.7c0.4,0,0.7-0.3,0.7-0.7v-2.5c0.9-0.2,1.6-0.9,1.9-1.7   C6.6,340.5,6.6,339.7,6.3,339.1z M5.1,340.7c-0.3,0.7-1.1,1.1-1.8,0.8c-0.7-0.3-1.1-1.1-0.8-1.8c0.1-0.4,0.4-0.6,0.7-0.8   c0.2-0.1,0.4-0.1,0.6-0.1c0.6,0,1.1,0.3,1.3,0.8C5.2,340,5.3,340.4,5.1,340.7L5.1,340.7z"/>
        <path d="M18.7,339.1c-0.3-0.8-1-1.3-1.9-1.5v-6.9c0-0.4-0.3-0.7-0.7-0.7s-0.7,0.3-0.7,0.7v6.9c-0.2,0-0.3,0.1-0.5,0.2   c-1.4,0.6-2,2.3-1.4,3.7c0.3,0.8,1,1.3,1.9,1.5v2.5c0,0.4,0.3,0.7,0.7,0.7s0.7-0.3,0.7-0.7v-2.5c0.9-0.2,1.6-0.9,1.9-1.7   C19.1,340.5,19.1,339.7,18.7,339.1z M17.6,340.7c-0.3,0.7-1.1,1.1-1.8,0.8c-0.7-0.3-1.1-1.1-0.8-1.8c0.1-0.4,0.4-0.6,0.7-0.8   c0.2-0.1,0.4-0.1,0.6-0.1c0.6,0,1.1,0.3,1.3,0.8C17.7,340,17.7,340.4,17.6,340.7z"/>
        <path d="M11,333.3c-0.1,0-0.2-0.1-0.3-0.1v-2.6c0-0.4-0.3-0.7-0.7-0.7s-0.7,0.3-0.7,0.7v2.6c-1.5,0.4-2.4,1.9-2,3.4   c0,0.2,0.1,0.3,0.2,0.5c0.3,0.7,0.9,1.2,1.5,1.5c0.1,0,0.2,0.1,0.3,0.1v6.8c0,0.4,0.3,0.7,0.7,0.7s0.7-0.3,0.7-0.7v-6.8   c0.2,0,0.3-0.1,0.5-0.2c1.4-0.6,2-2.3,1.4-3.7C12.2,334.1,11.7,333.5,11,333.3z M11.3,336.4c-0.3,0.7-1.1,1.1-1.8,0.8   c-0.4-0.1-0.6-0.4-0.8-0.7c-0.3-0.7,0-1.6,0.7-1.9c0.2-0.1,0.4-0.1,0.6-0.1c0.2,0,0.3,0,0.5,0.1c0.4,0.1,0.6,0.4,0.8,0.8l0,0   C11.5,335.7,11.5,336,11.3,336.4z"/>
      </g>
      <path id="icon-arrow-left" d="M8.3,385.3l-3.8,3.8H19v1.8H4.5l3.8,3.8L7,396l-6-6l6-6L8.3,385.3z"/>
      <path id="icon-arrow-right" d="M13,436l6,6l-6,6l-1.3-1.3l3.8-3.8H1v-1.8h14.5l-3.8-3.8L13,436z"/>
      <path id="icon-arrow-down" d="M3.1,488.4l6.9,6.9l6.9-6.9l2.1,2.1l-9,9l-9-9L3.1,488.4z"/>
      <path id="icon-calendar" d="M13.6,537h1.8v1.8h0.9c0.5,0,0.9,0.2,1.3,0.5c0.4,0.4,0.5,0.8,0.5,1.3v12.6c0,0.5-0.2,0.9-0.5,1.3  c-0.4,0.4-0.8,0.5-1.3,0.5H3.7c-0.5,0-0.9-0.2-1.3-0.5c-0.4-0.4-0.5-0.8-0.5-1.3v-12.6c0-0.5,0.2-0.9,0.5-1.3  c0.4-0.4,0.8-0.5,1.3-0.5h0.9V537h1.8v1.8h7.2V537z M16.3,543.3H3.7v9.9h12.6V543.3z M14.5,551.4H10v-4.5h4.5V551.4z"/>
      <path id="icon-drop-down" d="M10,602.5l-9-9h18L10,602.5z"/>
      <path id="icon-drop-up" d="M19,654.5H1l9-9L19,654.5z"/>
      <g xmlns="http://www.w3.org/2000/svg" id="icon-remove">
          <path d="M10,693c-5,0-9,4-9,9c0,5,4,9,9,9c5,0,9-4,9-9C19,697,15,693,10,693z M10,710c-4.4,0-8-3.6-8-8c0-4.4,3.6-8,8-8s8,3.6,8,8    C18,706.4,14.4,710,10,710z"/>
          <path d="M6.1,701.5c-0.3,0-0.5,0.2-0.5,0.5c0,0.3,0.2,0.5,0.5,0.5l7.8,0c0.3,0,0.5-0.2,0.5-0.5c0-0.3-0.2-0.5-0.5-0.5H6.1z"/>
      </g>
      <g xmlns="http://www.w3.org/2000/svg" id="icon-close">
          <path d="M3.6,747.6c-3.5,3.5-3.5,9.2,0,12.7s9.2,3.5,12.7,0c3.5-3.5,3.5-9.2,0-12.7S7.1,744.1,3.6,747.6z M15.6,759.6    c-3.1,3.1-8.2,3.1-11.3,0c-3.1-3.1-3.1-8.2,0-11.3c3.1-3.1,8.2-3.1,11.3,0C18.7,751.5,18.7,756.5,15.6,759.6z"/>
          <path d="M12.4,750.9l-2.4,2.4l-2.4-2.4c-0.2-0.2-0.5-0.2-0.7,0c-0.2,0.2-0.2,0.5,0,0.7l2.4,2.4l-2.4,2.4c-0.2,0.2-0.2,0.5,0,0.7    c0.2,0.2,0.5,0.2,0.7,0l2.4-2.4l2.4,2.4c0.2,0.2,0.5,0.2,0.7,0c0.2-0.2,0.2-0.5,0-0.7l-2.4-2.4l2.4-2.4c0.2-0.2,0.2-0.5,0-0.7    C12.9,750.7,12.6,750.7,12.4,750.9z"/>
      </g>
      <g xmlns="http://www.w3.org/2000/svg" id="icon-comment">
        <path d="M14.1,803.5h-2.8v-2.8c0-0.2-0.2-0.4-0.4-0.4H9.1c-0.2,0-0.4,0.2-0.4,0.4v2.8H5.9c-0.2,0-0.4,0.2-0.4,0.4v1.8   c0,0.2,0.2,0.4,0.4,0.4h2.8v2.8c0,0.2,0.2,0.4,0.4,0.4h1.8c0.2,0,0.4-0.2,0.4-0.4v-2.8h2.9c0.2,0,0.4-0.2,0.4-0.4v-1.8   C14.5,803.7,14.3,803.5,14.1,803.5L14.1,803.5z"/>
        <path d="M17.9,797.3H2.1c-0.6,0-1.1,0.5-1.1,1.1V811c0,0.6,0.5,1.1,1.1,1.1h0h12.5l2.1,2.1c0.3,0.3,0.7,0.5,1.1,0.5l0,0   c0.6,0,1.1-0.5,1.1-1.1c0,0,0,0,0,0v-15.2C19,797.8,18.5,797.3,17.9,797.3z M17,811.7l-1.6-1.5h-12c-0.2,0-0.4-0.2-0.4-0.4v-10.1   c0-0.2,0.2-0.4,0.4-0.4h13.2c0.2,0,0.4,0.2,0.4,0.4V811.7z"/>
      </g>
      <path xmlns="http://www.w3.org/2000/svg" id="icon-text-formatting" d="M1.6,864.6v2.4h16.8v-2.4H1.6z M7,859.6h6l1.1,2.6h2.5L10.9,849H9.1l-5.7,13.2h2.5L7,859.6z M10,851.4  l2.2,6H7.8L10,851.4z"/>
      <path xmlns="http://www.w3.org/2000/svg" id="icon-revision" d="M11.3,902.3c1.1,0,2.1,0.2,3,0.6c0.9,0.4,1.8,1,2.5,1.7s1.3,1.5,1.7,2.5c0.4,0.9,0.6,1.9,0.6,3  s-0.2,2.1-0.6,3c-0.4,0.9-1,1.8-1.7,2.5s-1.5,1.3-2.5,1.7c-0.9,0.4-1.9,0.6-3,0.6s-2.1-0.2-3-0.6c-0.9-0.4-1.7-1-2.4-1.7l1.2-1.2  c0.5,0.5,1.2,1,1.9,1.3c0.7,0.3,1.5,0.5,2.3,0.5c0.8,0,1.6-0.2,2.3-0.5c0.7-0.3,1.4-0.7,1.9-1.3s1-1.2,1.3-1.9  c0.3-0.7,0.5-1.5,0.5-2.3s-0.2-1.6-0.5-2.3c-0.3-0.7-0.7-1.4-1.3-1.9s-1.2-1-1.9-1.3c-0.7-0.3-1.5-0.5-2.3-0.5  c-0.8,0-1.6,0.2-2.3,0.5c-0.7,0.3-1.4,0.7-1.9,1.3s-1,1.2-1.3,1.9c-0.3,0.7-0.5,1.5-0.5,2.3h2.6l-3.5,3.5l-0.1-0.1L1,910h2.6  c0-1.1,0.2-2.1,0.6-3c0.4-0.9,1-1.8,1.7-2.5s1.5-1.3,2.5-1.7C9.2,902.5,10.2,902.3,11.3,902.3z M10.4,906.6h1.3v3.7l3,1.8l-0.6,1  l-3.7-2.2V906.6z"/>
      <path xmlns="http://www.w3.org/2000/svg" id="icon-save" d="M5.5,969.5h9V965h-9V969.5z M16,969.5h1.5V959c0-0.1,0-0.3-0.1-0.5s-0.2-0.3-0.2-0.4l-3.3-3.3  c-0.1-0.1-0.2-0.2-0.4-0.2s-0.3-0.1-0.5-0.1v4.9c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3H5.1c-0.3,0-0.6-0.1-0.8-0.3  S4,959.7,4,959.4v-4.9H2.5v15H4v-4.9c0-0.3,0.1-0.6,0.3-0.8s0.5-0.3,0.8-0.3h9.8c0.3,0,0.6,0.1,0.8,0.3s0.3,0.5,0.3,0.8V969.5z   M11.5,958.6v-3.8c0-0.1,0-0.2-0.1-0.3s-0.2-0.1-0.3-0.1H8.9c-0.1,0-0.2,0-0.3,0.1s-0.1,0.2-0.1,0.3v3.8c0,0.1,0,0.2,0.1,0.3  s0.2,0.1,0.3,0.1h2.2c0.1,0,0.2,0,0.3-0.1S11.5,958.7,11.5,958.6z M19,959v10.9c0,0.3-0.1,0.6-0.3,0.8s-0.5,0.3-0.8,0.3H2.1  c-0.3,0-0.6-0.1-0.8-0.3S1,970.2,1,969.9v-15.8c0-0.3,0.1-0.6,0.3-0.8s0.5-0.3,0.8-0.3H13c0.3,0,0.7,0.1,1,0.2s0.7,0.3,0.9,0.6  l3.3,3.3c0.2,0.2,0.4,0.5,0.6,0.9S19,958.7,19,959z"/>
      <path xmlns="http://www.w3.org/2000/svg" id="icon-check" d="M6.7,1018l10.8-10.8l1.4,1.4l-12.3,12.3l-5.7-5.7l1.4-1.5L6.7,1018z"/>
  </svg>
[/templates.add]

[templates.add dashboard]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 17 20 20" class="[template.token /] sprite-icon" >
    <use xlink:href="#icon-dashboard"></use>
  </svg>
[/templates.add]

[templates.add user-stories]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 68 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-user-stories"></use>
  </svg>
[/templates.add]

[templates.add tasks]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 120 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-tasks"></use>
  </svg>
[/templates.add]

[templates.add notes]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 173 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-notes"></use>
  </svg>
[/templates.add]

[templates.add add-new]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 224 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-add-new"></use>
  </svg>
[/templates.add]

[templates.add search]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 277 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-search"></use>
  </svg>
[/templates.add]

[templates.add filters]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 329 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-filters"></use>
  </svg>
[/templates.add]

[templates.add arrow-left]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 380 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-arrow-left"></use>
  </svg>
[/templates.add]

[templates.add arrow-right]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 432 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-arrow-right"></use>
  </svg>
[/templates.add]

[templates.add arrow-down]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 484 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-arrow-down"></use>
  </svg>
[/templates.add]

[templates.add calendar]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 537 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-calendar"></use>
  </svg>
[/templates.add]

[templates.add drop-down]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 588 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-drop-down"></use>
  </svg>
[/templates.add]

[templates.add drop-up]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 541 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-drop-up"></use>
  </svg>
[/templates.add]

[templates.add remove]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 692 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-remove"></use>
  </svg>
[/templates.add]

[templates.add close]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 744 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-close"></use>
  </svg>
[/templates.add]

[templates.add comment]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 796 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-comment"></use>
  </svg>
[/templates.add]

[templates.add text-formatting]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 848 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-text-formatting"></use>
  </svg>
[/templates.add]

[templates.add revision]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 900 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-revision"></use>
  </svg>
[/templates.add]

[templates.add save]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 952 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-save"></use>
  </svg>
[/templates.add]

[templates.add check]
	[aw2.get token set=template.token /]
  [template.set color="{module.color}" not_empty="{module.color}" /]
  [css.style]
  	.[template.token /].sprite-icon{
    		fill: @[template.color default="brand-black"/];
    }
  [/css.style]
	<svg viewBox="0 1004 20 20" class="[template.token /] sprite-icon">
    <use xlink:href="#icon-check"></use>
  </svg>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860532</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 06:45:19]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 06:45:19]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[icon]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[icons]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>card</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860533</link>
		<pubDate>Mon, 28 Oct 2019 07:24:27 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=858320</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add story_card]
	<div class="brand-white-bg is-relative box-shadow story-card height-100 is-flex flex-column justify-content-between">
    <div class="content-wrapper">
      <div class="font-size-smallest is-flex justify-content-between align-items-center br-bottom">
      	<div class="user-story-label pad-x-4">
          <label>Due Date:</label>  <span class="brand-fourth due-date is-inline-block"> 
            [template.get story_data.story_due_date date_format="d M Y" /]</span>
        </div>
        <div class="status-label">
          [query.get_term_by field=slug value='{template.story_data.story_status}' taxonomy=story_status set=template.result /]
          <span class="status-[aw2.get template.result.slug /] inline pad-x-2 pad-y-1 task-status text-uppercase">
              [aw2.get template.result.name /]
          </span>
        </div>
      </div>
      <div class="is-flex pad-4 tag-name">        	
          <div class="no-padding-left pad-x-4">
             
            <section role='responsible'>
            	<img src="[ui.avatar email='{template.story_data.story_assigned_to}' /]" class="br-50" alt="[template.get story_data.story_assigned_to/]" title="[template.get  story_data.story_assigned_to default='Not Assigned' /]" />
        		</section> 

          </div>
          <div class="story-brief">
              <h6 class="no-margin font-size-base">[template.get story_data.story_title m.stripslashes_deep=yes/]</h6>
              <p class="font-size-small gray no-margin">
               [php.preg_replace p1="/\\\\/" p2=""  p3="{template.story_data.story_description words='20'}" /]
              </p>
              [if.not_empty template.story_data.story_tags]
                  <div class="font-size-smallest tags mar-t-4">
                      [loop.@tag  template.story_data.story_tags.comma]
                          <a href="[app.path /]/user-stories?tag=[aw2.get @tag.item /]" story_id="[template.get story_data.story_id /]" bind="click" route_ajax='user-stories/?tag=[aw2.get @tag.item /]' control='main' axn='page.update' class="gray-light is-inline-block mar-b-1 mar-x-1 no-margin-left">
                          <span class="br br-5 pointer pad-x-2 pad-y-1">[aw2.get @tag.item /]</span>
                          </a>
                      [/loop.@tag]
                  </div>
              [/if.not_empty]
          </div>
      </div>
    </div>
    <div class="br-top pad-x-5 pad-y-1 font-size-smallest user-story-label">
      <label>Total Tasks: </label><span class="font-bold">
        [template.get story_data.total /]</span>
      <label>Completed: </label><span class="brand-success font-bold"> 
        [template.get story_data.signed-off /]</span>
      <label>WIP: </label><span class="brand-warning font-bold">
        [template.get story_data.work-in-progress /]</span>
      <label>Feedback: </label><span class="brand-sixth font-bold">
        [template.get story_data.feedback /]</span>
      </div>
    	<a href="[app.path /]/user-story/[template.get story_data.story_id /]" 
      	 story_id="[template.get story_data.story_id /]" bind="click" 
         route_ajax='user-story/[template.get story_data.story_id /]' 
         document_title="[template.get story_data.story_title /] - Plot"
         control='main' axn='page.update' class="anchor-absolute"></a>
  </div>
[/templates.add]
[templates.add dashboard_story_card]
	<div class="dashboard-story-card brand-white-bg is-relative box-shadow story-card height-100 is-flex flex-column justify-content-between">
    <div class="content-wrapper">
      <div class="font-size-smallest is-flex justify-content-between align-items-center br-bottom">
        <div class="pad-x-4">
          <label class="font-regular gray no-margin-bottom">Due Date:</label>
          <span class="brand-fourth due-date is-inline-block"> [template.get story_data.story_due_date date_format="d M Y" /]</span>
        </div>
        <div class="status-label">
          [query.get_term_by field=slug value='{template.story_data.story_status}' taxonomy=story_status set=template.result /]
          <span class="status-[aw2.get template.result.slug /] inline pad-x-2 pad-y-1 task-status text-uppercase">
              [aw2.get template.result.name /]
          </span>
        </div>
      </div>
      <div class="pad-y-4 pad-x-4 ">     	
          <h6 class="font-size-base no-margin">[template.get story_data.story_title  m.stripslashes_deep=yes /]</h6>
          <p class="font-size-small gray">    
          [php.preg_replace p1="/\\\\/" p2=""  p3="{template.story_data.story_description words='20'}" /]
          </p>
      </div>
    </div>
    <div class="br-top pad-x-5 pad-y-1">
      [plot.task_status.get id="{template.story_data.story_id}" key="story" set="template.task_status" /]
        <div class="font-size-smallest user-story-label">
          <label>Total Tasks: </label><span class="font-bold">
          	[template.get task_status.total_task /]</span>
          <label>Completed: </label><span class="brand-success font-bold"> 
          	[template.get task_status.completed /]</span>
          <label>WIP:</label><span class="brand-warning font-bold">
          	[template.get task_status.wip /]</span>
          <label>Feedback:</label><span class="brand-sixth font-bold">
          	[template.get task_status.feedbacks /]</span>
        </div>
      </div>
    	<a href="[app.path /]/user-story/[template.get story_data.story_id /]" 
      	 story_id="[template.get story_data.story_id /]" bind="click" 
         route_ajax='user-story/[template.get story_data.story_id /]' 
         document_title="[template.get story_data.story_title /] - Plot"
         control='main' axn='page.update' class="anchor-absolute"></a>
  </div>
[/templates.add]

[templates.add story_revision_card]
    <section role="user_story">
    [template.set class="" /]
    [if.equal lhs="{template.story_data.story_status}" rhs="approved"]
    	[template.set class="brand-success" /]
    [/if.equal]
     <div class="row br pad-3 [template.get class /]">
      <!-- Img -->
      <div class="col-md-1">
         <section role="responsible">
            <img src="[plot.avatar email='{template.story_data.act_updated_by}' /]" class="br-50" alt="[template.get user_name /]" title="[template.get user_name /]" />  
         </section>
      </div>
      <!-- Title -->
      <div class="col-md-8">
            <a href="[app.path /]/story-compare/[template.get story_data.story_id /]" class="gray-darker" story_id="[template.get story_data.story_id /]" bind="click" route_ajax='story/[template.get story_data.story_id /]' control='main' axn='page.update'>[template.get story_data.story_title /]</a>
            <br>
            <small>[template.get user_name /]</small>
      </div>
      <!--Action links -->
      <div class="col-md-3">
            <a href="#" class="font-size-smaller gray js-due-date">
              [date.diff type="english" date_from="{story_data.created_datetime}" date_to="{aw2.get now}" set="difference" /]
              [php.explode p1=" " p2="{difference}" set="time_diff_exploded" /]
              [template.set time_diff="{time_diff_exploded.0} {time_diff_exploded.1}"  /]
              <span class="fa fa-time"></span>
              <span><small>[template.get time_diff /] ago</small></span>
            </a>
      </div>
    </div>
  </section>
[/templates.add]

[templates.add task_card]

	<div class="task-card brand-white-bg mar-b-7 is-relative box-shadow">
    <div class="font-size-smallest is-flex justify-content-between align-items-center br-bottom">
      	<div class="font-size-smallest pad-x-4">
        	<label class="font-regular gray no-margin-bottom">Due Date:</label>
        	<span class="brand-fourth due-date">[template.get task_data.task_due_date date_format="d M Y" /]</span>
        </div>
        <div class="status-label">
          [query.get_term_by field=slug value='{template.task_data.task_status}' taxonomy=task_status set=template.result /]
          <span class="status-[aw2.get template.result.slug /] inline pad-x-2 pad-y-1 task-status text-uppercase">
          	[aw2.get template.result.name /]
          </span>
        </div>
    </div>
    <div class="is-flex pad-y-4 pad-x-4 tag-name">        	
      <div class="no-padding-left pad-x-4">
        <section role='responsible'>
            <img src="[ui.avatar email='{template.task_data.task_assigned_to}' /]" class="br-50" alt="[template.get task_data.task_assigned_to/]" title="[template.get  task_data.task_assigned_to default='Not Assigned' /]" />
        </section>           
 		 </div>
     <div class="task-brief">
        <h6 class="font-size-base mar-b-1">[template.get task_data.task_title  m.stripslashes_deep=yes /]</h6>
        <p class="font-size-small no-margin">
          <span class="font-bold">User Story:</span> [template.get task_data.story_title  m.stripslashes_deep=yes /]
        </p>
        
				[if.not_empty template.task_data.task_tags]
          <div class="font-size-smallest tags mar-t-4">
            [loop.@tag  template.task_data.task_tags.comma]
                <a href="[app.path /]/tasks?task_tag=[aw2.get @tag.item /]" 
                	 story_id="[template.get story_data.story_id /]" bind="click" 
                   route_ajax='tasks/?task_tag=[aw2.get @tag.item /]' 
                   control='main' axn='page.update' class="gray-light is-inline-block mar-b-1 mar-x-1 no-margin-left">
                <span class="br br-5 pointer pad-x-2 pad-y-1">[aw2.get @tag.item /]</span>
                </a>
            [/loop.@tag]
          </div>
        [/if.not_empty]
      </div>
    </div>
    <a href="[app.path /]/task/[template.get task_data.task_id /]" 
    	 task_id="[template.get task_data.task_id /]" bind="click" 
       route_ajax='task/[template.get task_data.task_id /]' control='main' 
       document_title="[template.get task_data.task_title /] - Plot"
       axn='page.update' class="anchor-absolute"></a>
  </div>
[/templates.add]

[templates.add dashboard_task_card]
	<div class="dashboard-task-card brand-white-bg mar-b-7 is-relative box-shadow">
    <div class="font-size-smallest is-flex justify-content-between align-items-center br-bottom">
      	<div class="font-size-smallest pad-x-4">
        	<label class="font-regular gray no-margin-bottom">Due Date:</label>
        	<span class="brand-fourth due-date"> [template.get task_data.task_due_date date_format="d M Y" /]</span>
        </div>
        <div class="status-label">
          [query.get_term_by field=slug value='{template.task_data.task_status}' taxonomy=task_status 
          									 set=template.result /]
          <span class="status-[aw2.get template.result.slug /] inline pad-x-2 pad-y-1 task-status text-uppercase">
          	[aw2.get template.result.name /]
          </span>
        </div>
    </div>
    <div class="pad-y-4 pad-x-4">        	
      <h6 class="font-size-base mar-b-1">[template.get task_data.task_title  m.stripslashes_deep=yes /]</h6>
     
      [db.meta.select_meta_key_value_pair meta_table="plot" object_id="{template.task_data.story_id}" set="template.story_data" /]
      <p class="font-size-small notes-label no-margin">
        <span class="font-bold">User Story:</span> [template.get story_data.story_title  m.stripslashes_deep=yes /]
       
      </p>
    </div>
    <a href="[app.path /]/task/[template.get task_data.task_id /]" 
    	 task_id="[template.get task_data.task_id /]" bind="click" 
       route_ajax='task/[template.get task_data.task_id /]' control='main' 
       document_title="[template.get task_data.task_title /] - Plot"
       axn='page.update' class="anchor-absolute"></a>
  </div>
[/templates.add]

//** notes card start here **//
[templates.add notes_card]
		<div class="brand-white-bg is-relative box-shadow notes-card">
     	//** Notes status code start here **//	 	 
       <div class="font-size-smallest is-flex justify-content-between align-items-center br-bottom"> 	 	
          <div class="pad-x-4">
            <label class="no-margin-bottom font-light">Created On: </label>
            <span class="font-bold created-on-date is-inline-block"> [aw2.get template.note_data.note_created_datetime date_format="d M y" /]</span>
          </div>
           <div class="status-label">	 	 
           //** status is Implementation, Architecture, Development, Migration, Usage**//	 	 
           <span class="brand-info-bg brand-white notes-status inline pad-x-2 text-uppercase status-[template.note_data.note_type /]">[template.get note_data.note_type /]</span>
           </div>	 	 
       </div>
        //** Notes status code end here **//
        <div class="is-flex pad-4">         	
        	//** notes image code start here **//
          <div class="no-padding-left pad-x-4">              		
              <img src="[ui.avatar email='{template.note_data.note_created_by}' /]" height="40" width="40" class="br-50" alt="[template.get note_data.note_created_by /]" title="[template.get note_data.note_created_by /]" /> 
          </div>
          //** notes image code end here **//
          //** notes title code start here **//
          <div class="note-brief">
            	<h6 class="font-size-base mar-b-1">[aw2.get template.note_data.note_title  m.stripslashes_deep=yes /]</h6>
             	<p class="font-size-small notes-label no-margin">
                	<span class="font-bold">User Story:</span> [aw2.get template.note_data.user_story_title  m.stripslashes_deep=yes /]
             	</p>
             	<p class="font-size-small notes-label no-margin">
                	<span class="font-bold">Task:</span> [aw2.get template.note_data.task_title  m.stripslashes_deep=yes /]
             	</p>
         	</div>
          //** notes title code end here **//
        </div>
        //** created on bottom strip code start here **//
        <div class="br-top pad-y-1">
          <div class="font-size-smallest notes-label pad-x-4 text-right">
            <label class="no-margin-bottom font-light">Last updated on:</label>
            <span class="font-bold last-updated-date is-inline-block"> [aw2.get template.note_data.modified_on date_format="d M y H:i a" /]</span>
          </div>
        </div>
         //** created on bottom strip code end here **//
        <a href="[app.path /]/note/[aw2.get template.note_data.note_id /]" bind="click" 
        route_ajax='note/[aw2.get template.note_data.note_id /]' 
        document_title="[template.get note_data.note_title/] - Plot"
        axn='page.update' class="anchor-absolute">    
        </a>
    </div>
[/templates.add]

[templates.add simple_notes_card]
		<div class="brand-white-bg height-100 is-relative box-shadow notes-card">
     	//** Notes status code start here **//	 	 
       <div class="font-size-smallest is-flex justify-content-between align-items-center br-bottom"> 	 
       		<div class="pad-x-4">
            <label class="no-margin-bottom font-light">Created On: </label>
            <span class="font-bold created-on-date is-inline-block"> [aw2.get template.note_data.note_created_datetime date_format="d M y" /]</span>
          </div>
           <div class="status-label">	 	 
           //** status is Implementation, Architecture, Development, Migration, Usage**//	 	 
           <span class="brand-info-bg brand-white notes-status inline pad-x-2 text-uppercase status-[template.note_data.note_type /]">[template.get note_data.note_type /]</span>
           </div>	 	 
       </div>
        //** Notes status code end here **//
        <div class="is-flex pad-4">         	
        	//** notes image code start here **//
          <div class="no-padding-left pad-x-4">              		
              <img src="[ui.avatar email='{template.note_data.note_created_by}' /]" height="40" width="40" class="br-50" alt="[template.get note_data.note_created_by /]" title="[template.get note_data.note_created_by /]" /> 
          </div>
            <div>
            	<h6>[aw2.get template.note_data.note_title  m.stripslashes_deep=yes /]</h6>
         	</div>
         </div>
        //** created on bottom strip code start here **//
        <div class="br-top pad-y-1">
          [if.not_empty template.note_data.modified_on]
          <div class="font-size-smallest notes-label pad-x-4 text-right">
            <label class="no-margin-bottom font-light">Last updated on:</label>
            <span class="font-bold last-updated-date is-inline-block"> [aw2.get template.note_data.modified_on date_format="d M y H:i a" /]</span>
          </div>
          [/if.not_empty]
        </div>
         //** created on bottom strip code end here **//
        <a href="[app.path /]/note/[aw2.get template.note_data.note_id /]" bind="click"
        route_ajax='note/[aw2.get template.note_data.note_id /]'
         document_title="[template.get note_data.note_title/] - Plot"
        axn='page.update' class="anchor-absolute">    
        </a>
    </div>
[/templates.add]
//** notes card end here **//


[templates.add status-bar]
  <div class="font-size-smaller status-bar brand-white-bg">
      <ul class="status-count">

        <li class="li-all">
          <a href="#" axn='selector.update' bind="click" selector='[template.get update_selector /]' route_ajax='[template.get ajax_template /]' story_id='[template.get story_id /]' status_tab="yes" status="">All <span class="brand-info font-bold no-margin status-all">(0)</span></a>
        </li>

        [loop.@status template.status_results]
          <li class="li-[aw2.get @status.item.slug /]">
          <a href="#" axn='selector.update' bind="click" selector='[template.get update_selector /]' route_ajax='[template.get ajax_template /]' status_tab="yes" story_id='[template.get story_id /]' status="[aw2.get @status.item.slug /]">[aw2.get @status.item.name  m.stripslashes_deep=yes/] <span class="brand-info font-bold no-margin status-[aw2.get @status.item.slug /]">(0)</span></a>
          </li>
        [/loop.@status]       

      </ul>
  </div>
[/templates.add]

[templates.add status_script]
	<script type=spa/axn axn=core.run_script>
    	  	
      $("ul.status-count li").removeClass('active-status');

      [if.empty request.status_tab]   
      	$(".status-bar span").html("(0)");  
      [/if.empty] 
        
      [template.get status_count /]

      [if.not_empty request.status]
        $("li.li-[aw2.get request.status /]").addClass('active-status');
      [/if.not_empty]
      [if.empty request.status]
      	$("li.li-all").addClass('active-status');
      [/if.empty]

        $(".status-bar a").attr('assigned_to','[aw2.get request.assigned_to /]');  
        $(".status-bar a").attr('priority','[aw2.get request.priority /]');    
        $(".status-bar a").attr('task_tag','[aw2.get request.task_tag /]');

    </script>
[/templates.add]

[templates.add breadcrumbs]
	[if.empty template.crumbs]
    [template.set ack='' /]
  	[template.return ack /]
  [/if.empty]
  
  <div class="is-flex align-items-center font-size-smallest gray mar-b-4 breadcrumb">
    	
      [loop.@crumb template.crumbs]
      	[if.not_empty @crumb.item.url]
     	  <div class="mar-x-1 [if.true @crumb.first] no-margin-left [/if.true]">
         		<a href="[aw2.get @crumb.item.url /]" title="[aw2.get @crumb.item.title /]" bind="click" route_ajax='[aw2.get @crumb.item.route_ajax /]' control="main" axn="page.update" document_title="[aw2.get @crumb.item.title /]">[aw2.get @crumb.item.title /]</a>
        </div> 
        [/if.not_empty]
        [if.empty @crumb.item.url]
     	    <div class="gray-light mar-x-1 [if.true @crumb.first] no-margin-left [/if.true]">[aw2.get @crumb.item.title  m.stripslashes_deep=yes/]</div>
        [/if.empty]
        
        [if.true @crumb.between]
      		[plot.icon.arrow-right color="gray-light" /]
        [/if.true]
      
      [/loop.@crumb]
      
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860533</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 07:24:27]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 07:24:27]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[card]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[cards]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>note</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860534</link>
		<pubDate>Mon, 28 Oct 2019 15:24:50 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=858363</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add add]
	[template.set_array ack status="error" int_reason="task_id is not provided." reason="task_id is required." /]
  [template.return template.ack empty='{template.task_id}' /]
	
  [template.set_array ack status="error" int_reason="note_title is not provided." reason="title is required." /]
  [template.return template.ack empty='{template.note_title}' /]
	
  [template.set_array ack status="error" int_reason="note_type is not provided." reason="note_type is required." /]
  [template.return template.ack empty='{template.note_type}' /]
  
  [template.set task_meta_keys="story_id,task_title" /]
  [template.set userstory_meta_keys="story_title" /]
  
  [db.meta.select_meta_key_value_pair meta_table="plot" coll_id="{template.task_id}" set="template.task_meta" /]
  [db.meta.select_meta_key_value_pair meta_table="plot" object_id="{template.task_meta.story_id}" meta_keys="{template.userstory_meta_keys.comma}" set="template.story_meta" /]
  
  [template.set note_id="nt{unique_number}" /]

  [template.set_array meta_arr.new meta_key="note_id" meta_value="{template.note_id}" coll_type="note" /]
  [template.set_array meta_arr.new meta_key="task_id" meta_value="{template.task_id}" coll_type="note" /]
  [template.set_array meta_arr.new meta_key="user_story_id" meta_value="{template.task_meta.story_id}" coll_type="note" /]
  [template.set_array meta_arr.new meta_key="task_title" meta_value="{template.task_meta.task_title}" coll_type="note" /]
  [template.set_array meta_arr.new meta_key="user_story_title" meta_value="{template.story_meta.story_title}" coll_type="note" /]
  
  [template.set_array meta_arr.new meta_key="note_title" meta_value="{template.note_title}" coll_type="note" /]
  [template.set_array meta_arr.new meta_key="note_type" meta_value="{template.note_type}" coll_type="note" /]
  
  [date.create now date_format='Y-m-d H:i:s' set=template.current_dt /]
  [template.set_array meta_arr.new meta_key="note_created_by" meta_value="{current_user.user_email}" coll_type="note" /]
  [template.set_array meta_arr.new meta_key="note_created_datetime" meta_value="{template.current_dt}" coll_type="note" /]
  [template.set_array meta_arr.new meta_key="note_ip" meta_value="{ip}" coll_type="note" /]
  
  [db.meta.update_object_meta meta="{template.meta_arr}" meta_table="plot" object_id="{template.task_id}" coll_id='{template.note_id}' set='template.ack' /]

  [template.set ack=""/]
  [template.set_array ack status="success" int_reason="note added successfully!" note_id="{template.note_id}" /]
  [template.return template.ack /]
[/templates.add]

[templates.add update]
	[template.set_array ack status="error" int_reason="note_id is not provided." reason="note_id is required." /]
  [template.return template.ack empty='{template.note_id}' /]
  
  [db.meta.select_meta_key_value_pair meta_table="plot" coll_id="{template.note_id}" set="template.note_meta" /]
  [template.set_array ack status="error" int_reason="meta is not provided." reason="meta is required." /]
  [template.return template.ack empty='{template.meta}' /]
  
  [date.create now date_format='Y-m-d H:i:s' set=template.current_dt /]
  [template.set_array meta.new meta_key="modified_on" meta_value="{template.current_dt}" coll_type='note' /]
  [template.set_array meta.new meta_key="modified_by" meta_value="{current_user.user_login}" coll_type='note' /]
  [template.set_array meta.new meta_key="modified_by_label" meta_value="{current_user.display_name}" coll_type='note' /]

  [db.meta.update_object_meta meta="{template.meta}" meta_table="plot" object_id='{template.note_meta.task_id}' coll_id='{template.note_id}' set='template.ack' /]
	[template.return template.ack /]
[/templates.add]

[templates.add single]
  [db.meta.select_meta_key_value_pair meta_table="plot" coll_id="{template.note_id}" set="template.note_meta" /]
  [template.return template.note_meta /]
[/templates.add]

[templates.add list]
	[env.set note_type="{template.note_type}" /]
  [env.set search="{template.search}" /]
  
  [module.set_array query]
  [pagesize][template.pagesize default=20 /][/pagesize]
  [pageno][template.pageno default=1 /][/pageno]
  [query_count]yes[/query_count]
    [with]
       [sql]
        SELECT coll_id as data_id FROM plot WHERE  coll_type="note" AND meta_key="note_id"
        [if.not_empty template.task_id]
        	AND object_id="[template.get task_id /]" 
        [/if.not_empty]
       [/sql]
      [filter new]
        [sql raw]
           select [module.previous_query_no /].*, meta_value as created_datetime from [module.previous_query_no /] join plot on [module.previous_query_no /].data_id = plot.coll_id where  meta_key='note_created_datetime'
        [/sql]
      [/filter]
      [filter new not_empty="{{env.get note_type}}"]
        [sql raw]
            select [module.previous_query_no /].* from [module.previous_query_no /] join plot 
            ON [module.previous_query_no /].data_id = plot.coll_id and coll_type="note" 
            AND meta_key="note_type" 
            and meta_value = "[env.get note_type /]"
        [/sql]
      [/filter]  
      [filter new not_empty="{{env.get search}}"]
        [sql raw]
          select [module.previous_query_no /].* from plot join [module.previous_query_no /] on 
          [module.previous_query_no /].data_id=plot.coll_id and coll_type="note"
          where meta_key IN ("note_title","note_description") and meta_value LIKE '%[env.get search /]%' 
          group by data_id
        [/sql]
      [/filter] 
    [/with]
    [transform ref_id=data_id /]
       [meta new]
         [table]plot[/table]
         [meta_keys]story_id,task_id,note_id,note_title,task_title,user_story_title,note_created_datetime,modified_on,note_created_by,note_type[/meta_keys]
         [id_field]coll_id[/id_field]
       [/meta]
    [order]
      created_datetime DESC
    [/order]
  [/module.set_array]
  [db.meta_query query="{module.query}" set="template.get_tasks" /]
  [template.return template.get_tasks /]
[/templates.add]

[templates.add type_count]

  [query.get_results o.set='template.note_types']
    SELECT  
      count(1) AS total,
      sum(case when meta_value = 'architecture' then 1 else 0 end) AS architecture,
      sum(case when meta_value = 'implementation' then 1 else 0 end) AS implementation,
      sum(case when meta_value = 'development' then 1 else 0 end) AS development,
      sum(case when meta_value = 'usage' then 1 else 0 end) AS `usage`,
      sum(case when meta_value= 'migration' then 1 else 0 end) AS migration
    FROM plot
    where coll_type='note' and meta_key ='note_type' ;
  [/query.get_results]
	
  
  [template.return template.note_types.0 /]

[/templates.add]
]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860534</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 15:24:50]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 15:24:50]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[note]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[notes]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>heartbeat</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860535</link>
		<pubDate>Mon, 28 Oct 2019 16:27:59 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=858379</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add create_heartbeat]
	[template.set token='{request.token}' not_empty={request.token} /]
	[template.set_array ack status="error" int_reason="token not provided." reason="token is required." /]
  [template.return template.ack empty='{template.token}' /]
  [session_ticket.get {template.token} set='template.existing_token' /]
  [if.not_empty template.existing_token]
		[if.equal lhs='{template.existing_token.user_id}' rhs='{current_user.ID}']
      [template.set ack='' /]
      [template.set_array ack status='success' data={template.existing_token} int_reason="you are editing." reason="you are editing." /]
      [template.return template.ack /]
    [/if.equal]
		[if.not_equal lhs='{template.existing_token.user_id}' rhs='{current_user.ID}']
    	[php.strtotime p1='-40 seconds' set=template.plustimestap /]
      [php.date p1='Y-m-d H:i:s' p2='{template.plustimestap}' set='template.plustime' /]
    	[if.greater_equal lhs='{template.existing_token.last_accessed}' rhs='{template.plustime}']
        [template.set_array ack int_reason="{template.existing_token.user_name} is editing." reason="{template.existing_token.user_name} is editing." /]
        [template.set_array ack status='error' data={template.existing_token} /]
        [template.return template.ack /]
      [/if.greater_equal]
    [/if.not_equal]
  [/if.not_empty]
  
  [session_ticket.create {template.token} set=template.res /]  
  [session_ticket.set_activity {template.token} service='plot.heartbeat.tick' app='{app.slug}' set=template.res/]
    
  [session_ticket.set {template.token} field='user_id' value='{current_user.ID}' /]
  [session_ticket.set {template.token} field='user_name' value='{current_user.display_name}' /]
  [session_ticket.set {template.token} field='user_email' value='{current_user.user_email}' /]
  [session_ticket.set {template.token} field='token' value='{template.token}' /]
  
  [date.create set=template.date /]
  [session_ticket.set {template.token} field='last_accessed' value="{template.date date_format='Y-m-d H:i:s'}" /]
  
  [template.set ack='' /]
  [template.set_array ack status='success' data={template} /]
  [template.return template.ack /]
[/templates.add]

[templates.add tick]
	[if.equal lhs='{template.user_id}' rhs='{current_user.ID}']
	  [date.create set=template.date /]
  	[session_ticket.set {template.token} field='last_accessed' value="{template.date date_format='Y-m-d H:i:s'}" /]
  	[template.set_array ack status='success' data={template} /]
  [/if.equal]
  [if.else]
  	[template.set_array ack status='error' data={template} /]
  [/if.else]
  [template.return template.ack.json_encode /]
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860535</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 16:27:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 16:27:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[heartbeat]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>filter</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860536</link>
		<pubDate>Sat, 02 Nov 2019 07:25:08 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=858535</guid>
		<description></description>
		<content:encoded><![CDATA[//**
 * @auther DevD
**//

//** Element **//
[templates.add search_box]
	[form_control.text  label="Search" name="search" id="search" placeholder="Search" value="{template.search}" required="no" /]
[/templates.add]

//** Element **//
[templates.add get_assigned_to]
  [query.get_users set='template.users' /]
    [loop.@user template.users]
      [module.set_array users_array.new label="{@user.item.display_name}" value="{@user.item.data.user_email}" /] 
    [/loop.@user]
  [form_control.select  label="Assign To" name="assigned_to" id="assigned_to" options_array="{module.users_array}"  value="{template.email}" required="yes"  /]
[/templates.add]

[templates.add get_assigned_to_filter]
  [query.get_users set='template.users' /]
   [module.set_array users_array.new label="Anyone" value="" /]
    [loop.@user template.users]
      [module.set_array users_array.new label="{@user.item.display_name}" value="{@user.item.data.user_email}" /] 
    [/loop.@user]
  [form_control.select  label="Assign To" name="assigned_to" id="assigned_to" options_array="{module.users_array}"  value="{template.email}"  default_option='no'/]
[/templates.add]

//** Element **//
[templates.add get_task_status]
  [query.get_terms taxonomies="task_status" set="template.cat" hide_empty=0 /]

  [module.set_array task_status_array.new label="All" value="" /]
  [loop.@ctr template.cat]
    [module.set_array task_status_array.new label='{@ctr.item.name}' value='{@ctr.item.slug}' /] 
  [/loop.@ctr]

  [form_control.select  label="Task Status" id="task_status" options_array="{module.task_status_array}" value="{template.task_status}" default_option='no' required="{template.is_required}"/]
[/templates.add]

[templates.add get_story_status]
  [query.get_terms taxonomies="story_status" set="template.cat" hide_empty=0 /]

  [module.set_array story_status_array.new label="All" value="" /]
  [loop.@ctr template.cat]
    [module.set_array story_status_array.new label='{@ctr.item.name}' value='{@ctr.item.slug}' /] 
  [/loop.@ctr]

  [form_control.select label="Story Status" id="story_status"  options_array="{module.story_status_array}" value="{template.story_status}" 
  										 default_option='no' required="{template.is_required}"/]
[/templates.add]

//** Element **//
[templates.add get_task_due]
  [module.set_array due_arr.new label="All" value="all" /] 
  [module.set_array due_arr.new label="Today" value="today" /] 
  [module.set_array due_arr.new label="Tomorrow" value="tomorrow" /] 
  [module.set_array due_arr.new label="This Week" value="this_week" /]
  [module.set_array due_arr.new label="This Month" value="this_month" /]
  [module.set_array due_arr.new label="This Year" value="this_year" /]
  [form_control.select  label="Task Due" name="task_due" id="task_due" placeholder="Task Due" options_array="{module.due_arr}"  value="{template.task_due}" required="no" /]
[/templates.add]


//** Element **//
[templates.add get_task_sprint]
  [module.set_array sprint_arr.new label="All" value="all" /] 
  [module.set_array sprint_arr.new label="Current" value="current" /] 
  [module.set_array sprint_arr.new label="Previous" value="previous" /]
  [module.set_array sprint_arr.new label="Next" value="next" /]
  [module.set_array sprint_arr.new label="Done" value="done" /]
  [form_control.select  label="Sprint" name="task_sprint" id="task_sprint" placeholder="Sprint" options_array="{module.sprint_arr}"  value="{template.task_sprint}" required="no" /]
[/templates.add]


//** Element **//
[templates.add get_note_type]
  [form_control.select label="Note Type" id="note_type" taxonomy = "note_type" value="{template.note_type}" required="{template.is_required}" /]
[/templates.add]


//** Element **//
[templates.add get_tags]
  [query.get_terms taxonomies="task_tag" set="template.cat" hide_empty=0 /]

  [module.set_array task_tags_array.new label="Any Tag" value="" /]
  [loop.@ctr template.cat]
    [module.set_array task_tags_array.new label='{@ctr.item.name}' value='{@ctr.item.name}' /] 
  [/loop.@ctr]

  [form_control.select  label="Tags" id="task_tag" options_array="{module.task_tags_array}" value="{template.story_task_tags}" default_option='no'/]
[/templates.add]

[templates.add select_tags]

[form_control2.select_box value="{template.values.comma}" label="Tags" id="{template.id}"
													taxonomy="{template.taxonomy}" ajax_handler='plot.task.tags' tags="yes" multiple="yes" /]


[/templates.add]
]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860536</wp:post_id>
		<wp:post_date><![CDATA[2019-11-02 07:25:08]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-02 07:25:08]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[filter]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[filters]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>activity</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860537</link>
		<pubDate>Sun, 03 Nov 2019 13:17:22 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=858621</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add list]
  [template.set_array query]
  [pagesize]5000[/pagesize]
    [with]
       [sql]
        SELECT coll_id as data_id FROM plot_activities WHERE object_id="[template.get id /]" AND meta_key="activity_id"
       [/sql]
      [filter new]
        [sql raw]
           select q0.*, meta_value as created_datetime from q0 join plot_activities pa on q0.data_id = pa.coll_id where  meta_key='activity_datetime'
        [/sql]
      [/filter]
    [/with]
    [transform ref_id=data_id /] 
       [meta new]
         [table]plot_activities[/table]
         [meta_keys]object_id,activity_note,activity_user,activity_datetime[/meta_keys] 
         [id_field]coll_id[/id_field]
       [/meta]
    [order]
      created_datetime DESC
    [/order]
  [/template.set_array]    
  [db.meta_query query="{template.query}" set="template.activities" /]
  
  [template.return template.activities /]
[/templates.add]

[templates.add human_time]
  [php.current_time p1="timestamp" p2="1" set="template.current_time"  /]
  [php.human_time_diff p1="{{aw2.get template.time date_format='U'}}"  p2='{template.current_time}' set="template.re" /]
  [template.return template.re /]
[/templates.add]



[templates.add log]

  [date.create now date_format='Y-m-d H:i:s' empty="{template.activity_datetime}"  set=template.activity_datetime  /]
  [aw2.get current_user.user_email empty="{template.activity_user}" set=template.activity_user /]
  
  [template.set metas.activity_id='act{unique_number}' /]
  [template.set metas.activity_datetime="{template.activity_datetime}" /]
  [template.set metas.activity_user="{template.activity_user}" /] 

  [template.set meta_key='' /]
  [template.set meta_value='' /]

  [loop.@meta template.metas]
    [template.set_array meta_arr.new  meta_key="{@meta.key}"  meta_value="{@meta.item}" coll_type="{template.coll_type}" /]
  [/loop.@meta]

  [db.meta.update_object_meta meta_table="plot_activities"  meta="{template.meta_arr}" object_id="{template.object_id}" coll_id='{template.metas.activity_id}' set='template.ack'/]
	[template.return template.ack /]
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860537</wp:post_id>
		<wp:post_date><![CDATA[2019-11-03 13:17:22]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-03 13:17:22]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[activity]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[activities]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>send-mail</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=860538</link>
		<pubDate>Tue, 19 Nov 2019 15:41:04 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=plot_service&#038;p=859107</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add new_feedback]
   
   [template.set_array mail]
      [from name='{template.data.from_name}' email_id='{template.data.from_email}' /]
      [to email_id='{template.data.assigned_to}' /] 
      [subject](plot) - [php.get_bloginfo p1='name' /] - Activity on [template.get data.activity_title  m.stripslashes_deep=yes/] [/subject]
      [message]
       
       I just updated <em>[template.get data.activity_title  m.stripslashes_deep=yes/]</em> on plot. <br />
       For details please check the <a href="[template.get data.activity_url /]">[template.get data.activity_url /]</a>
  		 <br /> <br />
       thanks, <br />
       [template.get data.display_name /]
      [/message]
  [/template.set_array]      
  [notification_service.send email="{template.mail}" log ="yes"  /]
  
[/templates.add]

[templates.add new_task]
   
   [template.set_array mail]
      [from name='{template.data.from_name}' email_id='{template.data.from_email}' /]
      [to email_id='{template.data.assigned_to}' /] 
      [subject](Plot) - [php.get_bloginfo p1='name' /] - New Task -[template.get data.activity_title  m.stripslashes_deep=yes/][/subject]
      [message]
       
       I just assigned task <em>[template.get data.activity_title  m.stripslashes_deep=yes/]</em> to you. <br />
       For details please check the <a href="[template.get data.activity_url /]">[template.get data.activity_url /]</a>
  		 <br /> <br />
       thanks, <br />
       [template.get data.display_name /]
      [/message]
  [/template.set_array]      
  [notification_service.send email="{template.mail}" log ="yes"  /]

[/templates.add]

[templates.add new_user_story]
 
   [template.set_array mail]
      [from name='{template.data.from_name}' email_id='{template.data.from_email}' /]
      [to email_id='{template.data.assigned_to}' /] 
      [subject](Plot) - [php.get_bloginfo p1='name' /] - New User Story -[template.get data.activity_title  m.stripslashes_deep=yes/][/subject]
      [message]
       
       I just assigned user story <em>[template.get data.activity_title  m.stripslashes_deep=yes/]</em> to you. <br />
       For details please check the <a href="[template.get data.activity_url /]">[template.get data.activity_url /]</a>
  		 <br /> <br />
       thanks, <br />
       [template.get data.display_name /]
      [/message]
  [/template.set_array]      
  [notification_service.send email="{template.mail}" log ="yes"  /]

[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860538</wp:post_id>
		<wp:post_date><![CDATA[2019-11-19 15:41:04]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-19 15:41:04]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[send-mail]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>search-filter</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=861273</link>
		<pubDate>Sat, 07 Dec 2019 12:46:48 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://wpoets.com/?post_type=plot_service&#038;p=861273</guid>
		<description></description>
		<content:encoded><![CDATA[[query.get_users set="module.all_users"]
{}
[/query.get_users]
[loop.@user module.all_users]   
	[module.set_array users.new label='{@user.item.display_name}' value='{@user.item.user_email}'/]
[/loop.@user]

[module.set_array fields]
	  
  [users type='select' label = "Users" options="{module.users}" /]
  
  [select_period type = "select_period" label = "Select Period" /]
  [to_date type = "date" label = "To Date"/]
  [from_date type = "date" label = "From Date"/]
 
[/module.set_array]

[module.set column_type = "col-md-4" divider_after="3"/]

[templates.add main]
  
  [template.get args.meta_value set=module.values /]
  [template.get args.filters.section set=template.section/]
  [search_service.new_ticket args='{template.args}' set='module.ticket' /] 
  
  
  <h2 class="text-center">[template.get title/]</h2>
  <div class="row brand-white-bg mar-x-5 pad-5">
    <div class="gap-3"></div>
      <article role="search" id="search" class="col-md-12">
      <section role=form>
        <form id="search_form" class="search_form">
           [loop.@section template.section]
               [template.set html=""/]
               [module.set required_keys="{@section.item.required}" /]
               [templates.field_type keys ="{@section.item.keys}" settings="{@section.item}"  list="filter,search,period,series" contains="{@section.key}" set=template.html/]
              
                [templates.orderby keys = "{@section.item.keys}" settings="{@section.item}" cond="{@section.key}" equal="order" set=template.html/]  

                [templates.column keys = "{@section.item.keys}" settings="{@section.item}" cond="{@section.key}" equal="column" set=template.html/]

                [form_control.section id="{@section.key}" html="{template.html}" title="{@section.key}" open={@section.item.open} /] 
           [/loop.@section]
           <script type="spa/axn" axn="core.run_script">
            $('#search_form').on('submit',function(e){
            	spa.loader.show();
              spa.form.ajax({
                route_ajax: 't/[module.ticket /]',
                disable_selector: '.js-submit-job',
                block:{
                	event: e,
                  trigger: $(this)
                }
              }).then(function(){spa.loader.hide()});
            });
           </script>
           <div class="btns">
          		[search_service.handler-scripts handlers="{template.args.handlers}" auto_handler="{template.auto_handler}"/]  
          		[if.equal lhs={template.search_button} rhs="true" ]
          		  [templates.search_btn slug={template.slug}/]
          		[/if.equal]
           </div>
     
      	</form>
      </section>
      <script type="spa/axn" axn="core.run_script">        
        $('#search_form').on("click", ".btn-reset", function(){
	        document.getElementById("search_form").reset();
          $('#search_form select').each(function(){
            if($(this)[0].sumo){
              $(this)[0].sumo.unSelectAll();
            }else{
            	$(this).val(null).trigger("change");
            }
          });
          $('.flatpickr-input').val('');
          $('.form-btns-Search').click();
        });
      </script>

    	<section role=results></section>
    </article>
    <div class="gap-3"></div>
  </div>
[/templates.add]

 
//**Get the field type**//
[templates.add field_type]
 
  [template.get keys explode="," set=template.key_part/]  
  <div class="row">
  [template.set cnt=1/]
  [loop.@key_parts template.key_part]
    [aw2.get @key_parts.item.trim set = template.key /]
    [template.get settings.{template.key} set=template.param /] 
    [module.get fields.{template.key} set = template.dataset/] 
    
    <div class="[module.get column_type /]">
      [templates.field_render dataset = "{template.dataset}" key = "{template.key}" param="{template.param}"/]
    </div>
    
    [math.solve main="{template.cnt}+1" set=template.cnt/]
    
    [if.equal lhs="{template.cnt}" rhs="4"]
    	[template.set cnt=1/]
    	<div class="col-md-12"></div>
    [/if.equal]
    
  [/loop.@key_parts]
  </div>
[/templates.add]  

//**Render Field**//
[templates.add field_render]
  
  [module.set temp_required=""/]
   [module.set temp_required="yes" list="{module.required_keys}" contains="{template.key}"/]
  
  [module.get values.{template.key} set=template.val /]
  [template.set label = "" /]
  [template.return template.label empty = "{template.dataset.type}" /]
    
  [module.get fields.{template.key}.label set = template.label /]
   
   [aw2.switch]
    [aw2.case cond='{template.dataset.type}' equal='select']
      //**********When taxonomy is prsent***********//
      [if.not_empty template.dataset.taxonomy]
        [form_control.select id="{template.key}" label='{template.dataset.label}' taxonomy="{template.dataset.taxonomy}" multiple='{template.dataset.multiple}' search='{template.dataset.search}' term="{template.param}" value="{template.val}" required="{module.temp_required}" /]
      [/if.not_empty]
  		  
        
  	  //*************When options array is present****************//
	  [if.not_empty template.dataset.options]
        [form_control.select id="{template.key}" label='{template.dataset.label}' options_array='{template.dataset.options}' multiple='{template.dataset.multiple}' value="{template.val}" required="{module.temp_required}"/]
      [/if.not_empty]
      
    [/aw2.case]
   [aw2.case_else]
   
   [form_control.run {template.dataset.type} id="{template.key}" placeholder="{template.label}" label='{template.label}' options_array='{template.dataset.options}' option_type='{template.dataset.option_type}' required="{module.temp_required}" multiple='{template.dataset.multiple}' taxonomy='{template.dataset.taxonomy}' /] 

    [/aw2.case_else]
  [/aw2.switch]
  
[/templates.add]



//** order by fields  **//
[templates.add orderby]
  [template.get keys explode="," set=template.key_part/]  
  
  [loop.@key_part template.key_part]
    [aw2.get @key_part.item.trim set = template.key /]
    [template.set_array options.new label="{template.key}" value="{template.key}" /]
  [/loop.@key_part]
  
  <div class="row">  
    [loop.@ctr start=1 step=1 stop=3]
      [template.set default_val = ''/]
      <div class="[module.get column_type /]">
        [form_control.select id="order_{@ctr.index}"  label='Order {@ctr.index}' options_array='{template.options}' value="{template.default_val}" required="{module.temp_required}"/]
      </div>
    [/loop.@ctr]
  </div>
[/templates.add]  

[templates.add column]
  [template.get keys explode="," set=template.key_part/]  
  <div class="row"> 
  [loop.@key_part template.key_part]
    [aw2.get @key_part.item.trim set = template.key /]
    [module.get fields.{template.key}.label set=template.label /] 
    [module.get values.{template.key} set=template.val /]
    [templates.get_col coll_type = {@key_part.item} meta_table={template.settings.meta_table} set=template.query /]
      [if.not_empty template.query]
         <div class="[module.get column_type /]">
          [form_control.select id="{@key_part.item}" label='{template.label}' value="{template.val}" options_array="{template.query}" multiple='yes' value="{template.val}" required="{module.temp_required}"/]
        </div> 
      [/if.not_empty]
  [/loop.@key_part]
  </div>
[/templates.add] 

[templates.add get_col]
  [template.set arr=""/]
  
  //*****get column data from meta table, if empty, default is lapp_meta****//
  [template.set meta_table = 'plot' empty={template.meta_table}/]
  
  [query.get_results set=template.meta_keys]
  	SELECT DISTINCT(meta_key) as meta_key FROM [template.meta_table/] WHERE coll_type = '[template.coll_type/]'
  [/query.get_results]

  [loop.@meta template.meta_keys]
  	[module.get default_columns.meta.{@meta.item.meta_key}.label set=template.label/]
  	[module.get default_columns.meta.{@meta.item.meta_key}.coll_type set=template.this_coll_type/]
    [template.set_array arr.new label={template.label} value={@meta.item.meta_key} cond={template.this_coll_type} equal={template.coll_type} /]
  [/loop.@meta]

  
  [template.return template.arr/]
[/templates.add]  ]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>861273</wp:post_id>
		<wp:post_date><![CDATA[2019-12-07 12:46:48]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-12-07 12:46:48]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[search-filter]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>api</title>
		<link>https://wpoets.com/?post_type=plot_service&#038;p=861734</link>
		<pubDate>Sat, 28 Dec 2019 16:01:48 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://wpoets.com/?post_type=plot_service&#038;p=861734</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add get_tasks]

	[module.set_array query]
    [pagesize]1000[/pagesize]
    [pageno][template.get page /][/pageno]
    [query_count]yes[/query_count]
    [with]
       [sql]
        SELECT coll_id as data_id FROM plot WHERE coll_type="task" AND meta_key='task_id' and stamp >= "[env.get api_datetime /]"
       [/sql]
        [add_field new ]
          [sql raw]
           SELECT object_id as data_id FROM plot WHERE coll_type="task_feedback" AND meta_key ='task_feedback_id'  and stamp >= "[env.get api_datetime /]"
          [/sql]
      [/add_field] 
      [add_field new ]
          [sql raw]
            SELECT q0.*  from q0 Union select q1.* from q1
          [/sql]
      [/add_field]
      [filter new]
        [sql raw]
           select q2.*, meta_value as task_due_date from q2 join plot pa on q2.data_id = pa.coll_id where coll_type='task' and meta_key='task_due_date'
        [/sql]
      [/filter] 
      [filter new]
        [sql raw]
            select q3.*, sum(meta_value) as task_spent from q3 left join plot pa on q3.data_id = pa.object_id and coll_type='task_feedback' and meta_key='time_spent' group by q3.data_id
        [/sql]
      [/filter]
    [/with]
    [transform ref_id=data_id /]
    [meta new]
       [table]plot[/table]
     [meta_keys]story_id,task_id,task_title,task_due_date,task_status,task_assigned_to,task_priority,task_tags,task_created_by,created_datetime,estimated_time[/meta_keys] 
       [id_field]coll_id[/id_field]
    [/meta]
    [meta new]
        [sql raw]
            SELECT 'meta' AS type, bounded_data.data_id,'time_spent' as meta_key,bounded_data.task_spent as meta_value FROM bounded_data 
        [/sql]
    [/meta]
    [order]task_due_date DESC[/order]
	[/module.set_array]
	[db.meta_query query="{module.query}" set="template.rs"/]
  
  [template.return template.rs /]
[/templates.add]

[templates.add get_activities]

	[module.set_array query]
    [pagesize]1000[/pagesize]
    [pageno][template.get page /][/pageno]
    [query_count]no[/query_count]
    [with]
       [sql]
        SELECT coll_id as data_id FROM plot WHERE coll_type="task_feedback" AND meta_key ='task_feedback_id'  
        [if.not_empty template.api_datetime]
        and stamp >= "[template.api_datetime /]"
        [/if.not_empty]  
       [/sql]
      [filter new]
        [sql raw]
           SELECT [module.previous_query_no /].* FROM [module.previous_query_no /] join plot 
           ON [module.previous_query_no /].data_id = plot.coll_id and coll_type="task_feedback" AND meta_key ='time_spent' AND meta_value > 0 
        [/sql]
      [/filter] 

    [/with]
    [transform ref_id=data_id /]
    [meta new]
       [table]plot[/table]
     		[meta_keys]task_feedback_id,task_id,task_feedback_created_by,time_spent,task_feedback_created_datetime[/meta_keys] 
       [id_field]coll_id[/id_field]
    [/meta]
	[/module.set_array]
	[db.meta_query query="{module.query}" set="template.rs"/]
  
  [template.return template.rs /]
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>861734</wp:post_id>
		<wp:post_date><![CDATA[2019-12-28 16:01:48]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-12-28 16:01:48]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[api]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[plot_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
		<item>
		<title>Send</title>
		<link>http://nxt.wpoets.com/?post_type=notification_service&#038;p=558662</link>
		<pubDate>Wed, 10 Apr 2019 09:16:19 +0000</pubDate>
		<dc:creator><![CDATA[bhagyashree]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=notification_service&#038;p=558662</guid>
		<description></description>
		<content:encoded><![CDATA[//**Main template definition**//
[templates.add main]  
 	//**Set log, as we will use it in all the templates, default: yes**//
  	[module.set log = "yes" empty={module.log}/]
  	
  	//****When template_slug is available****//
  	[if.not_empty module.template_slug]
  		//**Set post_type, as we will use it in all the templates, default: mail_templates**//
  		[module.set template_post_type= {module.template_post_type} default = {env.settings.default_mail_templates_post_type} empty={module.template_post_type}/]
        
       	//****Get the field values from mail template post****//
    	[query.get_post post_slug='{module.template_slug}' post_type='{module.template_post_type}' set=module.fields/]
    [/if.not_empty]
    
  	//***Execute when email array is present***//
	  [templates.email not_empty={module.email} set=template.returnval/]  
    //**Execute when sms array is present**//
    [templates.sms not_empty={module.sms} set=template.returnval/]  
  	[template.return template.returnval/]
[/templates.add]


//**Template to send emails**//
[templates.add email]
    
    //**Setting up subject and message fields in email array**//
  	[module.set_array email subject = {module.fields.meta.subject.run} empty = {module.email.subject}/]
  	[module.set_array email message = {module.fields.parse_content.run} empty = {module.email.message} /]
    
    //****Default mail provider****//
  	[module.set_array email.provider id = "wpmail" empty = {module.email.provider.id} /]
    
    //**Setting provider api key from the settings when the api key is not passed in array**//
    [module.set_array email.provider key = {env.settings.send_grid_key} empty = {module.email.provider.key} /]
    
  	//**Setting up from email value if from email is not present in array**//
  	[module.set_array email.from email_id = {env.settings.from_email} empty={module.email.from.email_id} /]
  	[module.set_array email.reply_to email_id = {env.settings.from_email} empty={module.email.reply_to.email_id}/]
    [module.set_array email headers.new="Content-Type: text/html; charset=UTF-8" /]
   	[module.set_array email headers.new="Reply-To: {module.email.reply_to.name} <{module.email.reply_to.email_id}>" not_empty='{module.email.reply_to}' /]
    [module.set_array email headers.new="From: {module.email.from.name} <{module.email.from.email_id}>" not_empty='{module.email.from}' /]
    [module.set_array email headers.new="Cc: {module.email.cc.email_id}" not_empty='{module.email.cc.email_id}' /]
    [module.set_array email headers.new="Bcc: {module.email.bcc.email_id}" not_empty='{module.email.bcc.email_id}' /]
    
    //******temporary set for testing****//
    
    //**Validation of the data***//
    [templates.validation data={module.email} set=template.returnval/]
    
    //***Return when validation failed***//
    [template.return template.returnval not_empty={template.returnval}/]
    
    [this_collection.attachments.attach_file_path_wpmail 
    	email={module.email}
        object_id={module.notification_object_id}
        object_type={module.notification_object_type}
        cond={module.email.provider.id} 
        equal="wpmail"
        set=module.email /]
        
    [this_collection.attachments.add_attachment 
    	email={module.email}
        object_id={module.notification_object_id}
        object_type={module.notification_object_type}
        cond={module.email.provider.id} 
        equal="sendgrid"
        set=module.email /]   
    
    
    //**When provider is Wpmail**//
    [notify.wpmail email={module.email} 
    	log={module.log} 
        notification_object_type={module.notification_object_type}
        notification_object_id={module.notification_object_id} 
        cond={module.email.provider.id} 
        equal="wpmail" 
        set=template.returnval/]
        
    
  	//**When provider is Sendgrid**//
    [notify.sendgrid email={module.email} 
    	log={module.log} 
        notification_object_type={module.notification_object_type}
        notification_object_id={module.notification_object_id} 
        cond={module.email.provider.id} 
        equal="sendgrid" 
        set=template.returnval/]
        
 	[if.equal lhs={template.returnval} rhs="success"]
    	[template.set ack.status="success"/]
      	[template.set ack.int_reason="mail sent" /]
      	[template.set ack.reason="Mail Sent!"/]	
      	[template.return template.ack /]
    [/if.equal]
    
    [template.set ack.status="error"/]
    [template.set ack.int_reason="mail not sent" /]
    [template.set ack.reason="Mail not Sent!"/]	
    [template.return template.ack /]
 
[/templates.add]


//**Template to send sms**//
[templates.add sms]

    //****Setting up message field in sms array****//
    [module.set_array sms message = {module.fields.meta.sms.run} empty = {module.sms.message}  /]
    [module.set_array sms.provider id= {env.settings.sms-service-provider}  empty = {module.sms.provider.id} /]
    [module.set_array sms.provider key = {env.settings.sms-api-key}  empty = {module.sms.provider.key} /]
    
    //**Validation of the data***//
    [templates.validation data={module.sms} set=template.returnval/]
    
    //***Return when validation failed***//
    [template.return template.returnval not_empty={template.returnval}/]
    
    //****temp for testing****//
    [module.set_array sms.to mobile_number = ''/]

    //**When provider is kookoo**//
    [notify.kookoo sms="{module.sms}" 
    	log="{module.log}" 
        notification_object_type={module.notification_object_type}
        notification_object_id={module.notification_object_id} 
        cond={module.sms.provider.id} 
        equal="kookoo" 
        set=template.returnval/]
      
  	[if.equal lhs={template.returnval} rhs="success"]
    	[template.set ack.status="success"/]
      	[template.set ack.int_reason="sms sent" /]
      	[template.set ack.reason="SMS Sent!"/]	
    	[template.return template.ack /]
    [/if.equal]
    
    [template.set ack.status="error"/]
    [template.set ack.int_reason="sms not sent" /]
    [template.set ack.reason="SMS not Sent!"/]	
    [template.return template.ack /]
    
[/templates.add]

//***Validation***//
[templates.add validation]

	[if.not_empty module.email]
      //***When subject is empty***//
      [if.empty template.data.to.email_id]
          [template.set ack.status="error"/]
          [template.set ack.int_reason="to email_id is empty" /]
          [template.set ack.reason="To Email Id is required!"/]	
          [template.return template.ack /]
      [/if.empty]

      //***When subject is empty***//
      [if.empty template.data.subject]
          [template.set ack.status="error"/]
          [template.set ack.int_reason="subject is empty" /]
          [template.set ack.reason="Subject is required!"/]	
          [template.return template.ack /]
      [/if.empty]
    [/if.not_empty]

    //***When message is empty***//
    [if.empty template.data.message]
    	[template.set ack.status="error"/]
      	[template.set ack.int_reason="message is empty" /]
      	[template.set ack.reason="Message is required!"/]	
    	[template.return template.ack /]
    [/if.empty]
	
    //***When provider is empty***//
    [if.empty template.data.provider.id]
    	[template.set ack.status="error"/]
      	[template.set ack.int_reason="provider is empty" /]
      	[template.set ack.reason="Provider is required!"/]	
    	[template.return template.ack /]
    [/if.empty]
    
    //***When provider is not wpmail and provider key is empty***//
    [if.not_contains needle={template.data.provider.id} haystack="wpmail"]
    	[if.empty template.data.provider.key]
        	[template.set ack.status="error"/]
            [template.set ack.int_reason="apikey is empty" /]
            [template.set ack.reason="Provider key is required!"/]	
            [template.return template.ack /]
        [/if.empty]
    [/if.not_contains]
    
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>558662</wp:post_id>
		<wp:post_date><![CDATA[2019-04-10 09:16:19]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-04-10 09:16:19]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[send]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[notification_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[2]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>Attachments</title>
		<link>http://nxt.wpoets.com/?post_type=notification_service&#038;p=558664</link>
		<pubDate>Wed, 10 Apr 2019 09:16:49 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=notification_service&#038;p=558664</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				//****Adds attachment for the application****//
[templates.add add_attachment]
    //*****Check if object_id is present or not and object type is lapp or not*****//
    [if.empty template.object_id][/if.empty]
    [if.or cond={template.object_type} not_equal="lead"]
    	[template.return template.email/]
    [/if.or]
    //***define lapp id on modular level****//
    [module.set lead_id={template.object_id}/]
    //****Check if any attachment is present or not, if present than attach file path to array****//
    [templates.attach_file_path email={template.email} set=template.email/]
    //*****Return email array****//
    [template.return template.email/]
[/templates.add]

//****Finds attachment****//
[templates.add attach_file_path]
    //*****if attachment count is zero, then return****//
    [if.equal lhs={template.email.attachments.file.count} rhs="0"]
    	[template.return template.email/]
    [/if.equal]
    //*****loop through all the attachments****//
    [loop.@file template.email.attachments.file]
      [templates.fetch_path file_name={@file.item} set=template.file_path/]
      [php.wp_get_attachment_caption p1="{@file.item}" set="template.filename" /]
      [template.set_array email.attachments.file.{@file.counter} name="{template.filename}" path={template.file_path}/]
    [/loop.@file]
    //*****Return new array formed with file path******//
    [template.return template.email/]
[/templates.add]


[templates.add attach_file_path_wpmail]
    //*****if attachment count is zero, then return****//
    [if.equal lhs={template.email.attachments.file.count} rhs="0"]
    	[template.return template.email/]
    [/if.equal]
    //*****loop through all the attachments****//
    [loop.@file template.email.attachments.file]
        [php.get_attached_file p1="{@file.item}" set=template.file_path /]
        [template.set email.attachments.file={template.file_path}/]
    [/loop.@file]
    
  	//*****loop through all the attachments paths****//
    [loop.@file template.email.attachments.file_path]
      [aw2.get @file.item set=template.file_path /]
      [template.set email.attachments.file_path={template.file_path} /]
    [/loop.@file]
    //*****Return new array formed with file path******//
    [template.return template.email/]
[/templates.add]


//****fetch file path stored against the lapp_id****//
[templates.add fetch_path]
	[ignore.debug]
      //***root directory**//
      [php.dirname p1="{server_variables.DOCUMENT_ROOT}" p2="1" set=template.temp_path/] 
      //***setting up the file upload path***//
      [template.set uploadpath="{template.temp_path}/uploads/{module.lead_id}" /]
      //****get the file path***//
      [php.glob p1="{template.uploadpath}/{template.file_name}" set=template.file_path /]
      //***updating file path***//
      [template.file_path.0 set=template.file_path/]
    [/ignore.debug]
    
    [php.get_attached_file p1="{template.file_name}" set=template.file_path /]
    //***return the file path***//
    [template.return template.file_path/]
[/templates.add]				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>558664</wp:post_id>
		<wp:post_date><![CDATA[2019-04-10 09:16:49]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-04-10 09:16:49]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[attachments]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[notification_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>sendmail</title>
		<link>http://nxt.wpoets.com/?post_type=notification_service&#038;p=859073</link>
		<pubDate>Fri, 15 Nov 2019 17:20:39 +0000</pubDate>
		<dc:creator><![CDATA[Amit]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=notification_service&#038;p=859073</guid>
		<description></description>
		<content:encoded><![CDATA[//**Main template definition**//
[templates.add main]  
 	//**Set log, as we will use it in all the templates, default: yes**//
  	[module.set log = "yes" empty={module.log}/]
  	

       	//****Get the field values from mail template post****//
    	[query.get_post post_slug='{module.template_slug}' post_type='{module.template_post_type}' set=module.fields/]
 
    
  	//***Execute when email array is present***//
	  [templates.email not_empty={module.email} set=template.returnval/]  
    //**Execute when sms array is present**//
    [templates.sms not_empty={module.sms} set=template.returnval/]  
  	[template.return template.returnval/]
[/templates.add]


//**Template to send emails**//
[templates.add email]
    
    //**Setting up subject and message fields in email array**//
  	[module.set_array email subject = {module.fields.meta.subject.run} empty = {module.email.subject}/]
  	[module.set_array email message = {module.fields.parse_content.run} empty = {module.email.message} /]
    
    //****Default mail provider****//
  	[module.set_array email.provider id = "wpmail" empty = {module.email.provider.id} /]
    
    //**Setting provider api key from the settings when the api key is not passed in array**//
    [module.set_array email.provider key = {env.settings.send_grid_key} empty = {module.email.provider.key} /]
    
  	//**Setting up from email value if from email is not present in array**//
  	[module.set_array email.from email_id = {env.settings.from_email} empty={module.email.from.email_id} /]
  	[module.set_array email.reply_to email_id = {env.settings.from_email} empty={module.email.reply_to.email_id}/]
    [module.set_array email headers.new="Content-Type: text/html; charset=UTF-8" /]
   	[module.set_array email headers.new="Reply-To: {module.email.reply_to.name} <{module.email.reply_to.email_id}>" not_empty='{module.email.reply_to}' /]
    [module.set_array email headers.new="From: {module.email.from.name} <{module.email.from.email_id}>" not_empty='{module.email.from}' /]
    [module.set_array email headers.new="Cc: {module.email.cc.email_id}" not_empty='{module.email.cc.email_id}' /]
    [module.set_array email headers.new="Bcc: {module.email.bcc.email_id}" not_empty='{module.email.bcc.email_id}' /]
    
    //******temporary set for testing****//
    
    //**Validation of the data***//
    [templates.validation data={module.email} set=template.returnval/]
    
    //***Return when validation failed***//
    [template.return template.returnval not_empty={template.returnval}/]
    
    [this_collection.attachments.attach_file_path_wpmail 
    	email={module.email}
        object_id={module.notification_object_id}
        object_type={module.notification_object_type}
        cond={module.email.provider.id} 
        equal="wpmail"
        set=module.email /]
        
    [this_collection.attachments.add_attachment 
    	email={module.email}
        object_id={module.notification_object_id}
        object_type={module.notification_object_type}
        cond={module.email.provider.id} 
        equal="sendgrid"
        set=module.email /]   
    
    
    //**When provider is Wpmail**//
    [notify.wpmail email={module.email} 
    	log={module.log} 
        notification_object_type={module.notification_object_type}
        notification_object_id={module.notification_object_id} 
        cond={module.email.provider.id} 
        equal="wpmail" 
        set=template.returnval/]
        
    
  	//**When provider is Sendgrid**//
    [notify.sendgrid email={module.email} 
    	log={module.log} 
        notification_object_type={module.notification_object_type}
        notification_object_id={module.notification_object_id} 
        cond={module.email.provider.id} 
        equal="sendgrid" 
        set=template.returnval/]
        
 	[if.equal lhs={template.returnval} rhs="success"]
    	[template.set ack.status="success"/]
      	[template.set ack.int_reason="mail sent" /]
      	[template.set ack.reason="Mail Sent!"/]	
      	[template.return template.ack /]
    [/if.equal]
    
    [template.set ack.status="error"/]
    [template.set ack.int_reason="mail not sent" /]
    [template.set ack.reason="Mail not Sent!"/]	
    [template.return template.ack /]
 
[/templates.add]

//***Validation***//
[templates.add validation]

	[if.not_empty module.email]
      //***When subject is empty***//
      [if.empty template.data.to.email_id]
          [template.set ack.status="error"/]
          [template.set ack.int_reason="to email_id is empty" /]
          [template.set ack.reason="To Email Id is required!"/]	
          [template.return template.ack /]
      [/if.empty]

      //***When subject is empty***//
      [if.empty template.data.subject]
          [template.set ack.status="error"/]
          [template.set ack.int_reason="subject is empty" /]
          [template.set ack.reason="Subject is required!"/]	
          [template.return template.ack /]
      [/if.empty]
    [/if.not_empty]

    //***When message is empty***//
    [if.empty template.data.message]
    	[template.set ack.status="error"/]
      	[template.set ack.int_reason="message is empty" /]
      	[template.set ack.reason="Message is required!"/]	
    	[template.return template.ack /]
    [/if.empty]
	
    //***When provider is empty***//
    [if.empty template.data.provider.id]
    	[template.set ack.status="error"/]
      	[template.set ack.int_reason="provider is empty" /]
      	[template.set ack.reason="Provider is required!"/]	
    	[template.return template.ack /]
    [/if.empty]
    
    //***When provider is not wpmail and provider key is empty***//
    [if.not_contains needle={template.data.provider.id} haystack="wpmail"]
    	[if.empty template.data.provider.key]
        	[template.set ack.status="error"/]
            [template.set ack.int_reason="apikey is empty" /]
            [template.set ack.reason="Provider key is required!"/]	
            [template.return template.ack /]
        [/if.empty]
    [/if.not_contains]
    
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>859073</wp:post_id>
		<wp:post_date><![CDATA[2019-11-15 17:20:39]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-15 17:20:39]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[sendmail]]></wp:post_name>
		<wp:status><![CDATA[draft]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[notification_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							</item>
		

		<item>
		<title>list-groups</title>
		<link>http://nxt.wpoets.com/?post_type=ui_service&#038;p=565913</link>
		<pubDate>Wed, 24 Apr 2019 08:42:12 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=ui_service&#038;p=565913</guid>
		<description></description>
		<content:encoded><![CDATA[
				[templates.add listgroup] 
  [css.style]
  ul.list-group-outer li.br:last-child {
      border-bottom: 1px solid;
      border-bottom-color: #d9d9d9;
  }
  ul.list-group-outer li.br {
      border-bottom: 0;
  }
  [/css.style]
  <section role="content" data-matchheight="sameheight">
      <div class="list-group">    
        <div class="list-group-item list-group-item-action pad-2 brand-primary-bg brand-white active">[template.get title /]</div>  
        <ul class="list-group-outer no-list-style">
        [loop.@link template.links]
          <li class="list-group-item list-group-item-action pad-2 br  [aw2.get @link.item.class /]">
          <a href="[aw2.get @link.item.link /]" target="_blank" class="font-size-smaller" rel="noopener noreferrer">[aw2.get @link.item.label /]</a>
          [if.not_empty @link.item.lead_count]
          	<span class='font-size-small brand-primary'>([aw2.get @link.item.lead_count.math default=0 /])</span>
          [/if.not_empty]
          [if.user_can "develop_for_awesomeui"]
            [if.not_empty @link.item.m]
              <a href="[aw2.get php.site_url/]/wp-admin/edit.php?post_type=[aw2.get @link.item.m/]" target="_blank" class="pull-right badge pad-1" style="font-size:10px;" rel="noopener noreferrer">M</a>
            [/if.not_empty]    
            [if.not_empty @link.item.z]    
              <a href="[aw2.get @link.item.z /]" class=" pull-right badge pad-1" target="_blank" style="font-size:10px;" rel="noopener noreferrer">Z</a>
            [/if.not_empty]
          [/if.user_can]
          [if.not_empty {item.countclass}]
            <span class="badge [aw2.get @link.item.countclass /]"></span>
          [/if.not_empty]
          </li>    
        [/loop.@link] 
        </ul>
       [module.set links=""/]
      </div>
      <div class="gap-3"></div>
  </section> 
[/templates.add]		]]></content:encoded>
		<excerpt:encoded><![CDATA[
						]]></excerpt:encoded>
		<wp:post_id>565913</wp:post_id>
		<wp:post_date><![CDATA[2019-04-24 08:42:12]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-04-24 08:42:12]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[list-groups]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[ui_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>top-menu</title>
		<link>http://nxt.wpoets.com/?post_type=ui_service&#038;p=565921</link>
		<pubDate>Wed, 24 Apr 2019 08:46:54 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=ui_service&#038;p=565921</guid>
		<description></description>
		<content:encoded><![CDATA[
				 [templates.add main]
 <style>
    [css.less]
      .topmenu{
        .btn {
            margin: 3px;
            font-size: 14px !important;
            padding: 6px 12px;
            min-height: 0px;
            border-radius: 0px; 
        }
      }
      
      .dropdown-parent{
      	margin-bottom: 0px;
      }
      .dropdown-toggle{
      	margin-bottom: 0px;
      }
      
      .dropdown-menu{
      	margin-top: 0px;
      }
      
      .dropdown-parent:hover .dropdown-menu{
      	display: block !important;
      }
      
      .outline-inherit{
      	outline: inherit;
      }
    [/css.less]
 </style>

 
  <div class="text-center topmenu">
  
    [loop.@menu module.menu]
    [template.set target=""/]
    [template.set target="target='{@menu.item.target}'" not_empty="{@menu.item.target}"/]
    [template.set badge=""/]
    [template.set badge not_empty="{@menu.item.badge}"]<span class="badge">[aw2.get @menu.item.badge/]</span>[/template.set]
    
   
      [if.empty @menu.item.children]
         <a href="[aw2.get @menu.item.link /]" class="btn [aw2.get @menu.item.class /]" [template.target/]>
         	[aw2.get @menu.item.label /] [template.badge /]
         </a>
      [/if.empty]
      [if.else @menu.item.children]
        
                <label class="is-relative dropdown-parent no-padding outline-inherit" tabindex=0>
                    	<span class="[aw2.get @menu.item.class /] btn [aw2.get @menu.item.class /] gbtn dropdown-toggle">[aw2.get @menu.item.label /] [template.badge /]<i class="fa fa-chevron-down" aria-hidden="true"></i></span>
                    
                    <ul class="dropdown-menu ">
                    [loop.@child @menu.item.children]
                      [template.set target=""/]
                      [template.set target="target='{@child.item.target}'" not_empty="{@child.item.target}"/]
                      [template.set badge=""/]
                      [template.set badge not_empty="{@child.item.badge}"]
                      	<span class="badge">[aw2.get @child.item.badge/]</span>
                      [/template.set]
                      
                        <li class="[aw2.get @child.item.class /]">
                        	[if.not_empty @child.item.link]
                        	<a href="[aw2.get @child.item.link /]" [template.target/]>
                            	[aw2.get @child.item.label /] [template.badge /]
                            </a>
                           [/if.not_empty] 
                        </li>
                        
                    [/loop.@child] 
                </ul>
                
              </label>
         
      [/if.else]
    [/loop.@menu]
    </div>
[/templates.add]		]]></content:encoded>
		<excerpt:encoded><![CDATA[
						]]></excerpt:encoded>
		<wp:post_id>565921</wp:post_id>
		<wp:post_date><![CDATA[2019-04-24 08:46:54]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-04-24 08:46:54]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[top-menu]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[ui_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>outer-block</title>
		<link>http://nxt.wpoets.com/?post_type=ui_service&#038;p=566248</link>
		<pubDate>Thu, 25 Apr 2019 09:13:26 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=ui_service&#038;p=566248</guid>
		<description></description>
		<content:encoded><![CDATA[
				[templates.add main] 
    <h2 class="text-center">
    	[if.not_empty template.title]
        	[template.title /]
        [/if.not_empty]
        [if.else]
      		[module.title /]
        [/if.else]
    </h2>
    <div class="container brand-white-bg">
      <div class="gap-3"></div>  
        [if.not_empty template.html]
        	[template.html /]
        [/if.not_empty]
        [if.else]
      		[module.html /]
        [/if.else]
      <div class="gap-3"></div>
    </div>
[/templates.add]		]]></content:encoded>
		<excerpt:encoded><![CDATA[
						]]></excerpt:encoded>
		<wp:post_id>566248</wp:post_id>
		<wp:post_date><![CDATA[2019-04-25 09:13:26]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-04-25 09:13:26]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[outer-block]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[ui_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>Cards</title>
		<link>http://nxt.wpoets.com/?post_type=ui_service&#038;p=572867</link>
		<pubDate>Fri, 06 Sep 2019 11:00:22 +0000</pubDate>
		<dc:creator><![CDATA[sapna]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=ui_service&#038;p=572867</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add card-1]  
      	<div class="card-1 box-shadow pad-y-4 pad-x-5 height-100 brand-white-bg is-relative">     
          <h5 class="gray-dark font-semibold no-margin">[template.get args.title /]</h5>
          [if.not_empty template.args.desc ]
          	<div class="gap-3"></div>
          	<p class="regular gray-dark no-margin">[template.get args.desc /]</p>
            <div class="gap-6"></div>
            <p class="font-size-base font-medium brand-primary read-now">Read Now</p>
          [/if.not_empty]
    			<div class="gap-3"></div>      
          <a href="[template.get args.link /]" title="[template.get args.title /]" class="anchor-absolute"></a>
        </div>
[/templates.add]

[templates.add card-2]
	<div class="card-2">    
		<img src="[template.get args.image /]" alt="[template.get args.title /]" class="img-responsive" />
    <div class="gap-3"></div>
    <h5 class="gray-darker font-medium">[template.get args.title /]</h5>
    <p class="is-none is-sm-block">[template.get args.desc /]</p>  
  </div>
[/templates.add]
]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>572867</wp:post_id>
		<wp:post_date><![CDATA[2019-09-06 11:00:22]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-09-06 11:00:22]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[cards]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[ui_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[3]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>avatar</title>
		<link>http://nxt.wpoets.com/?post_type=ui_service&#038;p=858498</link>
		<pubDate>Fri, 01 Nov 2019 08:55:53 +0000</pubDate>
		<dc:creator><![CDATA[Amit]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=ui_service&#038;p=858498</guid>
		<description></description>
		<content:encoded><![CDATA[//**
 * Get avatar image url
 * @parameters   user email id
 * @return avatar image url
 * @auther  DevD
**//
[templates.add main]

  [php.substr p1="{module.email}" p2="0" p3="1" set="template.name_frist_later" /]
  [php.strtoupper p1="{template.name_frist_later}" set="template.name_frist_later" /]  
  [template.set avatar_default="https://dummyimage.com/40x40/cc331/fff/8&text={template.name_frist_later}" /]
  [template.set_array user_args size='40' default="{template.avatar_default}" /]  
  [php.get_avatar_url p1='{module.email}' p2='{template.user_args}' set='template.user_avatar' /]
  
  [template.return template.user_avatar /]
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>858498</wp:post_id>
		<wp:post_date><![CDATA[2019-11-01 08:55:53]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-01 08:55:53]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[avatar]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[ui_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							</item>
		
		
		<item>
		<title>text</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577100</link>
		<pubDate>Fri, 23 Aug 2019 07:21:37 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577100</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  <div class="[module.id /] [module.parent_class /] form-group">
      <div class="field-wrapper">
        <input
        	data-safe_id='[app.safe_id /]'
          type="text"
          class="form-control [module.in_class /]"
          placeholder="[module.label /]"
          value='[module.get value /]'  
          [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
          name="[module.id /]"
          [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]>
          <label>[module.label /]</label>
      </div>
      <p class='font-size-smallest mar-t-1 no-margin-bottom'>[module.tooltip /]</p>
      <p class="help-block"></p>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577100</wp:post_id>
		<wp:post_date><![CDATA[2019-08-23 07:21:37]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-23 07:21:37]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[text]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>email</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577154</link>
		<pubDate>Fri, 23 Aug 2019 10:24:46 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577154</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  <div class="[module.id /] [module.parent_class /] form-group">
      <div class="field-wrapper">
        <input
        	data-safe_id='[app.safe_id /]'
          type="email"
          name="[module.id /]"
          class="form-control [module.in_class /]"
          placeholder="[module.label /]"
          value='[module.get value /]'  
          [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
          [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]>
          <label>Email ID</label>
      </div>
      <p class="help-block"></p>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577154</wp:post_id>
		<wp:post_date><![CDATA[2019-08-23 10:24:46]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-23 10:24:46]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[email]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>Password</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577156</link>
		<pubDate>Fri, 23 Aug 2019 10:25:39 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577156</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  <div class="[module.id /] form-group">
    <div class="label-wrapper">
      <label class="field-label">[module.label /]</label>
    </div>
    <div class="field-wrapper">
      <input
      	type="password"
        name="[module.id /]"
        class="form-control [module.in_class /]"
        placeholder="[module.placeholder /]"
        [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
        [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]>
      <p class="help-block"></p>
    </div>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577156</wp:post_id>
		<wp:post_date><![CDATA[2019-08-23 10:25:39]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-23 10:25:39]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[password__trashed]]></wp:post_name>
		<wp:status><![CDATA[trash]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_trash_meta_status]]></wp:meta_key>
		<wp:meta_value><![CDATA[draft]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_trash_meta_time]]></wp:meta_key>
		<wp:meta_value><![CDATA[1566972620]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_desired_post_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[password]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>textarea</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577160</link>
		<pubDate>Fri, 23 Aug 2019 11:02:52 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577160</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  <div class="[module.id /] [module.parent_class /] form-group col-12">
    <div class="field-wrapper">
    	<textarea
        data-safe_id='[app.safe_id /]'
        name="[module.id /]"
        class="form-control [module.in_class /]"
        placeholder="[module.label /]"
        rows="[module.rows default='4' /]"
        [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
        [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]
      >[module.get value /]</textarea>
        <label>[module.label /]</label>
    </div>
    <p class="help-block"></p>
</div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577160</wp:post_id>
		<wp:post_date><![CDATA[2019-08-23 11:02:52]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-23 11:02:52]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[textarea]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>gender</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577162</link>
		<pubDate>Fri, 23 Aug 2019 10:30:04 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577162</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  <div class="[module.id /] form-group">
    <div class="label-wrapper">
      <label class="field-label">[module.label /]</label>
    </div>
    <div class="field-wrapper">
      <select
        class="form-control [module.in_class /]"
        name="[module.id /]"
        placeholder="[module.placeholder /]"
        [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
        [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]
      >
          <option value="">Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
      </select>
      <p class="help-block"></p>
    </div>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577162</wp:post_id>
		<wp:post_date><![CDATA[2019-08-23 10:30:04]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-23 10:30:04]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[gender__trashed]]></wp:post_name>
		<wp:status><![CDATA[trash]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_trash_meta_status]]></wp:meta_key>
		<wp:meta_value><![CDATA[draft]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_trash_meta_time]]></wp:meta_key>
		<wp:meta_value><![CDATA[1566972610]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_desired_post_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[gender]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>terms</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577164</link>
		<pubDate>Fri, 23 Aug 2019 10:32:28 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577164</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  <div class="[module.id /] form-group">
    <div class="label-wrapper">
      <label class="field-label"></label>
    </div>
    <div class="field-wrapper">
      <label><input type="checkbox" name="[module.id /]" value="yes" required> Accept Terms and conditions</label>
      <p class="help-block"></p>
    </div>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577164</wp:post_id>
		<wp:post_date><![CDATA[2019-08-23 10:32:28]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-23 10:32:28]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[terms]]></wp:post_name>
		<wp:status><![CDATA[draft]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>group</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577168</link>
		<pubDate>Fri, 23 Aug 2019 10:46:59 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577168</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	<div class="fields-group">
      <h2 class="font-bold font-size-largest group-title">[module.data.label /]</h2>
      <div class="gap-2"></div>
      <div class="row">
        [loop.@field @gr.item.field]
          [form_control2.run {@field.item.type} id={@field.key}
            label="{@field.item.label}"
            parent_class="{@field.item.parent_class}"
            in_class="{@field.item.in_class}"
            placeholder="{@field.item.placeholder}"
            value={@field.item.value}
            taxonomy={@field.item.taxonomy}
            term={@field.item.term}
            options={@field.item.options}
            user-role={@field.item.user-role}
            posttype={@field.item.post_type}
            args={@field.item.args}
            tooltip={@field.item.tooltip}
            upload_label={@field.item.upload_label}
            multiple={@field.item.multiple}
            required={@field.item.required}
            readonly={@field.item.readonly}
          /]
        [/loop.@field]
      </div>
      <div class="gap-4"></div>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577168</wp:post_id>
		<wp:post_date><![CDATA[2019-08-23 10:46:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-23 10:46:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[group]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>file_upload</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577182</link>
		<pubDate>Fri, 23 Aug 2019 11:05:45 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577182</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  <div class="[module.id /] [module.parent_class /] form-group col-12">
    <label class="font-semibold">[module.label /]</label>
        <input
          data-safe_id='[app.safe_id /]'
        	type="file"
          id="[module.id /]"
          name="[module.id /]"
          class="[module.in_class /] form-control"
        	[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
          [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]
        >
    <p class="brand-danger font-size-smallest text-left [module.id /]_error help-block"></p>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577182</wp:post_id>
		<wp:post_date><![CDATA[2019-08-23 11:05:45]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-23 11:05:45]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[file_upload]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>date</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577324</link>
		<pubDate>Mon, 26 Aug 2019 09:09:15 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577324</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[aw2.get token set=template.token /]
  <div class="[template.token /] [module.parent_class /] form-group">
      <div class="field-wrapper">
        <input
          data-safe_id='[app.safe_id /]'
          type="date"
          name="[module.id /]"
          class="form-control [module.in_class /]"
          placeholder="[module.label /]"
          value='[module.get value /]'  
          [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
          [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]>
          <label>[module.label /]</label>
      </div>
      <p class="help-block"></p>
  </div>
  <script data-safe_id='[app.safe_id /]' type="spa/axn" axn="core.run_script" cdn_js_files="flatpickr/4.5.0/flatpickr.min.js" cdn_css_files="flatpickr/4.5.0/flatpickr.min.css">
  
     flatpickr(".[template.token /] input", {
        enableTime: false,
        minDate: "today",
        dateFormat: "d-m-Y",
        "locale": {
          "firstDayOfWeek": 1
        },
      "locale": {
          "firstDayOfWeek": 1 // start week on Monday
      }
        
      });
  </script>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577324</wp:post_id>
		<wp:post_date><![CDATA[2019-08-26 09:09:15]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-26 09:09:15]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[date]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>radio</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577329</link>
		<pubDate>Mon, 26 Aug 2019 09:10:11 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577329</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[aw2.get token set=template.token /]
  <div class="[template.token /] [module.parent_class /] form-group">
      <div class="radio-wrapper">
        <label class="radio-title">[module.label /]</label>
        <div class="radio-input-wrapper">
        	[if.empty module.options]
            [module.set options.new='Yes' /]
            [module.set options.new='No' /]
          [/if.empty]
        	[loop.@s module.options]
            <label><input type="radio" name="[module.id /]" value='[aw2.get @s.item /]' [if.true @s.first]checked[/if.true] data-safe_id='[app.safe_id /]'> [aw2.get @s.item /]</label>
          [/loop.@s]
        </div>    
      </div>
      <p class="help-block"></p>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577329</wp:post_id>
		<wp:post_date><![CDATA[2019-08-26 09:10:11]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-26 09:10:11]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[radio]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>time</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577440</link>
		<pubDate>Tue, 27 Aug 2019 09:18:50 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577440</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[aw2.get token set=template.token /]
  <div class="[template.token /] [module.parent_class /] form-group">
      <div class="field-wrapper">
        <input
          data-safe_id='[app.safe_id /]'
          type="date"
          name="[module.id /]"
          class="form-control [module.in_class /]"
          placeholder="[module.label /]"
          value='[module.get value /]'  
          [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
          [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]>
          <label>[module.label /]</label>
      </div>
      <p class="help-block"></p>
  </div>
  <script data-safe_id='[app.safe_id /]' type="spa/axn" axn="core.run_script">
  	$(".[template.token /] input").flatpickr({
        enableTime: true,
        noCalendar: true,
        dateFormat: "H:i",
    });
  </script>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577440</wp:post_id>
		<wp:post_date><![CDATA[2019-08-27 09:18:50]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-27 09:18:50]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[time]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>select</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=577446</link>
		<pubDate>Tue, 27 Aug 2019 09:30:58 +0000</pubDate>
		<dc:creator><![CDATA[prashant]]></dc:creator>
		<guid isPermaLink="false">http://dc.wordpoets.com/?post_type=form_control2&#038;p=577446</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[aw2.get token set=template.token /]
  <div class="[module.id /] [template.token /] [module.parent_class /] form-group">
      <div class="field-wrapper">
          <select
          		style='height: 54px'
              data-safe_id='[app.safe_id /]'
              name="[module.id /]"
              class="form-control [module.in_class /]"
              placeholder="[module.placeholder /]"
              [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
              [if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]
          >
            <option value="">Select [module.label /]</option>
            [loop.@s module.options]
            <option value="[aw2.get @s.item /]">[aw2.get @s.item /]</option>
            [/loop.@s]
          </select>
          <label>[module.label /]</label>    
      </div>
      <p class="help-block"></p>
  </div>
  <script data-safe_id='[app.safe_id /]' type="spa/axn" axn="core.run_script">
    if($(".[template.token /] select").val()!=""){
        $(".[template.token /] select").parent().addClass("selected");
    }
    else{
      $(".[template.token /] select").parent().removeClass("selected")
    }
  	$(".[template.token /] select").change(function(){
    		if($(this).val()!=""){
        		$(this).parent().addClass("selected");
        }
        else{
        	$(this).parent().removeClass("selected")
        }
    });
  </script>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>577446</wp:post_id>
		<wp:post_date><![CDATA[2019-08-27 09:30:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-08-27 09:30:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[select]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[4]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>select2</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=858837</link>
		<pubDate>Tue, 12 Nov 2019 17:02:58 +0000</pubDate>
		<dc:creator><![CDATA[Amit]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=form_control2&#038;p=858837</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]

	<div class="form-group [module.get id /]-parent visibility-hidden">
		[if.not_empty module.label]
		<div class='[module.get label_classes.space /]'>
			<label for="[module.get id /]">
			 [module.get label /]
			 [if.equal lhs="{module.required}" rhs="yes"]
			   <span class='text-danger'>*</span>
			 [/if.equal]
			</label>
		</div>
		[/if.not_empty]
    
    [module.set opt]
		  [if.not_equal lhs="{module.multiple}" rhs="yes"]
      	//**<option disabled selected value="" class='is-none'>[module.get default_option_text default="Nothing Selected" /]</option>**//
        <option></option>
			[/if.not_equal]
		[/module.set]
		<div class="[module.get control_classes.space /] width-100">
        	[module.set select_picker='{unique_number}' /]
			<select 
				id="[module.get id /]-[module.get select_picker /]" 
        data-safe_id='[app.safe_id /]'
				[if.equal lhs="{module.multiple}" rhs="yes"]
					name="[module.get id /][]"
				[/if.equal]
				[if.else]
					name="[module.get id /]"
				[/if.else]
				[if.equal lhs="{module.multiple}" rhs="yes"]multiple = 'multiple'[/if.equal]
				class="form-control selectpicker [aw2.get module.select_picker /] [aw2.get module.class /] select2-[module.get id /]"
				[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal] 
				[module.get attr_string/]
				placeholder="[module.get placeholder default='{module.label}'/]"
  		>
        [module.get opt cond="{module.default_option}" not_equal="no"/]
        [module.set group=""/]
        [loop.@ctr module.options_array]
          [if.not_empty @ctr.item.group]
            [if.not_equal lhs="{@ctr.item.group}" rhs="{module.group}"]
              [do.not_empty cond="{module.group}" not_equal=""]
               <optgroup />
              [/do.not_empty]
              <optgroup label="[aw2.get @ctr.item.group/]">
            [/if.not_equal] 
            [module.set pre][aw2.get @ctr.item.group/]:[/module.set] 
          [/if.not_empty]

          <option value="[aw2.get @ctr.item.value /]" [if.contains haystack="{module.value}" needle="{@ctr.item.value}"]selected[/if.contains] class="[aw2.get @ctr.item.class /]">[aw2.get @ctr.item.label default='{@ctr.item.name}'/]</option>

          [if.not_empty @ctr.item.group]
             [aw2.get @ctr.item.group set=module.group/]
              [if.true @ctr.last]</optgroup>[/if.true]
           [/if.not_empty]
        [/loop.@ctr]
    	</select>
		</div>
		<div class="help-block"></div>
    
    [template.set ajax_ticket='{token}' /]
    [template.set app_slug='{template.app_slug}' default='{app.slug}' /]
    [session_ticket.create main={template.ajax_ticket} time=40 set="template.tckt" /]
    [session_ticket.set_activity {template.ajax_ticket} service='{module.ajax-handler}' app='{template.app_slug}' /]
    
    
    
    <script type=spa/axn axn=core.run_script cdn_js_files='select2/4.0.12/js/select2.min.js'>
     	$('.selectpicker.[aw2.get module.select_picker /]').select2({
     		placeholder: "Select [module.label default='here..' /]",
        allowClear: true,
        [if.empty module.options_array]
          ajax: {
            url: '[php.site_url /]/t/[template.get ajax_ticket /]',
        		delay: 500,
            dataType: 'json',
            cache: true,
            data: function (params) {
              return {
                key: '[module.get id /]',
                q: params.term,
                page: params.page,
                table:'[module.get table /]',
                coll_type:'[module.get coll_type /]',
                meta_key:'[module.get meta_key /]'
              }
            }
          }
          /*
            to remove the select group name after new ajax request.
            templateResult this parameter is only needed for hierarchical data.
            mension the key in haystack if you create custom handler in select2-ajax-handler in hierarchical manner	
          */
          [if.contains haystack='taxonomy_hierarchical' needle='{module.option_type}']
            ,
            templateResult: function(data) {
             if (typeof data.children != 'undefined') {
              $(".select2-results__group").each(function() {
               if (data.text == $(this).text()) {
                return data.text = '';
               }
              });
             }
             return data.text;
            }
          [/if.contains]
        [/if.empty]
      });
      [if.not_empty module.preselected]
      	[loop.@term module.preselected.comma]
        	[query.get_term_by taxonomy='{module.id}' field='slug' value='{@term.item}' set=template.term /]
          var newOption = new Option("[template.term.name /]", "[template.term.slug /]", true, true);
          $('.[aw2.get module.select_picker /]').append(newOption);
        [/loop.@term]
        $('.[aw2.get module.select_picker /]').trigger('change');
      [/if.not_empty]
      $('.[module.get id /]-parent').removeClass('visibility-hidden');
    </script>
    </div>
[/templates.add]  ]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>858837</wp:post_id>
		<wp:post_date><![CDATA[2019-11-12 17:02:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-12 17:02:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[select2]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>select_box</title>
		<link>http://nxt.wpoets.com/?post_type=form_control2&#038;p=858914</link>
		<pubDate>Thu, 14 Nov 2019 06:50:58 +0000</pubDate>
		<dc:creator><![CDATA[Amit]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=form_control2&#038;p=858914</guid>
		<description></description>
		<content:encoded><![CDATA[<div class="form-group row [module.get id /]-parent visibility-hidden">

  [if.not_empty module.label]
    <label for="[module.get id /]">
     [module.get label /]
     [if.equal lhs="{module.required}" rhs="yes"]
       <span class='text-danger'>*</span>
     [/if.equal]
    </label>
  [/if.not_empty]
  
  [module.set opt]
    [if.not_equal lhs="{module.multiple}" rhs="yes"]
      //**<option disabled selected value="" class='is-none'>[module.get default_option_text default="Nothing Selected" /]</option>**//
      <option></option>
    [/if.not_equal]
  [/module.set]
  
  <div class="[module.get control_classes.space /] width-100">
    [module.set select_picker='{unique_number}' /]
    <select 
      id="[module.get id /]-[module.get select_picker /]" 
      [if.equal lhs="{module.multiple}" rhs="yes"]
        name="[module.get id /][]"
      [/if.equal]
      [if.else]
        name="[module.get id /]"
      [/if.else]
      [if.equal lhs="{module.multiple}" rhs="yes"]multiple = 'multiple'[/if.equal]
      class="form-control selectpicker [aw2.get module.select_picker /] [aw2.get module.class /] select2-[module.get id /]"
      [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal] 
      [module.get attr_string/]
      placeholder="[module.get placeholder default='{module.label}'/]"
    >
      [module.get opt cond="{module.default_option}" not_equal="no"/]
      [module.set group=""/]
      [loop.@ctr module.options_array]
        [if.not_empty @ctr.item.group]
          [if.not_equal lhs="{@ctr.item.group}" rhs="{module.group}"]
            [do.not_empty cond="{module.group}" not_equal=""]
             <optgroup />
            [/do.not_empty]
            <optgroup label="[aw2.get @ctr.item.group/]">
          [/if.not_equal] 
          [module.set pre][aw2.get @ctr.item.group/]:[/module.set] 
        [/if.not_empty]

        <option value="[aw2.get @ctr.item.value /]" [if.contains haystack="{module.value}" needle="{@ctr.item.value}"]selected[/if.contains] class="[aw2.get @ctr.item.class /]">[aw2.get @ctr.item.label default='{@ctr.item.name}'/]</option>

        [if.not_empty @ctr.item.group]
           [aw2.get @ctr.item.group set=module.group/]
            [if.true @ctr.last]</optgroup>[/if.true]
         [/if.not_empty]
      [/loop.@ctr]
    </select>
  </div>

  <div class="help-block"></div>

	[template.set ajax_ticket='{token}' /]
  [template.set app_slug='{template.app_slug}' default='{app.slug}' /]
  [session_ticket.create main={template.ajax_ticket} time=40 set="template.tckt" /]
  [session_ticket.set_activity {template.ajax_ticket} service='{module.ajax_handler}' app='{template.app_slug}' /]

  
  <script type=spa/axn axn=core.run_script cdn_js_files='select2/4.0.12/js/select2.min.js' cdn_css_files='select2/4.0.12/css/select2.min.css'>
     	$('.selectpicker.[aw2.get module.select_picker /]').select2({
     		placeholder: "Select [module.label default='here..' /]",
        allowClear: true,
        [if.yes module.tags]
        	tags:true,
        [/if.yes]
        [if.empty module.options_array]
          ajax: {
            url: '[php.site_url /]/t/[template.ajax_ticket /]',
        		delay: 500,
            dataType: 'json',
            cache: true,
            data: function (params) {
              return {
                key: '[module.get id /]',
                taxonomy: '[module.taxonomy /]',
                q: params.term,
                page: params.page
              }
            }
          }
          /*
            to remove the select group name after new ajax request.
            templateResult this parameter is only needed for hierarchical data.
            mension the key in haystack if you create custom handler in select2-ajax-handler in hierarchical manner	
          */
          [if.contains haystack='taxonomy_hierarchical' needle='{module.option_type}']
            ,
            templateResult: function(data) {
             if (typeof data.children != 'undefined') {
              $(".select2-results__group").each(function() {
               if (data.text == $(this).text()) {
                return data.text = '';
               }
              });
             }
             return data.text;
            }
          [/if.contains]
        [/if.empty]
      });
      
      [if.not_empty module.preselected]
      	[loop.@term module.preselected.comma]
        	[query.get_term_by taxonomy='{module.id}' field='slug' value='{@term.item}' set=template.term /]
          var newOption = new Option("[template.term.name /]", "[template.term.slug /]", true, true);
          $('.[aw2.get module.select_picker /]').append(newOption);
        [/loop.@term]
        $('.[aw2.get module.select_picker /]').trigger('change');
      [/if.not_empty]
      $('.[module.get id /]-parent').removeClass('visibility-hidden');
  </script>
	
</div>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>858914</wp:post_id>
		<wp:post_date><![CDATA[2019-11-14 06:50:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-14 06:50:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[select_box]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control2]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							</item>
		
		<item>
		<title>button</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=368</link>
		<pubDate>Wed, 14 Feb 2018 04:30:58 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=368</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				<button
type="[module.get type/]"
class="btn [module.get class default=' btn-primary btn-md'/]">[if.not_empty module.icon_class]<i class="fa [module.icon_class/]"></i>&nbsp;[/if.not_empty][module.get value/]
</button>				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>368</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[button]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>checkbox</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=369</link>
		<pubDate>Wed, 14 Feb 2018 04:30:58 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=369</guid>
		<description></description>
		<content:encoded><![CDATA[//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-12 input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  


[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set checkbox_type="mt-checkbox-inline" cond="{module.checkbox_type}" equal="inline"/]
[module.set outline="mt-checkbox-outline" cond="{module.outline}" equal="yes"/]

[module.set checkboxname][module.get id /][][/module.set]
[module.set checkboxname cond="{module.single}" equal="true"][module.get id /][/module.set]


	<div class="form-group">
		[if.not_empty module.label]
		<div class='[module.get label_classes.space /]'>
			<label for="[module.get id /]">[module.get label /]</label>
		</div>			
		[/if.not_empty]
		
		[if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
		<div class="[module.get checkbox_type default='mt-checkbox-list'/]">
			[loop.@option module.options_array]
			<label class="mt-checkbox  [module.get class/] [module.get outline default=''/] [if.contains haystack="{module.disabled}" needle="{@option.item.value}"]mt-checkbox-disabled[/if.contains]"> [aw2.get @option.item.label /]
				<input 
                	[if.empty @option.item.name]
					name="[module.checkboxname /]" 
                    [/if.empty]
                    [if.else]
                    name="[aw2.get @option.item.name/]"
                    [/if.else]
					value="[aw2.get @option.item.value /]" 
					type="checkbox" 
          id="[module.get id/]"
					class="[module.get class/]"
					[if.contains haystack="{module.value}" needle="{@option.item.value}"]checked[/if.contains]
					[if.contains haystack="{module.required}" needle="{@option.item.value}"]required=""[/if.contains]
					[aw2.get module.attr_string/]
				>
				<span class="[module.get class/]"></span>
			</label>
			[/loop.@option]
		</div>
		
		<div class="help-block"></div>
		
		[if.equal lhs='{module.args.form_type}' rhs='horizontal']</div>[/if.equal]
		
	</div>]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>369</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[checkbox]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>date</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=370</link>
		<pubDate>Wed, 14 Feb 2018 04:30:58 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=370</guid>
		<description></description>
		<content:encoded><![CDATA[				
				[module.set pickerid={token} /]

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]   

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  
[if.not_empty module.post]
	[module.get post.{module.post_field} set=module.value not_empty='{module.post_field}' /]
	[module.get post.meta.{module.meta_key} set=module.value not_empty='{module.meta_key}' /]
	[module.get post.taxonomy.slugs.{module.taxonomy}.comma set=module.value not_empty='{module.taxonomy}' /]
[/if.not_empty]

	<div class="form-group row">
    	[debug.ignore]
          <input type=hidden id='[module.id /]' name='[module.id/]'  value="[module.value date_format='Ymd'/]"  [module.attr_string/]/>
        [/debug.ignore]
        
		[if.not_empty module.label]
		<div class='[module.get label_classes.space /] col-12'>
			<label for="[module.id /]">[module.label /][if.equal rhs="{module.required}" lhs="yes"]<span class='text-danger'>*</span>[/if.equal] </label>
		</div>			
		[/if.not_empty]
		
		[if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
		
		<div class="input-group col-12 date no-padding [module.get control_classes.space /]" id="[module.get pickerid /]" name="[module.get pickerid /]">
			<input 
				type="[module.get input_type/]" 
				placeholder="[module.get placeholder default='{module.label}'/]" 
				class="form-control input-md getdate [module.get class /]" 
				value='[module.get value date_format="Y-m-d"/]'  
                name="[module.id/]"
                data-input
				[if.equal lhs="{module.required}" rhs="yes"]
                required 
                msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
                [/if.equal]/>
		</div>
		<div class="help-block"></div>
		[if.equal lhs='{module.args.form_type}' rhs='horizontal']</div>[/if.equal]
		</div>
  <script type=spa/axn axn=core.run_script 
					 css_files='https://cdn.getawesomestudio.com/lib/flatpickr/4.5.0/flatpickr.min.css' 
                     js_files='https://cdn.getawesomestudio.com/lib/flatpickr/4.5.0/flatpickr.min.js'>
     flatpickr(".getdate", {
     		altInput: true,
            altFormat: "Y-m-d"
     });
  </script> 

				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>370</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[date]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>email</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=371</link>
		<pubDate>Wed, 14 Feb 2018 04:30:58 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=371</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  

[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]

<div class="form-group row">
	[if.not_empty module.label]
	<div class='[module.get label_classes.space /]'>
		<label for="[module.get id /]">
		  [module.get label /]
		  [if.equal lhs="{module.required}" rhs="yes"]
		    <span class='text-danger'>*</span>
		  [/if.equal]
		</label>
	</div>			
	[/if.not_empty]
	
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']
	  <div class="[module.get col.space/]"> 
	[/if.equal] 
	<div class="[module.get control_classes.space /] input-field">
		[if.not_empty module.prepend_icon]
			<span class="input-group-addon">
				<i class="fa [module.get prepend_icon /]"></i>
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_inline_icon]
			<i class="fa [module.get prepend_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.append_inline_icon]
			<i class="fa [module.get append_inline_icon /]"></i>
		[/if.not_empty]
		
		<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="email" 
			placeholder="[module.get placeholder default='{module.label}'/]" 
			class="form-control input-md [aw2.get module.class /]" 
			value='[module.get value /]'  
			[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
			[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]				
			[module.get attr_string/] 
			msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
			msg-email="<i class='icon icon-warning'></i> [module.get label /] is not valid!"
		/>
		
		[if.not_empty module.append_icon]
			<span class="input-group-addon">
				<i class="fa [module.get append_icon /]"></i>
			</span>
		[/if.not_empty]
	</div>
	<i>[module.get help-block /]</i>
	<div class="help-block"></div>
		
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']
	   </div>
	  <div class="col-md-12"></div>
	[/if.equal]
	
</div>				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>371</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[email]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>group_select</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=372</link>
		<pubDate>Wed, 14 Feb 2018 04:30:58 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=372</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-12 input-group' cond='{module.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.new='control-label' cond='{module.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]

	<div class="form-group">
		[if.not_empty module.label]
		<div class='[module.get label_classes.space /]'>
			<label for="[module.get id /]">
			  [module.get label /][if.equal lhs="{module.required}" rhs="yes"]
			    <span class='text-danger'>*</span>
			  [/if.equal]
			</label>
		</div>			
		[/if.not_empty]
		
		[if.equal lhs='{module.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
		<div class="[module.get control_classes.space /]">
			<select 
				id="[module.get id /]" 
				[if.equal  lhs="{module.multiple}" rhs="yes"]
					name="[module.get id /][]"
				[/if.equal]
				[if.else]
					name="[module.get id /]"
				[/if.else]				
				[if.equal lhs="{module.multiple}" rhs="yes"]multiple[/if.equal]
				class="form-control selectpicker [module.get class /]"					
				[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal] 
				[module.get attr_string/]
				placeholder="[aw2.get module.placeholder default='{module.label}'/]" 
			>
			<option value="" selected>Select [module.get label/]</option>
			[loop.@opt module.options_array]	
				<option value="[aw2.get @opt.item.value /]" [if.contains haystack="{module.value}" needle="{@opt.item.value}"]selected[/if.contains]>[aw2.get @opt.item.label /]</option>
			[/loop.@opt]
			</select>
		</div>
		<div class="help-block"></div>
		
		[if.equal lhs='{module.form_type}' rhs='horizontal']</div>[/if.equal]
		
	</div>				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>372</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[group_select]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>hidden</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=373</link>
		<pubDate>Wed, 14 Feb 2018 04:30:58 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=373</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

	<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="hidden" 
			class="form-control input-md [module.get class /]" 
			value='[module.get value /]'  
			honeypot=""
			[module.get attr_string/] 
		/>
				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>373</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:58]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[hidden]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>label</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=374</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=374</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-12 input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  

[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

//****for hiding label when no value is present****//
[module.set hide_no_val = "false" empty={module.hide_no_val}/]

//*****to hide a label when no value is present****//
[if.empty module.value][/if.empty]
[if.and cond={module.hide_no_val} equal="true"]
	[module.set hide_class="hide"/]
[/if.and]

<div class="form-group [module.hide_class/] row">
      [if.not_empty module.label]
      <div class='[module.get label_classes.space /]'>
          <label for="[module.get id /]" class="no-margin">[module.get label /]</label>
      </div>			
      [/if.not_empty]

      [if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
      <div class="[module.get control_classes.space /] form-control-static">
          [if.empty module.href]
              [module.get value /]
          [/if.empty]
          [if.else]
              <a href="[module.href/][module.get value /]" target="_blank" rel="noopener noreferrer">
                  [module.get value /]
              </a>
          [/if.else]
      </div>
      <div class="help-block"></div>

      [if.equal lhs='{module.args.form_type}' rhs='horizontal']</div>
      <div class="col-md-12"></div>
      [/if.equal]
</div>
				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>374</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[label]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>number</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=375</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=375</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@attr module.attr][aw2.get @attr.key/]="[aw2.get @attr.item/]" $spacer [/loop.@attr]
[/module.set]
[php.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  

[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]
[module.set control_classes.new='input-group' not_empty='{module.addon_text}' /]

<div class="form-group">
	[if.not_empty module.label]
	<div class='[module.get label_classes.space /]'>
		<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
	</div>			
	[/if.not_empty]
	
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
	<div class="[module.get control_classes.space /] input-field">
		[if.not_empty module.prepend_icon]
			<span class="input-group-addon">
				<i class="fa [module.get prepend_icon /]"></i>
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_inline_icon]
			<i class="fa [module.get prepend_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.append_inline_icon]
			<i class="fa [module.get append_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.addon_text]
			<span class="input-group-addon">
				 [module.get addon_text /]
			</span>
		[/if.not_empty]
		
		<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="number" 
			placeholder="[module.get placeholder default='{module.label}'/]" 
			class="form-control input-md [module.get class /] number-only" 
			value='[module.get value /]'  
			[if.not_empty module.min]
			  min="[module.get min/]"
			  msg-min="<i class='icon icon-warning'></i> Please select a value that is no less than [module.get min /]."
			 [/if.not_empty]
			[if.not_empty module.max]
			  max="[module.get max/]"
			  msg-max="<i class='icon icon-warning'></i> Please select a value that is no more than [module.get max /]."
			[/if.not_empty]
			
			[if.equal lhs="{module.required}" rhs="yes"]
			  required	
			  msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
			[/if.equal]
			
			[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]		
				
			[module.get attr_string/] 
		/>
		
		[if.not_empty module.append_icon]
			<span class="input-group-addon">
				<i class="fa [module.get append_icon /]"></i>
			</span>
		[/if.not_empty]
	</div>
		<i class="info-block">[module.get help-block /]</i>
	<div class="help-block"></div>
	
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']</div>[/if.equal]
	
</div>
				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>375</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[number]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>otp</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=376</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=376</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				[templates.add main]
  [form_control.text id="mobile_number" label='Mobile Number' required=yes value="" attr="{module.attr}" args="{module.args}" addon_text = "+91"/]  
  
   <div class="form-group otpblock ">
   		<div class="[module.get args.bs3_label_class /] control-label">	
			<label for="mobile_verification_code">
				Mobile Verification Code<span class="brand-danger"> *</span>
			</label>
            </div>
			<div class="[module.get args.bs3_control_class /]">
				<button type="button" class="btn btn-primary btn-sm send_otp" axn='otp.send' bind=click route='[module.get generate_route /]' >Send OTP Code</button>
				<table>
				  <tr>
				    <td><input class="form-control hidden otp number" id="mobile_verification_code" name="mobile_verification_code" type="text" required style="width:100px;margin-right:10px;" placeholder="OTP"/></td>
				    <td><button type="button" class="btn btn-primary btn-sm verify_otp hidden"  axn='otp.verify' bind=click route='[module.get verify_route /]' style="margin-right:10px;">Verify</button><button type="button" class="btn btn-primary btn-sm resend_otp hidden" axn='otp.send' bind=click route='[module.get generate_route /]' >Resend</button></td>
				    
				  </tr>
				</table>

				<span class="help-block otpshow"></span>
			</div>
	 </div>
[/templates.add]   

				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>376</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[otp]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>password</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=377</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=377</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.loop.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-12 input-group' cond='{module.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]

[module.set label_classes.new='control-label' cond='{module.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]

<div class="form-group">
	[if.not_empty module.label]
	<div class='[module.get label_classes.space /]'>
		<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
	</div>			
	[/if.not_empty]
	
	[if.equal lhs='{module.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
	<div class="[module.get control_classes.space /]">
		[if.not_empty module.prepend_icon]
			<span class="input-group-addon">
				<i class="fa [module.get prepend_icon /]"></i>
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_inline_icon]
			<i class="fa [module.get prepend_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.append_inline_icon]
			<i class="fa [module.get append_inline_icon /]"></i>
		[/if.not_empty]
		
		<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="password" 
			placeholder="[module.get placeholder default='{module.label}'/]" 
			class="form-control input-md [aw2.get module.class /]" 
			value='[module.get value /]'  
			[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
			[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]		
			msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
			[module.get attr_string/] 
			
		/>
		
		[if.not_empty module.append_icon]
			<span class="input-group-addon">
				<i class="fa [module.get append_icon /]"></i>
			</span>
		[/if.not_empty]
	</div>
	<div class="help-block"></div>
	
	[if.equal rhs='{module.form_type}' rhs='horizontal']</div>[/if.equal]
	
</div>
				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>377</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[password]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>radio</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=378</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=378</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//** get taxonomy query  **//
[templates.add get_taxonomy_options]
  
  [template.set row /]
  [if.not_empty template.term]
    [query.get_term_by field="slug" value="{template.term}" taxonomy="{template.taxonomy}" set="template.current_parent" /]  
    [template.get current_parent.term_id set=template.parent /]
    [template.set_array row.new label='{template.current_parent.name}' value='{template.current_parent.slug}' class="parent" ignore=true/]
    [template.set group="{template.current_parent.name}"/]    
  [/if.not_empty]  
 

  [query.get_terms taxonomies="{template.taxonomy}" set="template.cat" hide_empty=0 exclude="{template.exclude}" empty="{template.parent}"/]


  [query.get_terms taxonomies="{template.taxonomy}" set="template.cat" hide_empty=0 parents="{template.parent}" not_empty="{template.parent}"/]
    
  [loop.@ctr template.cat]
    
    [aw2.get @ctr.item.parent set=template.current empty="{template.parent}"/]
    [aw2.get @ctr.item.term_id set=template.current not_empty="{template.parent}"/]
      
      [template.set_array row.new label='{@ctr.item.name}' value='{@ctr.item.slug}' class="parent" empty="{template.parent}" group="{template.group}"/]
  [/loop.@ctr] 

  [template.return template.row /]

[/templates.add]  

[templates.add get_query_options]
  [query.get_results set=template.rs]
    [template.get query /]
  [/query.get_results]
    
  [template.return template.rs /]
[/templates.add]  


//** set option array if taxonomy select needed **//
[templates.get_taxonomy_options set=module.options_array taxonomy="{module.taxonomy}" term="{module.term}" not_empty="{module.taxonomy}"/]



//** set option array if query passed **//
[templates.get_query_options set=module.options_array query="{module.query}"  not_empty="{module.query}"/]

//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[php.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]


[module.set label_classes.bs3='col-md-12 input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  

[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set radio_type="mt-radio-inline" cond="{module.radio_type}" equal="inline"/]
[module.set outline="mt-radio-outline" cond="{module.outline}" equal="yes"/]
	<div class="form-group">
		[if.not_empty module.label]
		<div class='[module.get label_classes.space /]'>
			<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
		</div>			
		[/if.not_empty]
		
		[if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
		<div class="[module.get control_classes.space /] [module.get radio_type default='mt-radio-list'/]">
			[loop.@option module.options_array]
              [if.not_empty @option.item.value]
                [if.true @option.first]
                  [module.set value="{@option.item.value}" not_empty="{module.value}" /]  
                [/if.true]


                <label class="mt-radio  [module.get class/] [module.get outline default=''/]"> [aw2.get @option.item.label /]
                    <input 
                        value="[aw2.get @option.item.value /]" 
                        name="[module.get id /]" 
                        type="radio" 
                        [if.contains haystack="{module.value}" needle="{@option.item.value}"]checked[/if.contains] 
                        [if.contains haystack="{module.disabled}" needle="{@option.item.value}"]disabled=""[/if.contains] 
                        [if.contains haystack="{module.required}" needle="{@option.item.value}"]required=""[/if.contains]
                        [module.get attr_string/]
                    />
                    <span></span>
                </label>
              [/if.not_empty]
			[/loop.@option]
		</div>
		
		<div class="help-block"></div>
		
		[if.equal lhs='{module.args.form_type}' rhs='horizontal']</div>
		  <div class="col-md-12"></div>
		[/if.equal]
		
	</div>				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>378</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[radio]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>section</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=379</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=379</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				[templates.add main]
	[module.get toggle default="yes" set=template.toggle/]
    [module.get icon_open default="icon-expand-less" set=template.icon_open /]
    [module.get icon_close default="icon-expand-more" set=template.icon_close /]
    [module.get title set=template.header /]
    [aw2.get token set=template.unique_id/]
    [module.get open default="yes" set=template.open/]
    [module.get id default="{token}" set=template.id /]
    
    [template.set default_icon=" {template.icon_open}" /]
    [template.set opposite_default_icon="{template.icon_close}" /]
    
    [template.set collapse_class="" /]
    [if.equal lhs="{template.open}" rhs="no"]
    	[template.set default_icon="{template.icon_open} {template.icon_close}" /]
        [template.set collapse_class="is-hidden" /]
    [/if.equal]
    
    [if.equal lhs="{template.toggle}" rhs="yes"]
    	[template.set header]
          <a role="button" class='[template.unique_id/]' href="#[template.unique_id/]">
            <i class="more-less [template.default_icon /] pull-right"></i>[module.title/]</a>
        [/template.set] 
    [/if.equal]
    
  <article role="group-details" id="[template.id/]" class="[module.class /]">
    [if.not_empty module.title]
      <header class="[template.unique_id/] heading cursor"><h3 class="text-capitalize">[template.header/]</h3></header>
    [/if.not_empty]
    <section role="content" class="[template.collapse_class/]" id="[template.unique_id/]">
      [module.html /]
    </section>
  </article>
  
    [if.equal lhs="{template.toggle}" rhs="yes"]
    	<script type=spa/axn axn='core.run_script'>
        $('.[template.unique_id/].heading').click(function(e){
          e.preventDefault();
          $('.[template.unique_id/] i').toggleClass('[template.opposite_default_icon /]');
          $('#[template.unique_id/]').toggle('blind', 400);
        });
       </script>
    [/if.equal]      
[/templates.add]  				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>379</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[section]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>select</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=380</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=380</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//** get taxonomy query  **//
[templates.add get_taxonomy_options]
  [template.set row /]
  [if.not_empty template.term]
    [query.get_term_by field="slug" value="{template.term}" taxonomy="{template.taxonomy}" set="template.current_parent" /]  
    [template.get current_parent.term_id set=template.parent /]
    [template.set group="{template.current_parent.name}"/]
  [/if.not_empty]  

  [query.get_terms taxonomies="{template.taxonomy}" set="template.cat" hide_empty=0 exclude="{template.exclude}" empty="{template.parent}"/]

  [query.get_terms taxonomies="{template.taxonomy}" set="template.cat" hide_empty=0 parents="{template.parent}" not_empty="{template.parent}"/]

  [template.set_raw childs]
    [loop.@ctr template.cat]
      [template.set_array row.new label='{@ctr.item.name}' value='{@ctr.item.slug}' class="child"  cond="{@ctr.item.parent}" equal="{template.current_id}" group="{template.group}"/]
    [/loop.@ctr] 
  [/template.set_raw]    
    
  [loop.@ctr template.cat]
    
    [aw2.get @ctr.item.parent set=template.current empty="{template.parent}"/]
    [aw2.get @ctr.item.term_id set=template.current not_empty="{template.parent}"/]
    [if.equal lhs="{template.current}" rhs="{template.parent defualt=0}"]   
      [aw2.get @ctr.item.term_id set=template.current_id /]
      
      [template.set_array row.new label='{@ctr.item.name}' value='{@ctr.item.slug}' class="parent" empty="{template.parent}" group="{template.group}"/]

      [code.run template.childs /]
    [/if.equal]  
    
  [/loop.@ctr]  
  [template.return template.row /]

[/templates.add]  

[templates.add get_query_options]

  [query.get_results set=template.rs]
    [template.get query /]
  [/query.get_results]
    
  [template.return template.rs /]
[/templates.add]  

[templates.add get_users_options]
	[query.get_users set="template.users"]
 	   {
       [if.not_equal lhs="{template.user_role}" rhs="all"]	
     			"role":"[template.get user_role /]"
       [/if.not_equal] 
     }
	[/query.get_users]	
    [loop.@ctr template.users]
    	[template.set_array row.new label='{@ctr.item.display_name}' value='{@ctr.item.user_login}' /]
    [/loop.@ctr]    
	[template.return template.row /]
[/templates.add]

[templates.add get_array_options]
	
  [loop.@options template.array_options]
    [template.set_array rs.new label="{@options.item}" value="{@options.key}" /] 
  [/loop.@options]
  
  [template.return template.rs /]
[/templates.add]

[template.set query not_empty="{module.posttype}"]
       	SELECT post_name as value,post_title as label FROM `wp_posts` where `post_type`="[module.get posttype /]" and post_status='publish'
       [/template.set]

[templates.get_users_options set=module.options_array user_role="{module.user-role}" not_empty="{module.user-role}"/]

//** set option array if taxonomy select needed **//
[templates.get_taxonomy_options set=module.options_array taxonomy="{module.taxonomy}" term="{module.term}" not_empty="{module.taxonomy}"/]

//** set option array if query passed **//
[templates.get_query_options set=module.options_array query="{module.query}"  not_empty="{module.query}"/]

[templates.get_query_options set=module.options_array query="{template.query}"  not_empty="{template.query}"/]


[templates.get_array_options set=module.options_array array_options="{template.array_options}"  not_empty="{template.array_options}"/]
[templates.get_array_options set=module.options_array array_options="{module.array_options}"  not_empty="{module.array_options}"/]


//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[php.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]
  
	<div class="form-group row [module.get id /]-parent visibility-hidden">
		[if.not_empty module.label]
		<div class='[module.get label_classes.space /] col-12 no-padding'>
			<label for="[module.get id /]">
			 [module.get label /]
			 [if.equal lhs="{module.required}" rhs="yes"]
			   <span class='text-danger'>*</span>
			 [/if.equal]
			</label>
		</div>			
		[/if.not_empty]
		
		[module.set opt]		
		  [if.not_equal lhs="{module.multiple}" rhs="yes"]
			<option disabled selected value="">[module.get default_option_text default="Nothing Selected" /]</option>
			[/if.not_equal]
		[/module.set]
	
		
		[if.equal lhs={module.args.form_type} rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
		
		<div class="[module.get control_classes.space /] width-100">
        	[module.set select_picker='{unique_number}' /]
			<select 
				id="[module.get id /]" 
				[if.equal lhs="{module.multiple}" rhs="yes"]
					name="[module.get id /][]"
				[/if.equal]
				[if.else]
					name="[module.get id /]"
				[/if.else]				
				[if.equal lhs="{module.multiple}" rhs="yes"]multiple[/if.equal]
				class="form-control selectpicker [aw2.get module.select_picker /] [aw2.get module.class /]"					
				[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal] 
				[module.get attr_string/]
				placeholder="[module.get placeholder default='{module.label}'/]" 
				msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"> 
			
		[module.get opt cond="{module.default_option}" not_equal="no"/]
		[module.set group=""/]
			[loop.@ctr module.options_array]
				[if.not_empty @ctr.item.group]
					[if.not_equal lhs="{@ctr.item.group}" rhs="{module.group}"]
					  [do.not_empty cond="{module.group}" not_equal=""]
						 </optgroup>
						[/do.not_empty]
						<optgroup label="[aw2.get @ctr.item.group/]">
					[/if.not_equal] 
				  [module.set pre][aw2.get @ctr.item.group/]:[/module.set] 
				[/if.not_empty]
				
				<option value="[aw2.get @ctr.item.value /]" [if.contains haystack="{module.value}" needle="{@ctr.item.value}"]selected[/if.contains] class="[aw2.get @ctr.item.class /]">[aw2.get @ctr.item.label default='{@ctr.item.name}'/]</option>
				
				[if.not_empty @ctr.item.group]			
					 [aw2.get @ctr.item.group set=module.group/]
				    [if.true @ctr.last]</optgroup>[/if.true]
				 [/if.not_empty]
		[/loop.@ctr]
			</select>
		</div>
		<div class="help-block"></div>
		
		[if.equal lhs='{module.args.form_type}' rhs='horizontal']
		 </div><div class="col-md-12"></div>
		[/if.equal]
       
		
    <script type=spa/axn axn=core.run_script js_files='https://cdn.getawesomestudio.com/lib/jquery.sumoselect/3.0.2/jquery.sumoselect.min.js'>
     $('.selectpicker.[aw2.get module.select_picker /]').SumoSelect({search: [module.search default=true /], searchText: 'Search Here'});
     $('.[module.get id /]-parent').removeClass('visibility-hidden');
    </script> 
  <style>.selectpicker .child{text-indent: 15px;}</style>
	</div>
				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>380</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[select]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>select_period</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=381</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=381</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-12 input-group' cond='{module.form_type}' equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.new='control-label' cond='{module.form_type}' equal='horizontal' /]


[module.set col.bs3='col-md-9' cond='{module.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]

//**Create options array**//
[module.set_array options_array.new value="day:today" label="Today" optgroup="Day"/]
[module.set_array options_array.new value="day:yesterday" label="Yesterday" optgroup="Day"/]
[module.set_array options_array.new value="day:2" label="2 Days Before" optgroup="Day"/]
[module.set_array options_array.new value="day:3" label="3 Days Before" optgroup="Day"/]
[module.set_array options_array.new value="day:4" label="4 Days Before" optgroup="Day"/]
[module.set_array options_array.new value="day:5" label="5 Days Before" optgroup="Day"/]
[module.set_array options_array.new value="day:6" label="6 Days Before" optgroup="Day"/]
[module.set_array options_array.new value="day:7" label="7 Days Before" optgroup="Day"/]

[module.set_array options_array.new value="days:7" label="Last 7 Days" optgroup="Days"/]
[module.set_array options_array.new value="days:14" label="Last 15 Days" optgroup="Days"/]
[module.set_array options_array.new value="days:30" label="Last 30 Days" optgroup="Days"/]
[module.set_array options_array.new value="days:60" label="Last 60 Days" optgroup="Days"/]
[module.set_array options_array.new value="days:90" label="Last 90 Days" optgroup="Days"/]

[module.set_array options_array.new value="month:this_month" label="This Month" optgroup="Month"/]
[module.set_array options_array.new value="month:last_month" label="Last Month" optgroup="Month"/]
[module.set_array options_array.new value="month:2" label="2 Month Before" optgroup="Month"/]
[module.set_array options_array.new value="month:3" label="3 Month Before" optgroup="Month"/]
[module.set_array options_array.new value="month:4" label="4 Month Before" optgroup="Month"/]
[module.set_array options_array.new value="month:5" label="5 Month Before" optgroup="Month"/]
[module.set_array options_array.new value="month:6" label="6 Month Before" optgroup="Month"/]
[module.set_array options_array.new value="month:7" label="7 Month Before" optgroup="Month"/]

[module.set_array options_array.new value="months:3" label="Last 3 Months" optgroup="Months"/]
[module.set_array options_array.new value="months:6" label="Last 6 Months" optgroup="Months"/]
[module.set_array options_array.new value="months:9" label="Last 9 Months" optgroup="Months"/]

[module.set_array options_array.new value="year:this_year" label="This Year" optgroup="Year"/]
[module.set_array options_array.new value="year:last_year" label="Last Year" optgroup="Year"/]


	<div class="form-group">
		[if.not_empty module.label]
		<div class='[aw2.get module.label_classes.space /]'>
			<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
		</div>			
		[/if.not_empty]
		[if.equal lhs='{module.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal]
        [module.set value={template.val} c.not_empty='template.val'/]
		<div class="[module.get control_classes.space /]">
			<select id="[module.get id /]" name="[module.get id /]" class="form-control selectpicker ">
				<option value="">Select Period</option>
				[loop.@ctr module.options_array]
                    [if.not_empty @ctr.item.optgroup]
                        [if.not_equal lhs="{@ctr.item.optgroup}" rhs="{module.optgroup}"]
                          [do.not_empty cond="{module.optgroup}" not_equal=""]
                             </optgroup>
                            [/do.not_empty]
                            <optgroup label="[aw2.get @ctr.item.optgroup/]">
                        [/if.not_equal] 
                      [module.set pre][aw2.get @ctr.item.optgroup/]:[/module.set] 
                    [/if.not_empty]
                        [module.set temp_opt_attr/]
                        [if.equal lhs="{module.optgroup}" rhs="yes"]
                            [module.set temp_opt_attr="disabled" cond="{@ctr.item.class}" equal="parent"/]
                        [/if.equal]
                    <option value="[aw2.get @ctr.item.value /]" [if.contains haystack="{module.value}" needle="{@ctr.item.value}"]selected[/if.contains] class="[aw2.get @ctr.item.class /]"  [module.temp_opt_attr /]  [if.contains haystack="{module.disabled}" needle="{@ctr.item.value}"] disabled[/if.contains]>[aw2.get @ctr.item.label default='{@ctr.item.name}'/]</option>

                    [if.not_empty @ctr.item.optgroup]			
                         [aw2.get @ctr.item.optgroup set=module.optgroup/]
                        [if.true @ctr.last]</optgroup>[/if.true]
                     [/if.not_empty]
            	[/loop.@ctr]
			</select>
		</div>
		<div class="help-block"></div>
		
		[if.equal lhs='{module.form_type}' rhs='horizontal']</div>[/if.equal]
		
	</div>
				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>381</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[select_period]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>text</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=382</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=382</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[php.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  

[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]
[module.set control_classes.new='input-group' not_empty='{module.addon_text}' /]
  
<div class="form-group row [module.get form-control-class /]">
	[if.not_empty module.label]
	<div class='[module.get label_classes.space /] col-12 no-padding'>
		<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
	</div>			
	[/if.not_empty]
	
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
	<div class="[module.get control_classes.space /] col-12 no-padding">
	  [if.not_empty module.addon_text]
			<span class="input-group-addon">
			 [module.get addon_text /]
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_icon]
			<span class="input-group-addon">
				<i class="fa [module.get prepend_icon /]"></i>
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_inline_icon]
			<i class="fa [module.get prepend_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.append_inline_icon]
			<i class="fa [module.get append_inline_icon /]"></i>
		[/if.not_empty]
		
		<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="text" 
			placeholder="[module.get placeholder default='{module.label}'/]" 
			class="form-control input-md [module.get class /]" 
			value='[module.get value /]'  
			[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
			[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]				
			[module.get attr_string/] 
			msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
		/>
		
		[if.not_empty module.append_icon]
			<span class="input-group-addon">
				<i class="fa [module.get append_icon /]"></i>
			</span>
		[/if.not_empty]
	</div>
	<i class="info-block">[module.get help-block /]</i>
	<div class="help-block"></div>
		
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']
	   </div>
	  <div class="col-md-12"></div>
	[/if.equal]
	
</div>				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>382</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[text]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>text_action</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=383</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=383</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[php.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-12 input-group' cond='{module.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]

[module.set label_classes.new='control-label' cond='{module.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]

<div class="form-group">
	[if.not_empty module.label]
	<div class='[module.get label_classes.space /]'>
		<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
	</div>			
	[/if.not_empty]
	
	[if.equal lhs='{module.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
	<div class="[module.control_classes.space /]">
		[if.not_empty module.prepend_icon]
			<span class="input-group-addon">
				<i class="fa [module.prepend_icon /]"></i>
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_inline_icon]
			<i class="fa [module.prepend_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.append_inline_icon]
			<i class="fa [module.append_inline_icon /]"></i>
		[/if.not_empty]

		<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="[module.get input_type default=text/]" 
			placeholder="[module.get placeholder default='{module.label}'/]" 
			class="form-control input-md [module.get class /]" 
			value='[module.get value /]'  
			[if.equal lhs={module.required} rhs="yes"]required[/if.equal]
			[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]				
			[module.get attr_string/] 
		/>
		<span class="input-group-btn">
        <button class="btn [module.get button_class default='btn-primary' /]" type="[module.get button_type default='button' /]">[module.get button_text /]</button>
    </span>
		[if.not_empty module.append_icon]
			<span class="input-group-addon">
				<i class="fa [module.get append_icon /]"></i>
			</span>
		[/if.not_empty]
	</div>
	<div class="help-block"></div>
	
	[if.equal lhs='{module.form_type}' rhs='horizontal']</div>[/if.equal]
	
</div>
				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>383</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[text_action]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>textarea</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=384</link>
		<pubDate>Wed, 14 Feb 2018 04:30:59 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=384</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[php.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-12 input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]

[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]
[module.set control_classes.new='input-group' not_empty='{module.addon_text}' /]


//************ Is there a Post *************************//
[if.not_empty module.post]
	[module.get post.{module.post_field} set=module.value not_empty='{module.post_field}' /]
	[module.get post.meta.{module.meta_key} set=module.value not_empty='{module.meta_key}' /]
	[module.get post.taxonomy.slugs.{module.taxonomy}.comma set=module.value not_empty='{module.taxonomy}' /]
[/if.not_empty]


	<div class="form-group [module.get form-control-class /]">
		[if.not_empty module.label]
		<div class='[module.get label_classes.space /] no-padding'>
			<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
		</div>			
		[/if.not_empty]
		
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
	<div class="[module.get control_classes.space /]">
						
			<textarea 
				id="[module.get id /]" 
				name="[module.get id /]"  
				placeholder="[module.get placeholder /]" 
				class="form-control input-md [module.get class /]" 
				[if.not_empty module.rows]rows="[module.get rows /]"[/if.not_empty]
                [if.not_empty module.cols]cols="[module.get cols /]"[/if.not_empty]
				[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
				[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]
				[module.get attr_string/] 
					msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
			>[module.get value /]</textarea>
			
		</div>
        
		<i class="info-block">[module.get help-block /]</i>
		<div class="help-block"></div>
		
		[if.equal lhs='{module.form_type}' rhs='horizontal']
        	</div>
            <div class="col-md-12"></div>
        [/if.equal]
		
	</div>				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>384</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:30:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:30:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[textarea]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>top-menu</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=385</link>
		<pubDate>Wed, 14 Feb 2018 04:31:00 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=385</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				 [templates.add main]
  
    [loop.@menu template.menu]
      [if.empty item.children]
         <a href="[aw2.get @menu.item.link /]" class="btn [aw2.get @menu.item.class /]" >[aw2.get @menu.item.label /]</a>
      [/if.empty]
      
      [if.not_empty @menu.item.children]
        
            <span class="btn-group">
                <a href="[aw2.get @menu.item.link /]" class="btn [aw2.get @menu.item.class /] gbtn">[aw2.get @menu.item.label /]</a>
                 <button type="button" class="btn [aw2.get @menu.item.class /] dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="caret"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                 </button>
                <ul class="dropdown-menu">
                    [loop.@child @menu.item.children]
                        <li><a href="[aw2.get @child.item.link /]">[aw2.get @child.item.label /]</a></li>
                    [/loop.@child] 
                </ul>
           </span>
         
      [/if.not_empty]
      
    [/loop.@menu]  
    
[/templates.add]				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>385</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:31:00]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:31:00]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[top-menu]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>trix_editor</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=386</link>
		<pubDate>Wed, 14 Feb 2018 04:31:00 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=386</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-12 col-md-4 input-group text-right' cond='{module.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.new='control-label' cond='{module.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]


//************ Is there a Post *************************//
[if.not_empty module.post]
	[module.get post.{module.post_field} set=module.value not_empty='{module.post_field}' /]
	[module.get post.meta.{module.meta_key} set=module.value not_empty='{module.meta_key}' /]
	[module.get post.taxonomy.slugs.{module.taxonomy}.comma set=module.value not_empty='{module.taxonomy}' /]
[/if.not_empty]


  <div class="form-group row">
      [if.not_empty module.label]
      <div class='[module.get label_classes.space /]'>
          <label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
      </div>			
      [/if.not_empty]

      [if.equal lhs='{module.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
      <div class="[module.get control_classes.space /] col-12 col-md-8">
          <textarea id="[module.get id /]" name="[module.get id /]" class="is-none">
          	[module.get value /]
          </textarea>
          <trix-editor input="[module.get id /]" style="min-height:300px;overflow-y: scroll;background:#ffffff"></trix-editor>
          <script type="spa/axn" axn='trix_editor.init'></script>

      </div>
      <div class="help-block"></div>

      [if.equal lhs='{module.form_type}' rhs='horizontal']</div>[/if.equal]
  </div>				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>386</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:31:00]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:31:00]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[trix_editor]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>url</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=387</link>
		<pubDate>Wed, 14 Feb 2018 04:31:00 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=387</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[aw2.get function.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='col-md-12 input-group' cond='{module.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]

[module.set label_classes.new='control-label' cond='{module.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]

<div class="form-group">
	[if.not_empty module.label]
	<div class='[module.get label_classes.space /]'>
		<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
	</div>			
	[/if.not_empty]
	
	[if.equal lhs='{module.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
	<div class="[aw2.get module.control_classes.space /]">
		[if.not_empty module.prepend_icon]
			<span class="input-group-addon">
				<i class="fa [module.get prepend_icon /]"></i>
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_inline_icon]
			<i class="fa [module.get prepend_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.append_inline_icon]
			<i class="fa [module.get append_inline_icon /]"></i>
		[/if.not_empty]
		
		<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="url" 
			placeholder="[module.get placeholder default='{module.label}'/]" 
			class="form-control input-md [module.get class /]" 
			value='[module.get value /]'  
			[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
			[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]				
			[aw2.get module.attr_string/] 
		/>
		
		[if.not_empty module.append_icon]
			<span class="input-group-addon">
				<i class="fa [module.get append_icon /]"></i>
			</span>
		[/if.not_empty]
	</div>
	<div class="help-block"></div>
	
	[if.equal lhs='{module.form_type}' rhs='horizontal']</div>[/if.equal]
	
</div>
				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>387</wp:post_id>
		<wp:post_date><![CDATA[2018-02-14 04:31:00]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-14 04:31:00]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[url]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>panel</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=399799</link>
		<pubDate>Thu, 22 Feb 2018 04:46:12 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/?post_type=form_control&#038;p=399799</guid>
		<description></description>
		<content:encoded><![CDATA[
				
				[templates.add main]
[module.set panel_id="{token}" /] 
<div class="panel-group" role="tablist" aria-multiselectable="true">
  [loop.@panel module.panels]
  	[module.set heading_bg="" /]
    [module.set heading_bg="style='background-color:{@panel.item.heading_bg};'" not_empty="{@panel.item.heading_bg}"/]
     [templates.panel not_empty="{@panel.item.title}"/]
     [templates.label not_empty="{@panel.item.label}"/]
  [/loop.@panel]    
</div>
   
   <script type=spa/axn axn='core.run_script'>
   		function [module.panel_id/](e) {
          $(e.target)
              .prev('.panel-heading')
              .find(".more-less")
              .toggleClass('fa-plus fa-minus');
        }
        $('.panel-group').on('hidden.bs.collapse', [module.panel_id/]);
        $('.panel-group').on('shown.bs.collapse', [module.panel_id/]);
   </script>
[/templates.add]

[templates.add panel]
 [module.set unique_id="{token}" /]
      <div class="panel panel-default">
          <div class="panel-heading" role="tab" [module.heading_bg/]>
              <h4 class="panel-title">
                  <a role="button" data-toggle="collapse" href="#[module.unique_id/]" aria-expanded="true">
                      <i class="more-less fa fa-plus pull-right"></i>
                      [aw2.get @panel.item.title/]
                  </a>
              </h4>
          </div>
          <div id="[module.unique_id/]" class="panel-collapse collapse">
              <div class="panel-body">
                    [aw2.get @panel.item.content/]
              </div>
          </div>
      </div>
[/templates.add]

[templates.add label]
      <div class="panel panel-default">
          <div class="panel-heading" role="tab" [module.heading_bg/]>
              <div class="panel-title">                    
                 [aw2.get @panel.item.label/]                 
              </div>
          </div>
      </div>
[/templates.add]				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>399799</wp:post_id>
		<wp:post_date><![CDATA[2018-02-22 04:46:12]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-22 04:46:12]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[panel]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>alert</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=762557</link>
		<pubDate>Wed, 25 Sep 2019 11:36:14 +0000</pubDate>
		<dc:creator><![CDATA[sapna]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=form_control&#038;p=762557</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  [module.set panel_id="{token}" /] 
  <div class="alert [module.get alert_class /]" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true"></span></button>
    [module.get alert_msg /]
  </div>


  <script type=spa/axn axn='core.run_script'>
    window.setTimeout(function() {
        $(".alert").fadeTo(500, 0).slideUp(500, function(){
            $(this).remove(); 
        });
    }, "[module.get time_out default='6000' /]");
  </script>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>762557</wp:post_id>
		<wp:post_date><![CDATA[2019-09-25 11:36:14]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-09-25 11:36:14]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[alert]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[3]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>trumbowyg_editor</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=854990</link>
		<pubDate>Wed, 16 Oct 2019 06:46:53 +0000</pubDate>
		<dc:creator><![CDATA[sapna]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=form_control&#038;p=854990</guid>
		<description></description>
		<content:encoded><![CDATA[<script type="spa/axn" axn=core.run_script> 
  spa.trumbowyg = {};
  spa.trumbowyg.prerequisites = {};
  spa.trumbowyg.prerequisites.js_files = 'https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/trumbowyg.min.js,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/upload/trumbowyg.upload.min.js,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/table/trumbowyg.table.min.js,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/history/trumbowyg.history.min.js,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/fontsize/trumbowyg.fontsize.min.js,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/colors/trumbowyg.colors.min.js,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/cleanpaste/trumbowyg.cleanpaste.min.js,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/template/trumbowyg.template.min.js';
  spa.trumbowyg.prerequisites.css_files = 'https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/ui/trumbowyg.min.css,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/table/ui/trumbowyg.table.min.css,https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/plugins/colors/ui/trumbowyg.colors.min.css';

  spa.trumbowyg.init = function(o) {}
  spa.trumbowyg.run = function(o) {
  		//alert("als");
      var editor = o.el.attr('editor');
      var upload_path = o.el.attr('upload_url');

      $.trumbowyg.svgPath = 'https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.18.0/ui/icons.svg';
     var t =  $(editor).trumbowyg({
          btnsDef: {
              // Create a new dropdown 
              image: {
                  dropdown: ['insertImage', 'upload'],
                  ico: 'insertImage'
              }
          },
          btns: [
              ['viewHTML'],
              ['undo', 'redo'], // Only supported in Blink browsers 
              ['formatting'],
              ['strong', 'em', 'del'],
              ['superscript', 'subscript'],
              ['foreColor', 'backColor'],
              ['link'],
              ['image'],
              ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
              ['unorderedList', 'orderedList'],
              ['table'],
              ['horizontalRule'],
              ['removeformat'],
              ['fullscreen']
          ],
          plugins: {
              // Add imagur parameters to upload plugin for demo purposes 
              upload: {
                  serverPath: upload_path,
                  fileFieldName: 'image_file',
                  urlPropertyName: 'url',
                  error: function() {
                      alert("Error!");
                  }
              }
          },
          autogrow: true
      }).on('tbwchange', function(){
      		$("#[module.get textarea_name /]").empty().html($(editor).trumbowyg('html'));
      		//console.log($(this).val());
        });
        [aw2.get token set='template.editor_token' /]
      	$(editor).trumbowyg('html', $(".[template.editor_token /]").html());
  }
</script>
<div class="form-group row">
<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
<div class="[template.editor_token /]" placeholder="[module.get placeholder /]">[module.get content /]</div> 
<script type="spa/axn" axn='trumbowyg.run' editor=".[template.editor_token /]" upload_url='[aw2.get app.path]/modules/upload-images'></script>
  
	<textarea name="[module.get textarea_name /]" 
  					id="[module.get textarea_name /]" 
            [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
            msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
            style="display:none;"></textarea>
    <i class="info-block">[module.get help-block /]</i>
	<div class="help-block"></div>        
</div>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>854990</wp:post_id>
		<wp:post_date><![CDATA[2019-10-16 06:46:53]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-16 06:46:53]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[trumbowyg_editor]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[3]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>multi</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=854992</link>
		<pubDate>Wed, 16 Oct 2019 06:47:48 +0000</pubDate>
		<dc:creator><![CDATA[sapna]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=form_control&#038;p=854992</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add label_url]
	[if.equal  lhs="" rhs="{template.intial_data.count}"]
  	[template.set_array intial_data.new label="" url="" /]
	[/if.equal]

      <div class="multi-url-section" data-name="[template.get name /]">
      	[loop.@eachUrl template.intial_data]
         	[template.set class="child-url" /]
        	[if.equal lhs="{aw2.get @eachUrl.index}" rhs="1"]
         		[template.set class="master-url" /]
					[/if.equal]
         <div class="row [template.get class /]">
          <div class="col-11 col-md-5 no-padding-right-md">
            <div class="form-group row">
              <input name="[template.get name /]_label[]" type="text" value="[aw2.get @eachUrl.item.label]" placeholder="Label" class="form-control input-md reference_label"  msg-required="<i class='icon icon-warning'></i> is required!" [template.get is_required /] />
            </div>
          </div>
          
          <div class="col-11 col-md-6"> 
            <div class="form-group row">
              <input name="[template.get name /]_url[]" type="text" value="[aw2.get @eachUrl.item.url]" placeholder="Reference URL" class="form-control input-md reference_url"  msg-required="<i class='icon icon-warning'></i>  is required!" title="Reference URl (reference site URL or any document/API URL)" [template.get is_required /]>
              <i class="info-block"></i>
              <div class="help-block"></div>
            </div>
          </div>
          <div class="col-1 no-padding is-flex align-items-center">
          	[if.equal lhs="{aw2.get @eachUrl.index}" rhs="1"]
            	<span class="add-more-url">
              	[plot.icon.add-new color="gray" /]
              </span>
            [/if.equal]
            [if.else]
            	<span class="remove-url">[plot.icon.remove color="gray" /]</span>
            [/if.else]
					</div>
        </div>
        [/loop.@eachUrl]
      </div>
[/templates.add]

[templates.add label_url_script]
	<script type="spa/axn" axn=core.run_script>
    $(".add-more-url").on("click",function(event){
      $parent_section = $(event.target).closest('.multi-url-section');
      $name = ($parent_section).data('name');
      $element = '<div class="row child-url">' + $(event.target).closest('.master-url').html() + "</div>";
      $(event.target).closest('.master-url').after($element);
      $($parent_section).find(".add-more-url:eq(1)").replaceWith($(".remove-icon-html").html());
      $($parent_section).find(".reference_label:eq(1), .reference_url:eq(1)").val('');
    });
    $("body").on("click",".remove-url",function(){
      $(this).closest('.child-url').remove();
    });
</script>
[/templates.add]

[templates.add file_upload]
  <div class="multi-file-section" data-name="[template.get name /]">
     <div class="row master-attachment">
        <div class="col-12">
          <div class="form-group files">
            <p class="text-center width-100 no-margin">Drop files anywhere to upload  
            	<span class="font-size-smaller gray pad-1">or </span>
              <span class="br gray-lighter-bg pad-x-4 pad-y-2 is-inline-block"> select Files </span></p>
            	<input name="[template.get name /][]" type="file" placeholder="Attachment" 
            			 	 class="input-md file-input-attachment pointer" multiple [template.get is_required /] /> 		
          </div>
          <div class="uploaded-files width-100 clearfix"></div>
        </div>
     </div>
  </div>      
[/templates.add]

[templates.add file_upload_script]
	<script type="spa/axn" axn=core.run_script>    
    var files_array = new Array(); // decalre file array to save uploaded files in input
		$('input[type="file"]').change(function(e){
    	
    	files_array = e.target.files; // assign files to array
      console.log(files_array);
      var file_list = $(this).parents('.files').siblings('.uploaded-files');
      file_list.html(""); // make existing list as null in HTML div
      $.each(files_array,function (index, value){
        file_list.append('<div data-name="'+value.name+'" id="'+index+'" class="br-5 font-size-smallest gray-white-bg mar-b-2 pad-x-4 pad-y-1 ">'+ value.name	+' <span class="remove-upload float-right pointer"><b>x</b></span> <div>');
       
      });
    });
    
    $(document).on('click','.remove-upload',function(e) {
    	e.preventDefault();
      console.log(files_array.length);
      files_array = $.makeArray(files_array);
      //console.log(files_array);
    	var fileName = $(this).parent().data("name");
      for(i = 0; i < files_array.length; ++ i){
        	if(files_array[i].name == fileName){
              // remove the one element at the index where we get a match
              files_array.splice(i, 1);
              console.log(files_array.length);
          }   
      }
      $(this).parent().remove();  
    });
    
</script>
[/templates.add]
]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>854992</wp:post_id>
		<wp:post_date><![CDATA[2019-10-16 06:47:48]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-16 06:47:48]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[multi]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[3]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>select_box</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=854996</link>
		<pubDate>Wed, 16 Oct 2019 06:50:01 +0000</pubDate>
		<dc:creator><![CDATA[sapna]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=form_control&#038;p=854996</guid>
		<description></description>
		<content:encoded><![CDATA[<div class="form-group row [module.get id /]-parent visibility-hidden">

  [if.not_empty module.label]
    <label for="[module.get id /]">
     [module.get label /]
     [if.equal lhs="{module.required}" rhs="yes"]
       <span class='text-danger'>*</span>
     [/if.equal]
    </label>
  [/if.not_empty]
  
  [module.set opt]
    [if.not_equal lhs="{module.multiple}" rhs="yes"]
      //**<option disabled selected value="" class='is-none'>[module.get default_option_text default="Nothing Selected" /]</option>**//
      <option></option>
    [/if.not_equal]
  [/module.set]
  
  <div class="[module.get control_classes.space /] width-100">
    [module.set select_picker='{unique_number}' /]
    <select 
      id="[module.get id /]-[module.get select_picker /]" 
      [if.equal lhs="{module.multiple}" rhs="yes"]
        name="[module.get id /][]"
      [/if.equal]
      [if.else]
        name="[module.get id /]"
      [/if.else]
      [if.equal lhs="{module.multiple}" rhs="yes"]multiple = 'multiple'[/if.equal]
      class="form-control selectpicker [aw2.get module.select_picker /] [aw2.get module.class /] select2-[module.get id /]"
      [if.equal lhs="{module.required}" rhs="yes"]required[/if.equal] 
      [module.get attr_string/]
      placeholder="[module.get placeholder default='{module.label}'/]"
    >
      [module.get opt cond="{module.default_option}" not_equal="no"/]
      [module.set group=""/]
      [loop.@ctr module.options_array]
        [if.not_empty @ctr.item.group]
          [if.not_equal lhs="{@ctr.item.group}" rhs="{module.group}"]
            [do.not_empty cond="{module.group}" not_equal=""]
             </optgroup>
            [/do.not_empty]
            <optgroup label="[aw2.get @ctr.item.group/]">
          [/if.not_equal] 
          [module.set pre][aw2.get @ctr.item.group/]:[/module.set] 
        [/if.not_empty]

        <option value="[aw2.get @ctr.item.value /]" [if.contains haystack="{module.value}" needle="{@ctr.item.value}"]selected[/if.contains] class="[aw2.get @ctr.item.class /]">[aw2.get @ctr.item.label default='{@ctr.item.name}'/]</option>

        [if.not_empty @ctr.item.group]
           [aw2.get @ctr.item.group set=module.group/]
            [if.true @ctr.last]</optgroup>[/if.true]
         [/if.not_empty]
      [/loop.@ctr]
    </select>
  </div>

  <div class="help-block"></div>

	[template.set ajax_ticket='{token}' /]
  [session_ticket.create main={template.ajax_ticket} time=40 set="template.tckt" /]
  [session_ticket.set_activity {template.ajax_ticket} service='common.select2-ajax-handler.{module.option_type}' app='plot' /]

  [session_ticket.get {template.ajax_ticket}.dump /]
  
  <script type=spa/axn axn=core.run_script js_files='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js'>
     	$('.selectpicker.[aw2.get module.select_picker /]').select2({
     		placeholder: "Select [module.label default='here..' /]",
        allowClear: true,
        [if.yes module.tags]
        	tags:true,
        [/if.yes]
        [if.empty module.options_array]
          ajax: {
            url: '[php.site_url /]/t/[template.ajax_ticket /]',
        		delay: 500,
            dataType: 'json',
            cache: true,
            data: function (params) {
              return {
                key: '[module.get id /]',
                taxonomy: '[module.taxonomy /]',
                q: params.term,
                page: params.page
              }
            }
          }
          /*
            to remove the select group name after new ajax request.
            templateResult this parameter is only needed for hierarchical data.
            mension the key in haystack if you create custom handler in select2-ajax-handler in hierarchical manner	
          */
          [if.contains haystack='taxonomy_hierarchical' needle='{module.option_type}']
            ,
            templateResult: function(data) {
             if (typeof data.children != 'undefined') {
              $(".select2-results__group").each(function() {
               if (data.text == $(this).text()) {
                return data.text = '';
               }
              });
             }
             return data.text;
            }
          [/if.contains]
        [/if.empty]
      });
      [if.not_empty module.preselected]
      	[loop.@term module.preselected.comma]
        	[query.get_term_by taxonomy='{module.id}' field='slug' value='{@term.item}' set=template.term /]
          var newOption = new Option("[template.term.name /]", "[template.term.slug /]", true, true);
          $('.[aw2.get module.select_picker /]').append(newOption);
        [/loop.@term]
        $('.[aw2.get module.select_picker /]').trigger('change');
      [/if.not_empty]
      $('.[module.get id /]-parent').removeClass('visibility-hidden');
  </script>
	
</div>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>854996</wp:post_id>
		<wp:post_date><![CDATA[2019-10-16 06:50:01]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-16 06:50:01]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[select_box]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[3]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>select2</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=854999</link>
		<pubDate>Wed, 16 Oct 2019 06:50:50 +0000</pubDate>
		<dc:creator><![CDATA[sapna]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=form_control&#038;p=854999</guid>
		<description></description>
		<content:encoded><![CDATA[<div class="form-group [module.get id /]-parent visibility-hidden">
		[if.not_empty module.label]
		<div class='[module.get label_classes.space /]'>
			<label for="[module.get id /]">
			 [module.get label /]
			 [if.equal lhs="{module.required}" rhs="yes"]
			   <span class='text-danger'>*</span>
			 [/if.equal]
			</label>
		</div>
		[/if.not_empty]
    
    [module.set opt]
		  [if.not_equal lhs="{module.multiple}" rhs="yes"]
      	//**<option disabled selected value="" class='is-none'>[module.get default_option_text default="Nothing Selected" /]</option>**//
        <option></option>
			[/if.not_equal]
		[/module.set]
		<div class="[module.get control_classes.space /] width-100">
        	[module.set select_picker='{unique_number}' /]
			<select 
				id="[module.get id /]-[module.get select_picker /]" 
				[if.equal lhs="{module.multiple}" rhs="yes"]
					name="[module.get id /][]"
				[/if.equal]
				[if.else]
					name="[module.get id /]"
				[/if.else]
				[if.equal lhs="{module.multiple}" rhs="yes"]multiple = 'multiple'[/if.equal]
				class="form-control selectpicker [aw2.get module.select_picker /] [aw2.get module.class /] select2-[module.get id /]"
				[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal] 
				[module.get attr_string/]
				placeholder="[module.get placeholder default='{module.label}'/]"
  		>
        [module.get opt cond="{module.default_option}" not_equal="no"/]
        [module.set group=""/]
        [loop.@ctr module.options_array]
          [if.not_empty @ctr.item.group]
            [if.not_equal lhs="{@ctr.item.group}" rhs="{module.group}"]
              [do.not_empty cond="{module.group}" not_equal=""]
               </optgroup>
              [/do.not_empty]
              <optgroup label="[aw2.get @ctr.item.group/]">
            [/if.not_equal] 
            [module.set pre][aw2.get @ctr.item.group/]:[/module.set] 
          [/if.not_empty]

          <option value="[aw2.get @ctr.item.value /]" [if.contains haystack="{module.value}" needle="{@ctr.item.value}"]selected[/if.contains] class="[aw2.get @ctr.item.class /]">[aw2.get @ctr.item.label default='{@ctr.item.name}'/]</option>

          [if.not_empty @ctr.item.group]
             [aw2.get @ctr.item.group set=module.group/]
              [if.true @ctr.last]</optgroup>[/if.true]
           [/if.not_empty]
        [/loop.@ctr]
    	</select>
		</div>
		<div class="help-block"></div>
    
    [template.set ajax_ticket='{token}' /]
    [session_ticket.create main={template.ajax_ticket} time=40 set="template.tckt" /]
    [session_ticket.set_activity {template.ajax_ticket} service='common.select2-ajax-handler.{module.template_name}' app='plot' /]
    
    
    
    <script type=spa/axn axn=core.run_script js_files='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js'>
     	$('.selectpicker.[aw2.get module.select_picker /]').select2({
     		placeholder: "Select [module.label default='here..' /]",
        allowClear: true,
        [if.empty module.options_array]
          ajax: {
            url: '[php.site_url /]/t/[template.get ajax_ticket /]',
        		delay: 500,
            dataType: 'json',
            cache: true,
            data: function (params) {
              return {
                key: '[module.get id /]',
                q: params.term,
                page: params.page,
                table:'[module.get table /]',
                coll_type:'[module.get coll_type /]',
                meta_key:'[module.get meta_key /]'
              }
            }
          }
          /*
            to remove the select group name after new ajax request.
            templateResult this parameter is only needed for hierarchical data.
            mension the key in haystack if you create custom handler in select2-ajax-handler in hierarchical manner	
          */
          [if.contains haystack='taxonomy_hierarchical' needle='{module.option_type}']
            ,
            templateResult: function(data) {
             if (typeof data.children != 'undefined') {
              $(".select2-results__group").each(function() {
               if (data.text == $(this).text()) {
                return data.text = '';
               }
              });
             }
             return data.text;
            }
          [/if.contains]
        [/if.empty]
      });
      [if.not_empty module.preselected]
      	[loop.@term module.preselected.comma]
        	[query.get_term_by taxonomy='{module.id}' field='slug' value='{@term.item}' set=template.term /]
          var newOption = new Option("[template.term.name /]", "[template.term.slug /]", true, true);
          $('.[aw2.get module.select_picker /]').append(newOption);
        [/loop.@term]
        $('.[aw2.get module.select_picker /]').trigger('change');
      [/if.not_empty]
      $('.[module.get id /]-parent').removeClass('visibility-hidden');
    </script>
	</div>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>854999</wp:post_id>
		<wp:post_date><![CDATA[2019-10-16 06:50:50]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-16 06:50:50]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[select2]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[3]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>time</title>
		<link>http://nxt.wpoets.com/?post_type=form_control&#038;p=858986</link>
		<pubDate>Fri, 15 Nov 2019 06:12:57 +0000</pubDate>
		<dc:creator><![CDATA[Amit]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=form_control&#038;p=858986</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[php.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  

[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]
[module.set control_classes.new='input-group' not_empty='{module.addon_text}' /]
  
<div class="form-group row [module.get form-control-class /]">
	[if.not_empty module.label]
	<div class='[module.get label_classes.space /] col-12 no-padding'>
		<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
	</div>			
	[/if.not_empty]
	
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
	<div class="[module.get control_classes.space /] col-12 no-padding">
	  [if.not_empty module.addon_text]
			<span class="input-group-addon">
			 [module.get addon_text /]
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_icon]
			<span class="input-group-addon">
				<i class="fa [module.get prepend_icon /]"></i>
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_inline_icon]
			<i class="fa [module.get prepend_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.append_inline_icon]
			<i class="fa [module.get append_inline_icon /]"></i>
		[/if.not_empty]
		
		<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="time" 
			placeholder="[module.get placeholder default='{module.label}'/]" 
			class="form-control input-md [module.get class /]" 
			value='[module.get value /]'  
			[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
			[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]				
			[module.get attr_string/] 
			msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
		/>
		
		[if.not_empty module.append_icon]
			<span class="input-group-addon">
				<i class="fa [module.get append_icon /]"></i>
			</span>
		[/if.not_empty]
	</div>
	<i class="info-block">[module.get help-block /]</i>
	<div class="help-block"></div>
		
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']
	   </div>
	  <div class="col-md-12"></div>
	[/if.equal]
	
</div>				]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>858986</wp:post_id>
		<wp:post_date><![CDATA[2019-11-15 06:12:57]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-15 06:12:57]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[time]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>hhmm_duration</title>
		<link>https://www.wpoets.com/?post_type=form_control&#038;p=860587</link>
		<pubDate>Sat, 23 Nov 2019 07:12:22 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://www.wpoets.com/?post_type=form_control&#038;p=860587</guid>
		<description></description>
		<content:encoded><![CDATA[//************ Build the Args *************************//

[module.set attr]
	[loop.@ctr module.attr][aw2.get @ctr.key/]="[aw2.get @ctr.item/]" $spacer [/loop.@ctr]
[/module.set]
[php.str_replace p1="$spacer" p2=" " p3="{module.attr}" set="module.attr_string"/]

[module.set label_classes.bs3='input-group' cond='{module.args.form_type}' not_equal='default' /]
[module.set label_classes.bs3='col-md-3' cond='{module.args.form_type}' equal='horizontal' /]
[module.set label_classes.bs3='{module.label_class}' not_empty='{module.label_class}' /]
[module.set label_classes.bs3='{module.args.bs3_label_class}' not_empty='{module.args.bs3_label_class}' /]  

[module.set label_classes.new='control-label' cond='{module.args.form_type}' equal='horizontal' /]

[module.set col.bs3='col-md-9' cond='{module.args.form_type}' equal='horizontal' /]
[module.set col.bs3='{module.control_class}' not_empty='{module.control_class}' /]
[module.set col.bs3='{module.args.bs3_control_class}' not_empty='{module.args.bs3_control_class}' /]  

[module.set control_classes.new='input-icon left' not_empty='{module.prepend_inline_icon}' /]
[module.set control_classes.new='input-icon right' not_empty='{module.append_inline_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.prepend_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.append_icon}' /]
[module.set control_classes.new='input-group' not_empty='{module.button_text}' /]
[module.set control_classes.new='input-group' not_empty='{module.addon_text}' /]
  
<div class="form-group row [module.get form-control-class /]">
	[if.not_empty module.label]
	<div class='[module.get label_classes.space /] col-12 no-padding'>
		<label for="[module.get id /]">[module.get label /][if.equal lhs="{module.required}" rhs="yes"]<span class='text-danger'>*</span>[/if.equal]</label>
	</div>			
	[/if.not_empty]
	
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']<div class="[module.get col.space/]"> [/if.equal] 
	<div class="[module.get control_classes.space /] col-12 no-padding">
	  [if.not_empty module.addon_text]
			<span class="input-group-addon">
			 [module.get addon_text /]
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_icon]
			<span class="input-group-addon">
				<i class="fa [module.get prepend_icon /]"></i>
			</span>
		[/if.not_empty]
		[if.not_empty module.prepend_inline_icon]
			<i class="fa [module.get prepend_inline_icon /]"></i>
		[/if.not_empty]
		[if.not_empty module.append_inline_icon]
			<i class="fa [module.get append_inline_icon /]"></i>
		[/if.not_empty]
		
		<input 
			id="[module.get id /]" 
			name="[module.get id /]" 
			type="text" 
			placeholder="[module.get placeholder default='{module.label}'/]" 
			class="form-control input-md [module.get class /]" 
			value='[module.get value /]'  
			[if.equal lhs="{module.required}" rhs="yes"]required[/if.equal]
			[if.equal lhs="{module.readonly}" rhs="yes"]readonly[/if.equal]				
			[module.get attr_string/] 
			msg-required="<i class='icon icon-warning'></i> [module.get label /] is required!"
		/>
		
		[if.not_empty module.append_icon]
			<span class="input-group-addon">
				<i class="fa [module.get append_icon /]"></i>
			</span>
		[/if.not_empty]
	</div>
	<i class="info-block">[module.get help-block /]</i>
	<div class="help-block"></div>
		
	[if.equal lhs='{module.args.form_type}' rhs='horizontal']
	   </div>
	  <div class="col-md-12"></div>
	[/if.equal]
	
  <script type="spa/axn" axn="core.run_script" cdn_js_files='bootstrap-duration-picker/bootstrap-duration-picker.js' cdn_css_files='bootstrap-duration-picker/bootstrap-duration-picker.css'>
  	   $('#[module.get id /]').durationPicker({
          showSeconds: false,
          showDays: false,
          onChanged: function (newVal) {
            console.log(newVal);
          }
        });
  </script>
  
</div>				]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860587</wp:post_id>
		<wp:post_date><![CDATA[2019-11-23 07:12:22]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-23 07:12:22]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[hhmm_duration]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[form_control]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_date]]></wp:meta_key>
		<wp:meta_value><![CDATA[2019-11-22]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_old_slug]]></wp:meta_key>
		<wp:meta_value><![CDATA[duration]]></wp:meta_value>
		</wp:postmeta>
							</item>
		

		<item>
		<title>meta</title>
		<link>http://nxt.wpoets.com/?post_type=db_service&#038;p=265</link>
		<pubDate>Tue, 13 Feb 2018 09:52:16 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/db_service/meta/</guid>
		<description></description>
		<content:encoded><![CDATA[				
				  //**
Update Meta data for one object_id
  **// 
[templates.add update_object_meta]
 [aw2.get current_user.user_email set=template.email/]
  [multi.update]
    start transaction;
      select @object_id:="[template.get object_id /]" from dual;
			select @coll_id:="[template.get coll_id /]" from dual;
      [loop.@meta template.meta]
        select @cnt:=count(1) from [template.get meta_table /] where object_id=@object_id and coll_id=@coll_id and meta_key="[aw2.get @meta.item.meta_key/]";
        insert into [template.get meta_table /](object_id,coll_id,coll_type,meta_key,meta_value,updated_by)
        select @object_id,@coll_id,"[aw2.get @meta.item.coll_type/]","[aw2.get @meta.item.meta_key/]","[aw2.get @meta.item.meta_value m.esc_sql=yes /]","[template.email /]" from dual where @cnt=0;
        update [template.get meta_table /] 
        set coll_type="[aw2.get @meta.item.coll_type/]",meta_value="[aw2.get @meta.item.meta_value m.esc_sql=yes /]",updated_by="[template.email /]",stamp=current_timestamp 
        where object_id=@object_id and coll_id=@coll_id and meta_key="[aw2.get @meta.item.meta_key/]" and @cnt=1;  
      [/loop.@meta]      
    commit;
  [/multi.update]
[/templates.add]  




  //**
select object meta for one object_id
  **// 
[templates.add select_object_meta]

  [template.set query empty="{template.meta_keys}"]
	  select * from [template.get meta_table /] where coll_id="[template.get coll_id /]" and object_id="[template.get object_id /]";
  [/template.set]
  
  [template.get meta_keys.comma set=template.meta_keys not_empty="{template.meta_keys}"/]
  
  [template.set query not_empty="{template.meta_keys}"]	
	    select * from [template.get meta_table /] where coll_id="[template.get coll_id /]" and object_id="[template.get object_id /]" and meta_key in ([template.get meta_keys.quote_comma/]);
	[/template.set]

   
[query.get_results set=template.rs] [template.get query/]	[/query.get_results]

[template.set rs_arr/]
  [loop.@rs template.rs]
    [aw2.get @rs.item.meta_value set=template.rs_arr.{@rs.item.meta_key} /]
  [/loop.@rs]  

[template.return template.rs_arr/]
[/templates.add]





  //**
Insert One collection for One Object
  **//  
[templates.add insert_coll_meta]
	[aw2.get current_user.user_email set=template.email/]
  [multi.update]
    start transaction;
      [loop.@meta template.meta]
            insert into [template.get meta_table /](object_id,coll_id,coll_type,meta_key,meta_value,updated_by)
        		VALUES ("[template.get object_id /]","[template.get coll_id/]","[template.get coll_type/]","[aw2.get @meta.item.meta_key/]","[aw2.get @meta.item.meta_value m.esc_sql=yes /]","[template.email/]");
      [/loop.@meta]
    commit;
  [/multi.update]
  
[/templates.add]  





  //**
Update One collection for One Object
  **// 
[templates.add update_coll_meta]
[aw2.get current_user.user_email set=template.email/]
[multi.update]
  start transaction;
  select @object_id:='[template.get object_id /]' from dual;
  
    [loop.@meta template.meta]
      select @cnt:=count(1) from [template.get meta_table /] where object_id=@object_id and coll_id="[template.get coll_id /]" and coll_type="[template.get coll_type/]" and meta_key="[aw2.get @meta.item.meta_key/]";
      
      insert into [template.get meta_table /]
        (object_id,coll_id,coll_type,meta_key,meta_value,updated_by)
        
      select @object_id,"[template.get coll_id /]","[template.get coll_type/]","[aw2.get @meta.item.meta_key/]","[aw2.get @meta.item.meta_value m.esc_sql=yes /]","[template.email/]" from dual where @cnt=0;
      
      update [template.get meta_table /] 
      set meta_value="[aw2.get @meta.item.meta_value m.esc_sql=yes /]",updated_by="[template.email/]",stamp=current_timestamp 
      where object_id=@object_id and coll_id="[template.get coll_id /]" and coll_type="[template.get coll_type/]" and meta_key="[aw2.get @meta.item.meta_key/]" and @cnt=1;  
    [/loop.@meta]
    
    commit;
  [/multi.update]  
  
[/templates.add]  





  //**
select collection meta for one collection
  **// 
[templates.add select_collection_meta]
  [template.set query empty="{template.meta_keys}"]
	  select * from [template.meta_table/] where coll_id="[template.coll_id/]" and coll_type="[template.coll_type/]" and object_id='[template.object_id /]';
  [/template.set]
  
  [template.get meta_keys.comma set=template.meta_keys not_empty="{template.meta_keys}"/]
  
  [template.set query not_empty="{template.meta_keys}"]	
	    select * from [template.meta_table/] where coll_id="[template.coll_id/]" and coll_type="[template.coll_type/]" and object_id="[template.object_id /]" and meta_key in ([template.meta_keys.quote_comma/]);
	[/template.set]
   
[query.get_results set=template.rs] [template.query/]	[/query.get_results]
[template.return template.rs/]
[/templates.add]



  //**
select meta for one object_id
  **// 
[templates.add select_meta]
  [template.set query empty="{template.meta_keys}"]
	  select * from [template.meta_table /] where object_id="[template.object_id /]";
  [/template.set]
  
  [template.get meta_keys.comma set=template.meta_keys not_empty="{template.meta_keys}"/]
  
  [template.set query not_empty="{template.meta_keys}"]	
	    select * from [template.meta_table /] where  object_id='[template.object_id /]' and meta_key in ([template.meta_keys.quote_comma/]);
	[/template.set]

   
[query.get_results set=template.rs][template.query/][/query.get_results]

[template.return template.rs/]
[/templates.add]

[templates.add select_meta_key_value_pair]
	
	[query.get_results set=template.rs]  
  	select meta_key,meta_value from [template.get meta_table /] where 1=1
      [if.not_empty template.coll_id]
        and coll_id="[template.get coll_id /]" 
      [/if.not_empty]
      [if.not_empty template.object_id]
        and object_id="[template.get object_id /]"	
      [/if.not_empty]
      [if.not_empty template.meta_keys]
        and meta_key in ([template.meta_keys.quote_comma/])
      [/if.not_empty]
      ;
  [/query.get_results]
  
  
  [template.set response="" /]
  [loop.@key_value_item template.rs]
  	[template.set response.{@key_value_item.item.meta_key}][aw2.get @key_value_item.item.meta_value /][/template.set]
  [/loop.@key_value_item]
  [template.return template.response /]

[/templates.add]				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>265</wp:post_id>
		<wp:post_date><![CDATA[2018-02-13 09:52:16]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-13 09:52:16]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[meta]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[db_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>meta_query</title>
		<link>http://nxt.wpoets.com/?post_type=db_service&#038;p=266</link>
		<pubDate>Tue, 13 Feb 2018 09:52:16 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">https://dev6.loantap.in/db_service/meta_query/</guid>
		<description></description>
		<content:encoded><![CDATA[				
				//** Vikas Build support for seek to make queries even faster **//

//** input module.query
output module.dataset
**//
[templates.add main]
    [aw2.get dataset_values pageno="{module.query.pageno}" pagesize="{module.query.pagesize}" offset="{module.query.offset}" set="module.dataset" /]

//** set Limit **//
    [module.set dataset.limit_string]
        LIMIT [module.dataset.pagesize /]
    [/module.set] 


//** set Offset **//

  [module.set dataset.offset_string]
        OFFSET [module.dataset.offset /]
  [/module.set] 

  [if.equal lhs='{module.dataset.pagesize}' rhs='-1']
    [module.set dataset.limit_string='' /]
    [module.set dataset.offset_string='' /]
  [/if.equal]


  //** If With exists in the query, Create With **//
	[module.set with={module.query.with} /]		
	[templates.q0 set=module.dataset.q0 /]

//** additional Fields **//

	[module.set query_counter=0 /]
	[module.set query_no='q{module.query_counter}' /]

	[module.set add_field={module.query.with.add_field} /]		
	[templates.add_field /]

//** Create Filters **//

	[module.set filter={module.query.with.filter} /]		
		[templates.filter /]


	[do.@junk set=module.dataset.with_query]
		[module.dataset.q0 /]
		[if.not_empty module.dataset.field_query]
			,[module.get dataset.field_query.comma /]
		[/if.not_empty]
		[if.not_empty module.dataset.filter_query]
			,[module.get dataset.filter_query.comma /]
		[/if.not_empty]
	 [/do.@junk]


//** Generate the count if required **//
	[if.equal lhs='{module.query.query_count}' rhs='yes']
		[do.@junk set=module.dataset.count_query]
						[module.set current_query_no='{module.query_no}' /]
						[module.set current_query_no={module.query.with.bounded_data.query_no} not_empty='{module.query.with.bounded_data.query_no}'/]

			[module.dataset.with_query /],
			bounded_data as 
			(
				SELECT * FROM [module.current_query_no /] 
				[if.not_empty module.query.max_count]
				LIMIT [module.query.max_count/]
				[/if.not_empty]
			),
			junk AS (SELECT * FROM bounded_data)
			select count(1) from bounded_data
		[/do.@junk]
		[query.get_var set=module.dataset.found_rows]
			[module.get dataset.count_query /]
		[/query.get_var]
		[aw2.get dataset_values pagesize="{module.dataset.pagesize}" found_rows="{module.dataset.found_rows}" set="module.temp_dataset" /]
		[module.set dataset.found_pages="{module.temp_dataset.found_pages}" /]
	[/if.equal]

//** Create Bounded Data **//

	[templates.bounded_data set=module.dataset.bounded_query /]

	[module.set dataset.junk_query]
	junk AS (SELECT * FROM bounded_data)
	[/module.set]

//** Set up transform **//		

[do.@junk set=module.dataset.meta_query.new not_empty='{module.query.transform.ref_id}']
		[module.set dataset.transform=yes /]
		select 'data_id' AS type,[module.query.transform.ref_id /] AS data_id,'' AS meta_key,'' AS meta_value from bounded_data
[/do.@junk]

[do.@junk set=module.dataset.meta_query.new not_empty='{module.query.transpose.ref_id}']
		[module.set dataset.transpose=yes /]
		select 'data_id' AS type,[module.query.transpose.ref_id /] AS data_id,'' AS meta_key,'' AS meta_value from bounded_data
[/do.@junk]


//** Create the meta query **//

	[module.set meta_query={module.query.meta} /]		
	[templates.meta_query /]

		[module.set dataset.meta_query.new  empty='{module.dataset.meta_query}']
				SELECT * FROM bounded_data
		[/module.set]  

//** join the query **//

	[do.@junk set=module.dataset.with_query]
			 [module.dataset.with_query /]
			,[module.get dataset.bounded_query /]
			,[module.get dataset.junk_query /]
	 [/do.@junk]
	[do.@junk set=module.dataset.query]
	  [module.get dataset.with_query /]			    	
	  [aw2.get module.dataset.meta_query separator=' UNION ' /]
	[/do.@junk]
	[module.return module.dataset cond='{module.query.only_query}' equal='yes'/]
	[query.meta_query dataset='{module.dataset}' set=module.dataset /]
	[module.return module.dataset /]
[/templates.add]


[templates.add set_query_no]
	[module.set previous_query_no='q{module.query_counter}'  /]
	[math.solve main='{module.query_counter}+1' set=module.query_counter /]
	[module.set query_no='q{module.query_counter}' /]
[/templates.add]



//** templates to add meta query **//

[templates.add meta_query]
  [loop.@meta_query module.query.meta]
	[module.set current_meta={@meta_query.item} /]	  
	[templates.meta_bounded_field true='{module.current_meta.bounded_field.exists}'/]	
	[templates.meta_series true='{module.current_meta.x.exists}'/]
	[templates.meta_field true='{module.current_meta.field.exists}'/]	
	[templates.meta_meta_keys true='{module.current_meta.meta_keys.exists}' /]	
	[templates.meta_taxonomy true='{module.current_meta.taxonomy.exists}' /]	
	[templates.meta_sql true='{module.current_meta.sql.exists}' /]	
	[templates.meta_aw2_collection_keys true='{module.current_meta.aw2_collection_keys.exists}' /]	
  [/loop.@meta_query]
[/templates.add]

[templates.add meta_series]
  [do.@junk set=module.dataset.meta_query.new]
		select 
		[templates.meta_x_format /] as x
		[if.not_empty module.current_meta.series.field]
		,[module.current_meta.series.field /] as series
		[/if.not_empty]
        , [module.current_meta.series_data.agg default="count"/]([module.current_meta.series_data.field/]) as series_data
         from bounded_data
		group by  
		[templates.meta_x_format /]
		[if.not_empty module.current_meta.series.field]
		,[module.current_meta.series.field /]
		[/if.not_empty]
  [/do.@junk]
  [module.set current_meta='' /]	
[/templates.add]

[templates.add meta_x_format]
	[template.return module.current_meta.x.field empty='{module.current_meta.x.field_format}'/]

	[template.set x='{module.current_meta.x.field}' /]  
	[template.set x='DATE({template.x})' cond='{module.current_meta.x.field_format}' equal='day' /]
	[template.set x='DATE({template.x})' cond='{module.current_meta.x.field_format}' equal='days' /]
	[template.set x='DATE({template.x})' cond='{module.current_meta.x.field_format}' equal='week' /]
	[template.set x='DATE({template.x})' cond='{module.current_meta.x.field_format}' equal='month' /]
	
	[template.set x="DATE_FORMAT({template.x},'%Y-%u')" cond='{module.current_meta.x.field_format}' equal='weeks' /]

	[template.set x="DATE_FORMAT({template.x},'%Y-%m')" cond='{module.current_meta.x.field_format}' equal='months' /]
	[template.set x="DATE_FORMAT({template.x},'%Y-%m')" cond='{module.current_meta.x.field_format}' equal='quarter' /]
	[template.set x="DATE_FORMAT({template.x},'%Y-%m')" cond='{module.current_meta.x.field_format}' equal='year' /]

	
	[template.set x="CONCAT(YEAR({template.x}),'-',Quarter({template.x_column}))" cond='{module.current_meta.x.field_format}' equal='quarters' /]

	
	[template.set x='YEAR({template.x})' cond='{module.current_meta.x.field_format}' equal='years' /]
	
	[template.return template.x /]
[/templates.add]

[templates.add meta_x_format_backup]
	[template.return module.current_meta.x.field empty='{module.current_meta.x.field_format}'/]

	[template.set x='{module.current_meta.x.field}' /]  
	[template.set x='DATE({template.x})' cond='{module.current_meta.x.field_format}' equal='day' /]
	[template.set x="DATE_FORMAT({template.x},'%Y-%u')" cond='{module.current_meta.x.field_format}' equal='week' /]
	[template.set x="DATE_FORMAT({template.x},'%Y-%m')" cond='{module.current_meta.x.field_format}' equal='month' /]
	[template.set x="CONCAT(YEAR({template.x}),'-',Quarter({template.x_column}))" cond='{module.current_meta.x.field_format}' equal='quarter' /]
	[template.set x='YEAR({template.x})' cond='{module.current_meta.x.field_format}' equal='year' /]
	[template.return template.x /]
[/templates.add]

[templates.add meta_bounded_field]
  [module.set current_meta.data_id_field='data_id' empty='{module.current_meta.data_id_field}'/]  [do.@junk set=module.dataset.meta_query.new]
	  SELECT 'meta' AS type,bounded_data.[module.current_meta.data_id_field /] ,'[module.current_meta.bounded_field]' as meta_key,[module.current_meta.bounded_field] as meta_value 
	  FROM bounded_data
  [/do.@junk]
  [module.set current_meta='' /]	
[/templates.add]


[templates.add meta_field]
  [module.set current_meta.data_id_field='data_id' empty='{module.current_meta.data_id_field}'/]
  [module.set current_meta.as_field='{module.current_meta.field}' empty='{module.current_meta.as_field}'/]
  [module.set current_meta.table='wp_posts' empty='{module.current_meta.table}'/]
  [module.set current_meta.id_field='ID' empty='{module.current_meta.id_field}'/]
  [module.set current_meta.ref_id='data_id' empty='{module.current_meta.ref_id}'/]

  [do.@junk set=module.dataset.meta_query.new]
	  SELECT 'meta' AS type,bounded_data.[module.current_meta.data_id_field /] ,'[module.current_meta.as_field]' as meta_key,[module.current_meta.field] as meta_value 
	  FROM [module.current_meta.table] AS meta JOIN bounded_data ON meta.[module.current_meta.id_field /]=bounded_data.[module.current_meta.ref_id /] 
  [/do.@junk]
  [module.set current_meta='' /]	

[/templates.add]

[templates.add meta_meta_keys]
[module.set current_meta.data_id_field='data_id' empty='{module.current_meta.data_id_field}'/]
[module.set current_meta.meta_key_field='meta_key' empty='{module.current_meta.meta_key_field}'/]
[module.set current_meta.meta_value_field='meta_value' empty='{module.current_meta.meta_value_field}'/]
[module.set current_meta.table='wp_postmeta' empty='{module.current_meta.table}'/]
[module.set current_meta.id_field='post_id' empty='{module.current_meta.id_field}'/]
[module.set current_meta.ref_id='data_id' empty='{module.current_meta.ref_id}'/]


  [do.@junk set=module.dataset.meta_query.new]
	SELECT 'meta' AS type,bounded_data.[module.current_meta.data_id_field /] ,[module.current_meta.meta_key_field] as meta_key,[module.current_meta.meta_value_field] as meta_value 
	FROM [module.current_meta.table] AS meta JOIN bounded_data ON meta.[module.current_meta.id_field /]=bounded_data.[module.current_meta.ref_id /] where [module.current_meta.meta_key_field] in 
	([module.current_meta.meta_keys.comma.quote_comma /])	
  [/do.@junk]
  [module.set current_meta='' /]	

[/templates.add]

[templates.add meta_taxonomy]
	[module.set current_meta.data_id_field='data_id' empty='{module.current_meta.data_id_field}'/]
	[module.set current_meta.taxonomy_value_field='name' empty='{module.current_meta.taxonomy_value_field}'/]
	[module.set current_meta.ref_id='data_id' empty='{module.current_meta.ref_id}'/]


  [do.@junk set=module.dataset.meta_query.new]
	SELECT 'meta' AS type,bounded_data.[module.current_meta.data_id_field /] ,taxonomy as meta_key,[module.current_meta.taxonomy_value_field] as meta_value 
	FROM all_terms AS meta JOIN bounded_data ON meta.object_id=bounded_data.[module.current_meta.ref_id /] where taxonomy in 
	([module.current_meta.taxonomy.comma.quote_comma /])	
  [/do.@junk]
  [module.set current_meta='' /]	
[/templates.add]

[templates.add meta_sql]
  [do.@junk set=module.dataset.meta_query.new]
	  [code.run module.current_meta.sql /]
  [/do.@junk]
  [module.set current_meta='' /]	  
[/templates.add]


[templates.add meta_aw2_collection_keys]
	[module.set current_meta.data_id_field='data_id' empty='{module.current_meta.data_id_field}'/]
	[module.set current_meta.ref_id='data_id' empty='{module.current_meta.ref_id}'/]

	[do.@junk set=module.dataset.meta_query.new]
	 SELECT 'meta' AS type,bounded_data.[module.current_meta.data_id_field /],meta_key,meta_value FROM [module.current_meta.table /] AS meta JOIN bounded_data ON meta.object_id=bounded_data.[module.current_meta.ref_id /] 
	  where meta.meta_key in (
		  [module.current_meta.aw2_collection_keys.comma.quote_comma /]
	  )
	  [if.not_empty module.current_meta.coll_id]
		  AND meta.coll_id='[module.current_meta.coll_id /]'
	  [/if.not_empty]
      [if.not_empty module.current_meta.coll_type]
		  AND meta.coll_type='[module.current_meta.coll_type /]'
	  [/if.not_empty]
	[/do.@junk]
  [module.set current_meta='' /]		
[/templates.add]




//** templates to add bounded data **//

[templates.add bounded_data]
		[module.set current_query_no='{module.query_no}' /]
		[module.set current_query_no={module.query.with.bounded_data.query_no} not_empty='{module.query.with.bounded_data.query_no}'/]

	bounded_data as 
	(
	  SELECT * FROM [module.current_query_no /] 
			[if.not_empty module.query.order]
				ORDER BY [module.get query.order /]
			[/if.not_empty]

	  [module.dataset.limit_string /] 
	  [module.dataset.offset_string /]
	)
[/templates.add]




//** templates to build filter **//
[templates.add filter]
	[loop.@filter module.filter]
	  [module.set current_filter={@filter.item} /]	

	  [templates.filter_sql true='{module.current_filter.sql.exists}' /]	
	  [templates.filter_meta_table true='{module.current_filter.meta_table.exists}' /]	
	  [templates.filter_meta_key true='{module.current_filter.meta_key.exists}' /]	
	  [templates.filter_taxonomy true='{module.current_filter.taxonomy.exists}' /]	
	  [templates.filter_period true='{module.current_filter.period.exists}' /]	
	  [templates.filter_between true='{module.current_filter.after_date.exists}' /]
	  [templates.filter_between true='{module.current_filter.before_date.exists}' /]
	  [templates.filter_between true='{module.current_filter.from_date.exists}' /]
	  [templates.filter_between true='{module.current_filter.to_date.exists}' /]
	  [templates.filter_field true='{module.current_filter.field.exists}' /]			
	  [templates.filter_id_field true='{module.current_filter.id_field.exists}' /]

	[/loop.@filter]
[/templates.add]


[templates.add after_filter_query]

  [templates.set_query_no /]

  [do.@junk set=module.dataset.filter_query.new]

	[module.query_no /] as 
	(
	  select [module.previous_query_no /].* from [module.current_filter.table /] join [module.previous_query_no /] on 
	  [module.previous_query_no /].[module.current_filter.ref_id]=[module.current_filter.table /].[module.current_filter.id_field /] 
				  where 
		  1=1
		  and
	  [module.current_filter.sql_where /]
	)  
  [/do.@junk]


[/templates.add] 



[templates.add filter_meta_key]
	[module.set current_filter.meta_value='junk' cond='{module.current_filter.operator}' equal='exists' /]
	[if.not_whitespace module.current_filter.meta_value]
		[module.current_filter.table set=module.current_filter.table default=wp_postmeta /]
		[module.current_filter.id_field set=module.current_filter.id_field default=post_id /]
		[module.current_filter.ref_id set=module.current_filter.ref_id default=data_id /]
		[module.current_filter.meta_key_field set=module.current_filter.meta_key_field default='meta_key' /]
		[module.current_filter.meta_key.comma.quote_comma set=module.current_filter.meta_key/]		
		[module.current_filter.meta_value_field set=module.current_filter.column default='meta_value'/]	
		[module.current_filter.meta_value set=module.current_filter.value /]	


		[do.@junk set='module.current_filter.sql_where']	
			[module.current_filter.table].[module.current_filter.meta_key_field /] in ([module.current_filter.meta_key/]) and 
			[templates.apply_operator where='{module.current_filter}']
		[/do.@junk]
		[templates.after_filter_query /]	
	[/if.not_whitespace] 
	[module.set current_filter='' /]	
[/templates.add]

[templates.add filter_meta_table]
	[module.set current_filter.meta_value='junk' cond='{module.current_filter.operator}' equal='exists' /]
	[if.not_whitespace module.current_filter.meta_value]
		[module.current_filter.meta_table set=module.current_filter.table /]
		[module.current_filter.id_field set=module.current_filter.id_field default=object_id /]
		[module.current_filter.ref_id set=module.current_filter.ref_id default=data_id /]
		[module.current_filter.meta_key_field set=module.current_filter.meta_key_field default='meta_key' /]
		[module.current_filter.meta_key.comma.quote_comma set=module.current_filter.meta_key/]		
		[module.current_filter.meta_value_field set=module.current_filter.column default='meta_value'/]	
		[module.current_filter.meta_value set=module.current_filter.value /]	
		[do.@junk set='module.current_filter.sql_where']
			[module.current_filter.table].coll_id='[module.current_filter.coll_id /]'	
			and 			
			[module.current_filter.table].[module.current_filter.meta_key_field /] in ([module.current_filter.meta_key/]) and 
			[templates.apply_operator where='{module.current_filter}']
		[/do.@junk]
		[templates.after_filter_query /]	
	[/if.not_whitespace] 
	[module.set current_filter='' /]	
[/templates.add]


[templates.add filter_field]
	[if.not_whitespace module.current_filter.field]
		[module.current_filter.table set=module.current_filter.table default=wp_posts /]
		[module.current_filter.id_field set=module.current_filter.id_field default='ID' /]
		[module.current_filter.ref_id set=module.current_filter.ref_id default=data_id /]
		[module.current_filter.field set=module.current_filter.column/]
		[module.current_filter.field_value set=module.current_filter.value/]

		[do.@junk set='module.current_filter.sql_where']	
			[templates.apply_operator where='{module.current_filter}']
		[/do.@junk]

		[templates.after_filter_query /]	
	[/if.not_whitespace] 

	[module.set current_filter='' /]	
[/templates.add]


[templates.add filter_id_field]
	[if.not_whitespace module.current_filter.id_field]
		[module.current_filter.table set=module.current_filter.table default=wp_posts /]
		[module.current_filter.id_field set=module.current_filter.id_field /]
		[module.current_filter.ref_id set=module.current_filter.ref_id default=data_id /]

		[do.@junk set='module.current_filter.sql_where']	
		1=1
		[/do.@junk]
		[templates.after_filter_query /]	
	[/if.not_whitespace] 
	[module.set current_filter='' /]	
[/templates.add]

[templates.add filter_sql]
	[if.not_whitespace module.current_filter.sql]
		[module.current_filter.ref_id set=module.current_filter.ref_id default=data_id /]


		[templates.set_query_no /]
		[do.@junk set=module.dataset.filter_query.new]
			[module.query_no /] as 
				(
				[code.run module.current_filter.sql /]
				)
		[/do.@junk]
	[/if.not_whitespace] 
	[module.set current_filter='' /]	
[/templates.add]



[templates.add filter_taxonomy]
	[if.not_whitespace module.current_filter.term]
		[module.current_filter.table set=module.current_filter.table default=all_terms /]
		[module.current_filter.id_field set=module.current_filter.id_field default=object_id /]
		[module.current_filter.ref_id set=module.current_filter.ref_id default=data_id /]

		[module.current_filter.taxonomy_field set=module.current_filter.taxonomy_field default='taxonomy' /]
		[module.current_filter.taxonomy.comma.quote_comma set=module.current_filter.taxonomy/]

		[module.current_filter.meta_value_field set=module.current_filter.column default='slug'/]		
		[module.current_filter.term set=module.current_filter.value/]

		[do.@junk set='module.current_filter.sql_where']	
			[module.current_filter.table].[module.current_filter.taxonomy_field /] in ([module.current_filter.taxonomy/]) and 
			[templates.apply_operator where='{module.current_filter}' /]
		[/do.@junk]
		[templates.after_filter_query /]	
	[/if.not_whitespace] 
	[module.set current_filter='' /]	
[/templates.add]

[templates.add filter_period]
	[if.not_whitespace module.current_filter.period]
		[module.current_filter.field set=module.current_filter.field /]
		[module.current_filter.period set=module.current_filter.period default='day:today'/]
		[module.current_filter.which set=module.current_filter.which default=0 /]
		
        [date.aw2_period period="{module.current_filter.period}" set=template.select_period_arr/]

		[do.@junk set='module.current_filter.sql_where']	
			date([module.current_filter.field]) <= DATE([template.get select_period_arr.end_date /])
			AND date([module.current_filter.field]) >= DATE([template.get select_period_arr.start_date /])
		[/do.@junk]

	[templates.set_query_no /]
		[do.@junk set=module.dataset.filter_query.new]
	[module.query_no /] as 
		(
		select [module.previous_query_no /].* from [module.previous_query_no /] 
					where 
			[module.current_filter.sql_where]
		)
  [/do.@junk]

	[/if.not_whitespace] 
	[module.set current_filter='' /]	
[/templates.add]

[templates.add filter_between]
	[module.current_filter.field set=module.current_filter.field /]

	[do.@junk set='module.current_filter.sql_where']	
		1=1 
		[if.not_whitespace module.current_filter.before_date]
			 and date([module.current_filter.field /]) < date('[module.current_filter.before_date /]')	
		[/if.not_whitespace] 
		[if.not_whitespace module.current_filter.to_date]
			 and date([module.current_filter.field /]) <= date('[module.current_filter.to_date /]')	
		[/if.not_whitespace] 

		[if.not_whitespace module.current_filter.after_date]
			 and date([module.current_filter.field /]) > date('[module.current_filter.after_date /]')	
		[/if.not_whitespace] 
		[if.not_whitespace module.current_filter.from_date]
			 and date([module.current_filter.field /]) >= date('[module.current_filter.from_date /]')	
		[/if.not_whitespace]
	[/do.@junk]

	[templates.set_query_no /]
		[do.@junk set=module.dataset.filter_query.new]
	[module.query_no /] as 
		(
		select [module.previous_query_no /].* from [module.previous_query_no /] 
					where 
			[module.current_filter.sql_where]
		)
  [/do.@junk]

	[module.set current_filter='' /]	
[/templates.add]




//** templates to build add_field **//
[templates.add add_field]
	[loop.@add_field module.add_field]
		[module.set current_field={@add_field.item} /]	
					
		[templates.add_field_meta_key true='{module.current_field.meta_key.exists}' /]	
		[templates.add_field_aw2_meta_key true='{module.current_field.aw2_meta_key.exists}' /]	

		[templates.add_field_taxonomy true='{module.current_field.taxonomy.exists}' /]
		[templates.add_field_sql true='{module.current_field.sql.exists}' /]
		[templates.add_field_field true='{module.current_field.field.exists}' /]    
					[module.set current_query_no='' /]		
	[/loop.@add_field]
[/templates.add]


[templates.add add_field_meta_key]
	[aw2.get module.current_field.meta_key set=template.meta_key /]

	[aw2.get module.current_field.id_field set=template.id_field default='post_id'/]
	[aw2.get module.current_field.ref_id set=template.ref_id default='data_id'/]

	[aw2.get module.current_field.meta_value_field set=template.meta_value_field default='meta_value'/]

	[aw2.get module.current_field.field set=template.field default='{template.meta_key}' /]
	[aw2.get module.current_field.table set=template.table default=wp_postmeta /]

	[aw2.get module.current_field.meta_key_field set=template.meta_key_field default='meta_key' /]
    
	[aw2.get module.current_field.ifnull set=template.ifnull/]


	[templates.set_query_no /]
			[module.set current_query_no={module.query_no} /]
			[module.set current_query_no={@add_field.item.query_no} not_empty='{@add_field.item.query_no}'/]

	[do.@junk set=module.dataset.field_query.new]

	  [module.current_query_no /] as 
	  (
	  select [module.previous_query_no /].*, 
	  
      [if.not_empty template.ifnull]
      	ifnull([template.meta_value_field /],'[template.ifnull /]') as [template.field /]  
      [/if.not_empty]
      [if.else]
      	[template.meta_value_field /] as [template.field /]  
      [/if.else]
      
      from
      [module.previous_query_no /] left join [template.table /]   on 
	  [module.previous_query_no /].[template.ref_id]=[template.table /].[template.id_field /] and [template.meta_key_field /]='[template.meta_key/]' )
	[/do.@junk]
		[module.set current_field='' /]	

[/templates.add]


[templates.add add_field_aw2_meta_key]
	[aw2.get module.current_field.aw2_meta_key set=template.meta_key /]
	[aw2.get module.current_field.coll_id set=template.coll_id /]

	[aw2.get module.current_field.id_field set=template.id_field default='object_id'/]
	[aw2.get module.current_field.ref_id set=template.ref_id default='data_id'/]

	[aw2.get module.current_field.meta_value_field set=template.meta_value_field default='meta_value'/]

	[aw2.get module.current_field.field set=template.field default='{template.meta_key}' /]
	[aw2.get module.current_field.table set=template.table /]

	[aw2.get module.current_field.meta_key_field set=template.meta_key_field default='meta_key' /]
	[aw2.get module.current_field.ifnull set=template.ifnull/]
    
	[templates.set_query_no /]
			[module.set current_query_no={module.query_no} /]
			[module.set current_query_no={@add_field.item.query_no} not_empty='{@add_field.item.query_no}'/]

	[do.@junk set=module.dataset.field_query.new]

	  [module.current_query_no /] as 
	  (
	  select [module.previous_query_no /].*,
      
      [if.not_empty template.ifnull]
      	ifnull([template.meta_value_field /],'[template.ifnull /]') as [template.field /]  
      [/if.not_empty]
      [if.else]
      	[template.meta_value_field /] as [template.field /]  
      [/if.else]
      
	  from [module.previous_query_no /] left join [template.table /]   on 
	  [module.previous_query_no /].[template.ref_id]=[template.table /].[template.id_field /] 
      			[if.not_empty template.coll_id]
			and coll_id='[template.coll_id]'
			[/if.not_empty]

      and [template.meta_key_field /]='[template.meta_key/]' 
	)		
	[/do.@junk]
		[module.set current_field='' /]	

[/templates.add]


[templates.add add_field_field]
	[aw2.get module.current_field.field set=template.field /]
	[aw2.get module.current_field.as_field set=template.as_field default='{template.field}' /]

	[aw2.get module.current_field.id_field set=template.id_field default='ID'/]
	[aw2.get module.current_field.ref_id set=template.ref_id default='data_id'/]

	[aw2.get module.current_field.table set=template.table default=wp_posts /]
	[aw2.get module.current_field.ifnull set=template.ifnull/]

	[templates.set_query_no /]
			[module.set current_query_no={module.query_no} /]
			[module.set current_query_no={@add_field.item.query_no} not_empty='{@add_field.item.query_no}'/]

	[do.@junk set=module.dataset.field_query.new]

	  [module.current_query_no /] as 
	  (
	  select [module.previous_query_no /].*, 
      
      [if.not_empty template.ifnull]
      	ifnull([template.field /],'[template.ifnull /]') as [aw2.get template.as_field /]   
      [/if.not_empty]
      [if.else]
		  [template.field /] as [aw2.get template.as_field /] 
      [/if.else]


      from 
	  [module.previous_query_no /] left join [template.table /]
	  on 
	  [module.previous_query_no /].[template.ref_id]=[template.table /].[template.id_field /] )
	[/do.@junk]
		[module.set current_field='' /]	
[/templates.add]

[templates.add add_field_taxonomy]
	[aw2.get module.current_field.taxonomy set=template.taxonomy /]

	[aw2.get module.current_field.id_field set=template.id_field default='data_id'/]
	[aw2.get module.current_field.ref_id set=template.ref_id default='data_id'/]
	[aw2.get module.current_field.meta_value_field set=template.meta_value_field default='name'/]
	[aw2.get module.current_field.field set=template.field default='{template.taxonomy}' /]
	[aw2.get module.current_field.table set=template.table default=all_terms /]
	[aw2.get module.current_field.ifnull set=template.ifnull/]
	[templates.set_query_no /]
			[module.set current_query_no={module.query_no} /]
			[module.set current_query_no={@add_field.item.query_no} not_empty='{@add_field.item.query_no}'/]

	[do.@junk set=module.dataset.field_query.new]
	  [module.current_query_no /] as 
	  (
	  select [module.previous_query_no /].*, 

      [if.not_empty template.ifnull]
      	ifnull([template.meta_value_field /],'[template.ifnull /]') as [template.field /]  
      [/if.not_empty]
      [if.else]
      	[template.meta_value_field /] as [template.field /]  
      [/if.else]
      
 from 
	  [module.previous_query_no /] left join [aw2.get template.table /]
	   on 
	  [module.previous_query_no /].[template.ref_id]=[template.table /].[template.id_field /] and taxonomy='[template.taxonomy/]' )
	[/do.@junk]
		[module.set current_field='' /]	        
[/templates.add]

[templates.add add_field_sql]

	[templates.set_query_no /]
			[module.set current_query_no={module.query_no} /]
			[module.set current_query_no={@add_field.item.query_no} not_empty='{@add_field.item.query_no}'/]

	[do.@junk set=module.dataset.field_query.new]
		[module.current_query_no /] as 
		(
		[code.run module.current_field.sql /]
		 )
	[/do.@junk]
		[module.set current_field='' /]			
[/templates.add]


//** templates to build q0 **//
[templates.add q0]

		[module.set current_query_no='q0' /]
		[module.set current_query_no={module.with.query_no} not_empty='{module.with.query_no}'/]

	with [module.current_query_no /] as (	
	  [templates.q0_sql not_empty='{module.with.sql}' /]	
	  [templates.q0_published_posts not_empty='{module.with.published_posts}' /]	
	  [templates.q0_aw2_filter_query not_empty='{module.with.aw2_filter_query}' /]	
	)
[/templates.add]

[templates.add q0_sql]
	[do.@i]
		[module.with.sql /]
	[/do.@i]
[/templates.add]

[templates.add q0_published_posts]
	[do.@i]
		Select ID as data_id from wp_posts where post_type='[module.with.published_posts.post_type /]' and post_status='publish'
	[/do.@i]
[/templates.add]

[templates.add q0_aw2_filter_query]
	[do.@i]
	  SELECT
	  object_id AS data_id
			[if.not_empty module.with.aw2_filter_query.select_fields]
			,[module.get with.aw2_filter_query.select_fields]
			[/if.not_empty]
	  FROM [module.get with.aw2_filter_query.table /] as d1
	  WHERE
	  1=1
	  [templates.aw2_where_clauses where='{module.with.aw2_filter_query.where}'/]
	[/do.@i]
[/templates.add]

[templates.add aw2_where_clauses]
  [loop.@i template.where]
	[template.set wheres.new]
	  [aw2.switch]
		[aw2.case cond="{@i.item.data_type}" equal="period"]
		  
          [date.aw2_period period="{@i.item.value}" set=template.select_period_arr/]

		  AND DATE([aw2.get @i.item.column /]) <= DATE([template.get select_period_arr.end_date /])
		  AND DATE([aw2.get @i.item.column /]) >= DATE([template.get select_period_arr.start_date /])
		[/aw2.case]

		[aw2.case not_empty="{@i.item.column}"]
		  AND [templates.apply_operator where={@i.item} /]
		[/aw2.case]

		[aw2.case not_empty="{@i.item.sql}"]
		  [aw2.get @i.item.sql /]
		[/aw2.case]

	  [/aw2.switch]
	[/template.set]
  [/loop.@i]

  [template.return template.wheres.space /]
[/templates.add]




//** templates for apply operators **//
[templates.add apply_operator]
		[template.set where.operator="{template.where.operator}" default='in' /]
		[template.set where.data_type="{template.where.data_type}" default='string' /]

		[templates.basic_operator list='lt,gt,lte,gte,eq,neq' contains='{template.where.operator}' where='{template.where}'/]

		[templates.whitespace_operator list='whitespace' contains='{template.where.operator}' where='{template.where}'/]	
		[templates.not_whitespace_operator list='not_whitespace' contains='{template.where.operator}' where='{template.where}'/]	
		[templates.null_operator list='null,not_null' contains='{template.where.operator}' where='{template.where}'/]	
		[templates.like_operator list='like,not_like' contains='{template.where.operator}' where='{template.where}'/]	
		[templates.in_operator list='in,not_in' contains='{template.where.operator}' where='{template.where}'/]	
		[templates.exists_operator list='exists' contains='{template.where.operator}' where='{template.where}'/]	
[/templates.add]

[templates.add basic_operator]

  [if.contains needle="{template.where.data_type}" haystack="string,number"]
	[template.where.column /]
  [/if.contains]
  [if.contains needle="{template.where.data_type}" haystack="date"]
	DATE([template.where.column /])
  [/if.contains]

  [if.equal lhs='{template.where.operator}' rhs='lt']<[/if.equal]
	[if.equal lhs='{template.where.operator}' rhs='gt']>[/if.equal]
	[if.equal lhs='{template.where.operator}' rhs='lte']<=[/if.equal]
	[if.equal lhs='{template.where.operator}' rhs='gte']>=[/if.equal]
	[if.equal lhs='{template.where.operator}' rhs='eq']=[/if.equal]
	[if.equal lhs='{template.where.operator}' rhs='neq']<>[/if.equal]

	[if.contains needle="{template.where.data_type}" haystack="string"]
	'[template.where.value /]'
  [/if.contains]

	[if.contains needle="{template.where.data_type}" haystack="number"]
	[template.where.value /]
  [/if.contains]

  [if.contains needle="{template.where.data_type}" haystack="date"]
	DATE([template.where.value /])
  [/if.contains]

[/templates.add]

[templates.add like_operator]
  [template.where.column /]

  [if.equal lhs='{template.where.operator}' rhs='like'] LIKE [/if.equal]
	[if.equal lhs='{template.where.operator}' rhs='not_like'] NOT LIKE [/if.equal]

	'%[template.where.value /]%'

[/templates.add]

[templates.add null_operator]
  [template.where.column /]

  [if.equal lhs='{template.where.operator}' rhs='null'] IS NULL [/if.equal]
	[if.equal lhs='{template.where.operator}' rhs='not_null'] IS NOT NULL [/if.equal]
[/templates.add]


[templates.add whitespace_operator]
(
  [template.where.column /]
  [if.equal lhs='{template.where.operator}' rhs='whitespace'] IS NULL [/if.equal]
or
  TRIM([template.where.column /])
  [if.equal lhs='{template.where.operator}' rhs='whitespace'] = '' [/if.equal]
)
[/templates.add]

[templates.add not_whitespace_operator]
(
  [template.where.column /]
	[if.equal lhs='{template.where.operator}' rhs='not_whitespace'] IS NOT NULL [/if.equal]

and

  TRIM([template.where.column /])
	[if.equal lhs='{template.where.operator}' rhs='not_whitespace'] <> '' [/if.equal]
)

[/templates.add]

[templates.add in_operator]
  [template.where.column /]

  [if.equal lhs='{template.where.operator}' rhs='in'] IN [/if.equal]
	[if.equal lhs='{template.where.operator}' rhs='not_in'] NOT IN [/if.equal]

	[if.contains needle="{template.where.data_type}" haystack="string"]
		([template.where.value.comma.quote_comma /])
	[/if.contains]

	[if.contains needle="{template.where.data_type}" haystack="number"]
		([template.where.value/])
	[/if.contains]
[/templates.add]

[templates.add exists_operator]
	1=1
[/templates.add]


[templates.add filter_period_backup]
	[if.not_whitespace module.current_filter.period]
		[module.current_filter.field set=module.current_filter.field /]
		[module.current_filter.period set=module.current_filter.period default='day'/]
		[module.current_filter.which set=module.current_filter.which default=0 /]

		[do.@junk set='module.current_filter.sql_where']	
			[if.equal lhs='{module.current_filter.period}' rhs='day']
				[module.set current_filter.which=0 cond='{module.current_filter.which}' equal='today'/]
				[module.set current_filter.which=1 cond='{module.current_filter.which}' equal='yesterday'/]
					date([module.current_filter.field]) = CURDATE() - INTERVAL [module.current_filter.which/] DAY
			[/if.equal] 

			[if.equal lhs='{module.current_filter.period}' rhs='days']
					date([module.current_filter.field]) >= CURDATE() - INTERVAL [module.current_filter.which/] DAY
			[/if.equal] 

			[if.equal lhs='{module.current_filter.period}' rhs='month']
				[module.set current_filter.which=0 cond='{module.current_filter.which}' equal='this_month'/]
				[module.set current_filter.which=1 cond='{module.current_filter.which}' equal='last_month'/]
					month([module.current_filter.field])=month(DATE_FORMAT(CURDATE(), '%Y-%m-01')-interval [module.current_filter.which/] month) and
					year([module.current_filter.field])=year(DATE_FORMAT(CURDATE(), '%Y-%m-01')-interval [module.current_filter.which/] month)
			[/if.equal] 

			[if.equal lhs='{module.current_filter.period}' rhs='months']
					date([module.current_filter.field]) >= DATE_FORMAT(CURDATE(), '%Y-%m-01')-interval ([module.current_filter.which/] - 1) month
			[/if.equal] 

			[if.equal lhs='{module.current_filter.period}' rhs='year']
				[module.set current_filter.which=0 cond='{module.current_filter.which}' equal='this_year'/]
				[module.set current_filter.which=1 cond='{module.current_filter.which}' equal='this_year'/]
					YEAR([module.current_filter.field]) = YEAR(CURDATE()) - [module.current_filter.which/]
			[/if.equal] 
		[/do.@junk]

	[templates.set_query_no /]
		[do.@junk set=module.dataset.filter_query.new]
	[module.query_no /] as 
		(
		select [module.previous_query_no /].* from [module.previous_query_no /] 
					where 
			[module.current_filter.sql_where]
		)
  [/do.@junk]

	[/if.not_whitespace] 
	[module.set current_filter='' /]	
[/templates.add]				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>266</wp:post_id>
		<wp:post_date><![CDATA[2018-02-13 09:52:16]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-02-13 09:52:16]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[meta_query]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[db_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>Post Builder</title>
		<link>http://nxt.wpoets.com/?post_type=db_service&#038;p=453552</link>
		<pubDate>Thu, 05 Jul 2018 04:19:09 +0000</pubDate>
		<dc:creator><![CDATA[]]></dc:creator>
		<guid isPermaLink="false">http://mj.wordpoets.com/?post_type=db_service&#038;p=453552</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add get_data]
  //***Posts Builder Part Start***//
  [query.posts_builder part=start]
    {
      [if.not_empty template.args.post_type]
      	"post_type": "[aw2.get template.args.post_type /]",
      [/if.not_empty]
      [if.else]
      	"post_type": [aw2.get template.args.post_arr /],
      [/if.else]
      "orderby": "[aw2.get template.args.orderby default="menu_order"/]",
      "order": "[aw2.get template.args.order default="ASC"/]",
      [if.not_equal lhs="{template.args.s}" rhs=""]
        "s": "[aw2.get template.args.s /]",
      [/if.not_equal]
      [if.not_empty template.args.tag__in]
        "tag__in": [ [aw2.get template.args.tag__in /] ],
      [/if.not_empty]
      [if.not_equal lhs="{template.args.post__in}" rhs=""]
        "post__in": [ [aw2.get template.args.post__in /] ],
      [/if.not_equal]
      [if.not_equal lhs="{template.args.post__not_in}" rhs=""]
        "post__not_in": [ [aw2.get template.args.post__not_in /] ],
      [/if.not_equal]
      [if.not_empty template.args.post_parent]
      	"post_parent": "[aw2.get template.args.post_parent /]",
      [/if.not_empty]
      "posts_per_page": [aw2.get template.args.posts_per_page default= -1 /],
      "paged": "[aw2.get template.args.paged default=1 /]"
    }
  [/query.posts_builder]  
  
  //***Posts Builder Part Meta Query***//
  [loop.@meta_val template.args.meta not_empty="{template.args.meta}"]
    [query.posts_builder part=meta_query]
      {
        "relation":"or",
        [loop.@meta_item @meta_val.item.comma not_empty="{@meta_val.item}"]
          "[aw2.get @meta_item.key /]":{
          "key": "[aw2.get @meta_val.key /]",
          "value": "\"[aw2.get @meta_item.item]\"",
          "compare": "LIKE"
          }
          [if.true @meta_item.between],[/if.true]
        [/loop.@meta_item]
      }
    [/query.posts_builder]
  [/loop.@meta_val]
  
  //***Posts Builder Part Meta Query for single meta***//
  [loop.@meta_val template.args.single_meta not_empty='{template.args.single_meta}']
    [query.posts_builder part=meta_query]
      {
          "key": "[aw2.get @meta_val.key /]",
          "value": "[aw2.get @meta_val.item.value /]",
          "compare": "[aw2.get @meta_val.item.compare default='=' /]",
          "type": "[aw2.get @meta_val.item.type default='CHAR' /]"
      }
    [/query.posts_builder]
  [/loop.@meta_val]
  
  //***Posts Builder Part Taxo Query***//
  [loop.@taxo_val template.args.taxo not_empty='{template.args.taxo}']
	[query.posts_builder part=tax_query not_empty="{@taxo_val.item.terms}"]
      {
        "taxonomy": "[aw2.get @taxo_val.key /]",
        "field": "[aw2.get @taxo_val.item.field default="ids" /]",
        "terms": [ [aw2.get @taxo_val.item.terms /] ],
        "include_children":	[aw2.get @taxo_val.item.include_children default=true /]
      }
	[/query.posts_builder]
  [/loop.@taxo_val]
  [query.posts_builder part=run set="template.result" /]
  [template.return template.result /]
[/templates.add]				]]></content:encoded>
		<excerpt:encoded><![CDATA[
				
								]]></excerpt:encoded>
		<wp:post_id>453552</wp:post_id>
		<wp:post_date><![CDATA[2018-07-05 04:19:09]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2018-07-05 04:19:09]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[post-builder]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[db_service]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[inline_featured_image]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[inline_featured_image]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							</item>
		
		<item>
		<title>Plot</title>
		<link>http://nxt.wpoets.com/plot/</link>
		<pubDate>Sat, 26 Oct 2019 07:39:06 +0000</pubDate>
		<dc:creator><![CDATA[Amit]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=aw2_app&#038;p=858260</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>858260</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 07:39:06]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 07:39:06]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[plot]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[aw2_app]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[config_collection]]></wp:meta_key>
		<wp:meta_value><![CDATA[c_plot]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_config_collection]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5ac35ca9b9389]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[modules_collection]]></wp:meta_key>
		<wp:meta_value><![CDATA[m_plot]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_modules_collection]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5ac35cdb9b852]]></wp:meta_value>
		</wp:postmeta>
						
							<wp:postmeta>
		<wp:meta_key><![CDATA[_pages_collection]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5ac35cf21a4d5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[posts_collection]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_posts_collection]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5ac35d021a4d6]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[skip_sitemap]]></wp:meta_key>
		<wp:meta_value><![CDATA[yes]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_skip_sitemap]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5afa88c560520]]></wp:meta_value>
		</wp:postmeta>
							</item>
		
		
		<item>
		<title>setup-terms</title>
		<link>http://nxt.wpoets.com/taxonomy_holder/setup-terms/</link>
		<pubDate>Tue, 19 Nov 2019 16:25:01 +0000</pubDate>
		<dc:creator><![CDATA[Amit]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=taxonomy_holder&#038;p=859119</guid>
		<description></description>
		<content:encoded><![CDATA[To set up all the default terms.]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>859119</wp:post_id>
		<wp:post_date><![CDATA[2019-11-19 16:25:01]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-19 16:25:01]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[setup-terms]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[taxonomy_holder]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="note_type" nicename="architecture"><![CDATA[Architecture]]></category>
		<category domain="note_type" nicename="development"><![CDATA[Development]]></category>
		<category domain="story_status" nicename="discussion"><![CDATA[Discussion]]></category>
		<category domain="task_status" nicename="feedback"><![CDATA[Feedback]]></category>
		<category domain="story_status" nicename="feedback"><![CDATA[Feedback]]></category>
		<category domain="task_status" nicename="hold"><![CDATA[Hold]]></category>
		<category domain="note_type" nicename="implementation"><![CDATA[Implementation]]></category>
		<category domain="story_status" nicename="in-pipeline"><![CDATA[In Pipeline]]></category>
		<category domain="story_status" nicename="migration"><![CDATA[Migration]]></category>
		<category domain="note_type" nicename="migration"><![CDATA[Migration]]></category>
		<category domain="task_status" nicename="new"><![CDATA[New]]></category>
		<category domain="story_status" nicename="new"><![CDATA[New]]></category>
		<category domain="story_status" nicename="ops"><![CDATA[OPS]]></category>
		<category domain="task_status" nicename="signed-off"><![CDATA[Signed Off]]></category>
		<category domain="story_status" nicename="signed-off"><![CDATA[Signed Off]]></category>
		<category domain="note_type" nicename="story"><![CDATA[Story]]></category>
		<category domain="note_type" nicename="usage"><![CDATA[Usage]]></category>
		<category domain="task_status" nicename="work-in-progress"><![CDATA[WIP]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_yoast_wpseo_content_score]]></wp:meta_key>
		<wp:meta_value><![CDATA[60]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_yoast_wpseo_primary_task_status]]></wp:meta_key>
		<wp:meta_value><![CDATA[196]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_yoast_wpseo_primary_story_status]]></wp:meta_key>
		<wp:meta_value><![CDATA[207]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_yoast_wpseo_primary_note_type]]></wp:meta_key>
		<wp:meta_value><![CDATA[208]]></wp:meta_value>
		</wp:postmeta>
							</item>
		
		<item>
			<title>Layout</title>
			<link>https://wpoets.com/?post_type=c_plot&#038;p=858265</link>
			<pubDate>Wed, 03 Jul 2019 06:46:44 +0000</pubDate>
			<dc:creator><![CDATA[wpoid_web]]></dc:creator>
			<guid isPermaLink="false">http://plot.getawesomestudio.com/?post_type=c_plot&#038;p=663292</guid>
			<description></description>
			<content:encoded><![CDATA[<!DOCTYPE html>
	<html>
		<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
		<meta name="mobile-web-app-capable" content="yes">
		<title>[aw2.get app.name /]</title>
		[plot.icon /]
		[this_collection.scripts /]
		</head>
		<body>
		<template get='[app.path /]/' axn=core.set set='settings.path'></template>
			
		<header>
			[this_collection.header /]
		</header>
		
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-2 sidebar no-padding">
				<div class="sidebar-wrapper gray-darker-bg">
				  [this_collection.menu /]
				  [this_collection.footer /]
				</div>
			  </div>
			  <div class="col-lg-10 no-padding">
				<main>
				  [app.run active_module /]
				</main>   
			  </div>
		  </div> 
		</div>
			[if.not_empty app.page_title]
			<script>document.title = "[env.get app.page_title /]"; </script>
		[/if.not_empty]
	  </body>
	</html>]]></content:encoded>
			<excerpt:encoded><![CDATA[]]></excerpt:encoded>
			<wp:post_id>858265</wp:post_id>
			<wp:post_date><![CDATA[2019-07-03 06:46:44]]></wp:post_date>
			<wp:post_date_gmt><![CDATA[2019-07-03 06:46:44]]></wp:post_date_gmt>
			<wp:comment_status><![CDATA[closed]]></wp:comment_status>
			<wp:ping_status><![CDATA[closed]]></wp:ping_status>
			<wp:post_name><![CDATA[layout]]></wp:post_name>
			<wp:status><![CDATA[publish]]></wp:status>
			<wp:post_parent>0</wp:post_parent>
			<wp:menu_order>0</wp:menu_order>
			<wp:post_type><![CDATA[c_plot]]></wp:post_type>
			<wp:post_password><![CDATA[]]></wp:post_password>
			<wp:is_sticky>0</wp:is_sticky>
		</item>
					<item>
		<title>Scripts</title>
		<link>https://wpoets.com/?post_type=c_plot&#038;p=858267</link>
		<pubDate>Wed, 03 Jul 2019 06:47:48 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://plot.getawesomestudio.com/?post_type=c_plot&#038;p=663296</guid>
		<description></description>
		<content:encoded><![CDATA[<link rel="stylesheet" href="[aw2.get url.home /]site-skin/css/awesome-css"> //** Add moodboad css***//
<link rel="stylesheet" href="[aw2.get app.path /]/css/common-css"> //** Add moodboad css***//
<link rel="stylesheet" href="https://cdn.getawesomestudio.com/lib/font-awesome/4.7.0/css/font-awesome.css">  //** Include awesome font***//
<script type='text/javascript' src='https://cdn.getawesomestudio.com/lib/jquery/3.1.1/jquery.min.js'></script>

<script>
  jQuery( document ).ready(function( $ ) {
    $.ajax({
      url: '[env.get settings.cdn /]spa/spa.v2.min.js',
      dataType: "script",
      cache: true,
      success: function() {
        spa.app.start({
          homeurl:'[aw2.get url.home /]',
          cdn:'[env.get settings.cdn /]',
          path:'[aw2.get app.path /]'
        });
      }
    });
  });
</script>

<script type="spa/axn" axn="core.run_script">
  	
    //*************************** label url script ********************
    $("body").on("click",".add-more-url",function(event){
      $parent_section = $(event.target).closest('.multi-url-section');
      $name = ($parent_section).data('name');
      $element = '<div class="row child-url">' + $(event.target).closest('.master-url').html() + "</div>";
      $(event.target).closest('.master-url').after($element);
      $($parent_section).find(".add-more-url:eq(1)").replaceWith($(".remove-icon-html").html());
      $($parent_section).find(".reference_label:eq(1), .reference_url:eq(1)").val('');
    });
    $("body").on("click",".remove-url",function(){
      $(this).closest('.child-url').remove();
    });
    
    
		//*************** file upload script **************************
    $("body").on("click",".add-more-attachment",function(event){
    		$parent_section = $(event.target).closest('.multi-file-section');
        $name = ($parent_section).data('name');
        $element = '<div class="row child-attachment">' + $(event.target).closest('.master-attachment').html() + "</div>";
        $(event.target).closest('.master-attachment').after($element);
        $($parent_section).find(".add-more-attachment:eq(1)").replaceWith('<span class="remove-attachment font-size-jumbo pointer"><b>-</b></span>');
        $($parent_section).find(".file-input-attachment:eq(1)").attr('name', $name + ($($parent_section).find('.file-input-attachment').length));
        $('#'+$name+'_count').val($($parent_section).find('.file-input-attachment').length);
    });
    
    $("body").on("click",".remove-attachment",function(){
      $parent_section = $(this).closest('.multi-file-section');
      $(this).closest('.child-attachment').remove();
      $($parent_section).find('.file-input-attachment').each(function(index){
        $(this).attr('name', $name + (index+1));
      });
      $('#'+$name+'_count').val($($parent_section).find('.file-input-attachment').length);
    });
      
    $(".mobile-menu").click(function(){
        $(".sidebar-wrapper").toggleClass("active");
    });
    $(".mobile-search").click(function(){
        $(".header-main").slideToggle();
        $("body .filters-wrapper").hide();
    });
    $("body").on("click", ".filter-icon", function(){
        $("body .filters-wrapper").slideToggle();
        $(".header-main").hide();
    });
  	
</script>

<script type="spa/axn" axn=core.run_script>
  spa.ckeditor5={};
  spa.ckeditor5.prerequisites={};
  
  spa.ckeditor5.prerequisites.cdn_js_files='ckeditor5/12.4.0/decoupled-document/ckeditor.js';
  
  spa.ckeditor5.init=function(o){}
   
  spa.ckeditor5.run=function(o){
    
    var editor = o.el.attr('editor');
    var toolbar = o.el.attr('toolbar');
    var upload_path = o.el.attr('upload_url');
    
    DecoupledEditor
      .create( document.querySelector( editor ),{
          simpleUpload: {
               uploadUrl: upload_path,
               headers: { }
          },
        	toolbar: {
            viewportTopOffset: 100
          }
      } )
      .then( editor => {
          spa.noteEditor = editor;
          const toolbarContainer = document.querySelector( toolbar );
          toolbarContainer.appendChild( editor.ui.view.toolbar.element );
      } )
      .catch( error => {
          console.error( error );
      } );  
  }
</script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>858267</wp:post_id>
		<wp:post_date><![CDATA[2019-07-03 06:47:48]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-07-03 06:47:48]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[scripts]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[c_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>Header</title>
		<link>https://wpoets.com/?post_type=c_plot&#038;p=858268</link>
		<pubDate>Wed, 03 Jul 2019 06:49:37 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://plot.getawesomestudio.com/?post_type=c_plot&#038;p=663298</guid>
		<description></description>
		<content:encoded><![CDATA[<div class="header brand-white-bg">
		<div class="is-flex align-items-center height-100">
        <div class="align-items-center justify-content-center col-2 col-md-1 is-flex is-lg-none">
            <i class="font-size-largest icon-menu mobile-menu"></i>
        </div>
    		<div class="col-3 col-lg-2 col-md-2 logo-wrapper pad-y-2 br-right">
        		<a href="[php.site_url /]">
                <img alt="[php.get_bloginfo p1='name' /]" src="[app.settings.site_logo /]" class="logo-img img-responsive">
            </a>
        </div>
        <div class="align-items-center col-12 col-lg-5 col-md-5 header-main no-padding-left no-padding-right brand-white-bg">       
        	 <div class="search-container width-100">
           //** [if.equal lhs="{app.active.module}" rhs="stories"]
            	[aw2.set module.searchpage="stories" /]
            [/if.equal]
            [if.equal lhs="{app.active.module}" rhs="task-all"]
            	[aw2.set module.searchpage="task-all" /]
            [/if.equal]
            [if.equal lhs="{app.active.module}" rhs="notes"]
             	[aw2.set module.searchpage="notes" /]
            [/if.equal] **//
            
            <form class="is-relative no-margin searchform" 
            			action="[app.path /]/[aw2.get module.searchpage default='search-results' /]/">
              [plot.icon.search color="gray-light" /]
              <input type="text" class="border-0  text-truncate form-control searchbox" 
              			 placeholder="Search User story, Task..." 
                     value="[aw2.get request.search /]" 
                     name="search" required>    
              <button type="button" class="run-search is-none"></button>
            </form>
            
          </div>
       	</div>
        <div class="col-7 col-lg-5 col-md-4 is-flex justify-content-end no-padding"> 
          <div class="is-flex align-items-center is-md-none mobile-search pad-x-4">
              [plot.icon.search color="gray" /]
          </div>
        
            <div class="align-items-center is-flex pad-x-4 filter-icon">
              [plot.icon.filters color="gray" /]
            </div>  
        
        	        
          <div class="dropdown is-flex align-items-center br-left is-relative nav-ul-header pad-x-4">
              <span class="dropbtn is-none is-lg-flex pad-y-2 pad-x-4 no-padding-left">
              [aw2.get current_user.display_name /]<i class="icon icon-expand-more font-size-larger"></i>
              </span>
              <ul class="dropdown-content">
                <li><a href="[php.get_edit_user_link p1='{current_user.ID}' /]" class="font-size-small" target="_blank" rel="noopener noreferrer">My Profile</a></li>
                <li><a href="[php.wp_logout_url /]" class="font-size-small">Log Out</a></li>
              </ul>
              <div class="user-img">
                  <img src="[php.get_avatar_url p1='{current_user.ID}' /]" 
                style="width: 40px;" class="br-50">
              </div>
          </div>
        </div>
    </div>
</div>
<div class="header-gap"></div>

<div class="remove-icon-html is-none">
<span class="remove-url">[plot.icon.remove color="gray" /]</span>
</div>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>858268</wp:post_id>
		<wp:post_date><![CDATA[2019-07-03 06:49:37]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-07-03 06:49:37]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[header]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[c_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>Settings</title>
		<link>https://wpoets.com/?post_type=c_plot&#038;p=860488</link>
		<pubDate>Wed, 03 Jul 2019 06:44:50 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://plot.getawesomestudio.com/?post_type=c_plot&#038;p=663287</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860488</wp:post_id>
		<wp:post_date><![CDATA[2019-07-03 06:44:50]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-07-03 06:44:50]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[settings]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[c_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[site_logo]]></wp:meta_key>
		<wp:meta_value><![CDATA[https://www.wpoets.com/wp-content/uploads/2018/05/WPoets-logo-1.svg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[from_name]]></wp:meta_key>
		<wp:meta_value><![CDATA[Amit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[from_email]]></wp:meta_key>
		<wp:meta_value><![CDATA[amit@wpoets.com]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>Init</title>
		<link>https://wpoets.com/?post_type=c_plot&#038;p=860489</link>
		<pubDate>Wed, 03 Jul 2019 06:45:19 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://plot.getawesomestudio.com/?post_type=c_plot&#038;p=663289</guid>
		<description></description>
		<content:encoded><![CDATA[ [query.get_terms taxonomies=story_status hide_empty=0 o.set=template.story_status /]   
  [loop.@status template.story_status]
    [env.set main="story_status.{@status.item.slug}" cond='{@status.item.slug}' not_equal='new'][env.get @status.item.name /][/env.set]
    [env.set main="story_status.new_new" cond='{@status.item.slug}' equal='new'][env.get @status.item.name /][/env.set]
  [/loop.@status]     
  
  [query.get_terms taxonomies=task_status hide_empty=0 o.set=template.task_status /]
  [loop.@status template.task_status]
    [env.set main="task_status.{@status.item.slug}" cond='{@status.item.slug}' not_equal='new'][env.get @status.item.name /][/env.set]
    [env.set main="task_status.new_new" cond='{@status.item.slug}' equal='new'][env.get @status.item.name /][/env.set]
  [/loop.@status]  
  
  [query.get_terms taxonomies=note_type hide_empty=0 o.set=template.note_type /]
  [loop.@status template.note_type]
    [env.set main="note_type.{@status.item.slug}" cond='{@status.item.slug}' not_equal='new'][env.get @status.item.name /][/env.set]
    [env.set main="note_type.new_new" cond='{@status.item.slug}' equal='new'][env.get @status.item.name /][/env.set]
  [/loop.@status]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860489</wp:post_id>
		<wp:post_date><![CDATA[2019-07-03 06:45:19]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-07-03 06:45:19]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[init]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[c_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>Rights</title>
		<link>https://wpoets.com/?post_type=c_plot&#038;p=860490</link>
		<pubDate>Wed, 03 Jul 2019 06:47:14 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://plot.getawesomestudio.com/?post_type=c_plot&#038;p=663294</guid>
		<description></description>
		<content:encoded><![CDATA[[arr.create set='app.rights'] 
  [access mode='logged'  title='Login To Plot'/]

  [auth a1 method=twofactor_login_authenticator /]
  [auth a2 method=single_access  /]
[/arr.create]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860490</wp:post_id>
		<wp:post_date><![CDATA[2019-07-03 06:47:14]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-07-03 06:47:14]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[rights]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[c_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>Footer</title>
		<link>https://wpoets.com/?post_type=c_plot&#038;p=860491</link>
		<pubDate>Wed, 03 Jul 2019 06:50:54 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://plot.getawesomestudio.com/?post_type=c_plot&#038;p=663300</guid>
		<description></description>
		<content:encoded><![CDATA[[css.style]
	.footer{
  	 @media only screen and (min-width: 992px) and (min-height: 420px) {
      	width: 16.6666666667%;
        position: fixed;
        bottom: 0;
        left: 0;
      }
  }
[/css.style]
<div class="footer brand-white pad-x-4 pad-y-1">
	<span class="font-size-smallest"> 2019 <a href="https://www.wpoets.com" class="brand-primary" target="_blank" rel="noopener noreferrer">WPoets - Your WordPress Experts</a>. All Rights Reserved.</span>
</div>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860491</wp:post_id>
		<wp:post_date><![CDATA[2019-07-03 06:50:54]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-07-03 06:50:54]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[footer]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[c_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>Menu</title>
		<link>https://wpoets.com/?post_type=c_plot&#038;p=860492</link>
		<pubDate>Wed, 03 Jul 2019 10:02:32 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://plot.getawesomestudio.com/?post_type=c_plot&#038;p=663313</guid>
		<description></description>
		<content:encoded><![CDATA[[env.set_array menus.home title='Dashboard' class='' icon='dashboard' icon-color='gray-white' /]
[env.set_array menus.user-stories title='User Stories' class='' icon='user-stories' icon-color='gray-white' /]
[env.set_array menus.tasks title='Tasks' class='' icon='tasks' icon-color='gray-white' /]
[env.set_array menus.notes title='Notes' class='' icon='notes' icon-color='gray-white' /]
[env.set_array menus.reports title='Reports' class='' icon='user-stories' icon-color='gray-white' /]
[env.set_array menus.reports.children.new link='/plot/task-worked-upon' title='Task Worked Upon' class='' target='' /]
[env.set_array menus.reports.children.new link='/plot/all-activity' title='All Activity List' class='' target='' /]
[env.set_array menus.reports.children.new link='/plot/task-timeline' title='Tasks Timeline View' class='' target='' /]

[env.set_array menus.add-user-story title='Add User Story' class='' icon='add-new' icon-color='gray-white' /]

<div class="menubar pad-y-4">
  <ul>
    [loop.@menu env.menus]
        <li class="[aw2.get @menu.item.class /]">
          <a href="[app.path /]/[aw2.get @menu.key /]"
            class=""
            bind="click"
            route_ajax='[aw2.get @menu.key /]'
            control='main'
            axn='page.update'
            document_title='[aw2.get @menu.item.title /]'>
            [plot.icon template="{@menu.item.icon}" color="{@menu.item.icon-color}"/]
            <span>[aw2.get @menu.item.title /]</span>
          </a>
          [if.not_empty @menu.item.children]
              <i class="icon-arrow-drop-down brand-white submenu-icon [if.equal lhs='{@menu.item.class}' rhs='{app.slug}'] icon-arrow-drop-up[/if.equal]"></i>
              <ul class="sub-menu">
                [loop.@submenu @menu.item.children]
                  <li class="[if.equal lhs='{{php.site_url}}{server_variables.REQUEST_URI}' rhs='{@submenu.item.link}'] active[/if.equal]">
                      <a href="[aw2.get @submenu.item.link /]">[aw2.get @submenu.item.title /]</a>
                  </li>
                [/loop.@submenu]
              </ul>
          [/if.not_empty]
        </li>
    [/loop.@menu]
  </ul>
</div>
<script type="spa/axn" axn="core.run_script">
 $(".submenu-icon").click(function(){
    $(this).toggleClass("icon-arrow-drop-up").siblings(".sub-menu").slideToggle();
    $(this).parents("li").toggleClass("active");
  });
  $(".menubar a").click(function(){
      $(".sidebar-wrapper").removeClass("active");
  });
</script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860492</wp:post_id>
		<wp:post_date><![CDATA[2019-07-03 10:02:32]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-07-03 10:02:32]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[menu]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[c_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
				
		<item>
		<title>home</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860495</link>
		<pubDate>Sat, 26 Oct 2019 08:08:14 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858273</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
[css.style]
  .mobile-section{
    .active {
      background: @gray;
      color: #fff;
    }
  }
  .div-center{
  	margin:0 auto;
  }
  canvas{
      background: #fff;
  }
  .user-story-label label{
  	font-weight: 400;
    margin-bottom: 0;
    color: @gray;
  }
  .header .filter-icon{
  	display: none !important;
  }
[/css.style]

  [env.set color.status_discussion="#01aaac" /]
  [env.set color.status_feedback="#e15f6f" /]
  [env.set color.status_in-pipeline="#765285" /]
  [env.set color.status_migration="#8ec53e" /]
  [env.set color.status_new="#2a92d4" /]
  [env.set color.status_ops="#f09a09" /]
  [env.set color.status_signed-off="#828a9d" /]
  [env.set color.status_hold="#765285" /]
  [env.set color.status_work-in-progress="#f09a09" /]
 
  
	<div class="body-content-wrapper">
   <section>
      <div class="row">
        <div class="col-md-6">
					<h3 class="font-bold">Overview</h3>
          <div class="mar-b-6">
                <!-- preparing a DOM with width and height for ECharts -->
         <div id="chart-summary" style="width:100%; height:400px;"></div>
        
       
         //**write the service code to fix the data. out is user stories, inner is task **//
         [plot.user_story.status_count o.set='template.user_story_statuses' /]
         [plot.task.status_count o.set='template.task_statuses' /]
  
      [env.set_array module.chart.option title.text='' /]
      [env.set_array module.chart.option tooltip.trigger='item' /]
      [env.set module.chart.option tooltip.formatter]{a} <br/>{b}: {c} ({d}%)[/env.set]
      
      [env.set module.inner_radius.new]0[/env.set]  
      [env.set module.inner_radius.new]57%[/env.set]  
        
      [loop.@inner template.task_statuses]
        [if.not_equal lhs='{@inner.key}' rhs='total']
          [env.get color.status_{@inner.key} o.set='template.item_color' /]
          [env.set_array module.inner_data.new 
                      value='{@inner.item}' name='{@inner.key}' /]
           [env.set main="module.inner_data.last.itemStyle.normal.color"][env.get template.item_color/][/env.set]
        [/if.not_equal]
      [/loop.@inner]
      
      [env.set_array module.chart.option.series.new name='Tasks' type='pie' selectedMode='single'  radius='{module.inner_radius}'  label.normal.position='inner' labelline.normal.show='false' data='{module.inner_data}'/]
      
        
      [env.set module.outer_radius.new]65%[/env.set]  
      [env.set module.outer_radius.new]75%[/env.set]    
      
      
      [loop.@outer template.user_story_statuses]
        [if.not_equal lhs='{@outer.key}' rhs='total']
          [env.get color.status_{@outer.key} o.set='template.item_color' /]
          [env.set_array module.outer_data.new 
                      value='{@outer.item}' name='{@outer.key}' /]
          [env.set main="module.outer_data.last.itemStyle.normal.color"][env.get template.item_color/][/env.set]
        [/if.not_equal]
        
      [/loop.@outer]
      [env.set_array module.chart.option.series.new name='User Stories' type='pie' selectedMode='single'  radius='{module.outer_radius}'  data='{module.outer_data}'/]
      
      <script type="spa/axn" axn='core.run_script' cdn_js_files='echarts/4.4.0/echarts.min.js'>
        var chart_obj = echarts.init(document.getElementById('chart-summary'));
        var options= $.parseJSON('[env.get module.chart.option json_encode=true /]');
        chart_obj.setOption(options);
      </script>                

                
          </div>
        </div>
        <div class="col-md-6">
        		<h3 class="font-bold">Assigned to You</h3>
            [plot.user_story.list records="4" assigned_to="{{aw2.get current_user.user_email}}" set="template.user_stories" /]
            [template.set statuses='new,work-in-progress,feedback' /]
          
            [plot.task.list records="4" assigned_to="{{aw2.get current_user.user_email}}" task_status='{template.statuses.comma}'  set="template.tasks" /]
            <div class="no-gutters row mobile-section mar-b-4 gray text-uppercase font-size-small">
                <div class="col-6">
                    <div class="font-bold gray-lighter-bg pad-2 text-center story-tab active pointer" id="story-tab">User Stories</div>
                </div>
                <div class="col-6">
                    <div class="font-bold gray-lighter-bg pad-2 text-center tasks-tab pointer" id="tasks-tab">Tasks</div>
                </div>
            </div>
            
            <div class="story-tab1">
              <div class="mar-b-6">
                [if.empty template.user_stories.rows]
                	<p class="brand-warning pad-x-4 pad-y-2">No user story assigned to you</p>
                [/if.empty]
                
                [loop.@story template.user_stories.rows]
                  <div class="mar-b-4">
                    [plot.card.dashboard_story_card story_data="{@story.item}"/]
                  </div>
                [/loop.@story] 
                
                 <a href="[app.path /]/user-stories" class="box-shadow brand-white-bg font-bold is-block line-height-10 pad-x-4 pad-y-5 text-center text-uppercase" bind="click" route_ajax="user-stories" control="main" axn="page.update" assigned_to="[aw2.get current_user.user_email not_empty='{template.user_stories.rows}' /]" >View all Stories</a>                	
              </div>             
            </div>
            
            <div class="tasks-tab2" style="display:none;">
            		 [if.empty template.tasks.rows]
                	<p class="brand-warning pad-x-4 pad-y-2">No task assigned to you</p>
                [/if.empty]
              
                [loop.@task template.tasks.rows]
                  <div class="mar-b-4">
                  	[plot.card.dashboard_task_card task_data="{@task.item}" /]
                  </div>
                [/loop.@task]
                  <a href="[app.path /]/tasks" class="box-shadow brand-white-bg font-bold is-block line-height-10 pad-x-4 pad-y-5 text-center text-uppercase" bind="click" route_ajax="tasks" control="main" axn="page.update" assigned_to="[aw2.get current_user.user_email not_empty='{template.tasks.rows}' /]" >View all Tasks</a>
            </div>
        </div>
  		</div>
   </section>
</div>

<script type="spa/axn" axn="core.run_script">
	$(".story-tab").click(function(){
        $(".story-tab1").show();
        $(".tasks-tab2").hide();
        $(this).addClass('active');
        $(".tasks-tab").removeClass('active');
  });
  $(".tasks-tab").click(function(){
        $(".tasks-tab2").show();
        $(".story-tab1").hide();
        $(this).addClass('active');
      	$(".story-tab").removeClass('active');
  });
</script>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860495</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 08:08:14]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 08:08:14]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[home]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>tasks</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860496</link>
		<pubDate>Sat, 26 Oct 2019 11:25:37 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858277</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  //**
  * Get All Tasks
  * Query is set with/without filters to fetch tasks from DB 
  **//
    [env.set app.page_title="Tasks - Plot" /]
      <div class="br-bottom brand-white-bg filters-wrapper pad-4">
    		
        <form action="" class="tasks_filter">
          <div class="row">
            <div class="col-lg-3 col-md-4">
                [plot.filter.get_assigned_to_filter /]
            </div>
          
            <div class="col-lg-3 col-md-4">
                [plot.filter.get_task_due /]
            </div>
            <div class="col-lg-3 col-md-4">
                [plot.filter.get_tags story_task_tags="{request.task_tag}" /]
            </div>
            <div class="col-lg-3 col-md-4">

            </div>
            <div class="col-lg-3 col-md-4 text-center text-md-left">
              <div class="form-group">
                <button type="submit" class="btn btn-primary" name="filter-btn">Submit</button>
              </div>
            </div>
          </div>
        </form>
        
        [session_ticket.create nonce=yes set=module.ticket_id /]     
        [session_ticket.set_activity {module.ticket_id} collection='{module.collection}' module='{module.slug}.get_tasks' /]

        <script type=spa/axn axn='form.ajax' bind='submit' bind_selector="form.tasks_filter" disable_selector=".submit" route_ajax='t/[module.get ticket_id /]' task_tag="[request.get tag /]"></script>
    </div>

		<div class="body-content-wrapper">
      <div class="row">
        <div class="col-md-12">
          <div class="brand-white-bg mar-b-7 no-padding-bottom pad-x-5">
            <div class="font-size-smaller status-bar brand-white-bg">
                	[query.get_terms taxonomies=task_status set=template.task_status_results hide_empty=0 /]
                	[plot.card.status-bar status_results="{template.task_status_results}" ajax_template="{module.slug}.get_tasks" update_selector="section.cls_tasks" /]
            </div>
          </div>
        </div>
    	</div>
    	<h1 class="font-regular font-size-largest mar-b-4">Tasks</h1>
          
      <section role="rl_tasks" class="cls_tasks">
        [templates.run get_tasks search="{request.search}" /]
      </section>
    </div>
    
[/templates.add]

//**  GET TASKS: BEGIN **//
[templates.add get_tasks]
  <template axn=selector.update selector='section.cls_tasks' get='me.html'>      
      
      [template.set search="{request.search}" default="{template.search}" /]
      [template.set assigned_to="{request.assigned_to}" /]
      [template.set task_status="{request.status}" /]
      [template.set task_due="{request.task_due}" /]
      [template.set task_sprint="{request.task_sprint}" /]
      [template.set priority="{request.priority}" /]
      [template.set task_tag="{request.task_tag}" /]
      [template.set page="{request.page}" default="1" /] 
      [template.set table="plot" /] 

			[module.set task_due_query_part="" /]
      [if.equal rhs="{template.task_due}" lhs="today"]
        [module.set task_due_query_part=" AND STR_TO_DATE(meta_value,'%d-%m-%Y')=CURDATE()" /]
      [/if.equal]
      [if.equal rhs="{template.task_due}" lhs="tomorrow"]
          [module.set task_due_query_part="AND STR_TO_DATE(meta_value,'%d-%m-%Y')=DATE_FORMAT((CURDATE() + INTERVAL 1 DAY), '%Y-%m-%d')" /]
      [/if.equal]
      [if.equal rhs="{template.task_due}" lhs="this_week"]
          [module.set task_due_query_part=" AND YEARWEEK(STR_TO_DATE(meta_value,'%d-%m-%Y'), 1)=YEARWEEK(NOW(), 1)" /] 
      [/if.equal]
      [if.equal rhs="{template.task_due}" lhs="this_month"]
          [module.set task_due_query_part="AND MONTH(STR_TO_DATE(meta_value,'%d-%m-%Y'))=MONTH(CURDATE())" /]
      [/if.equal]
      [if.equal rhs="{template.task_due}" lhs="this_year"]
         [module.set task_due_query_part="AND YEAR(STR_TO_DATE(meta_value,'%d-%m-%Y'))=YEAR(CURDATE())" /]
      [/if.equal]

			[plot.task.list page="{template.page}" search="{template.search}" assigned_to="{template.assigned_to}" task_status="{template.task_status}" task_due="{template.task_due}" task_sprint="{template.task_sprint}" priority="{template.priority}" task_tag="{template.task_tag}" table="{template.table}" task_sprint_query_part="{module.task_sprint_query_part}" task_due_query_part="{module.task_due_query_part}" set="template.rs" /]
      
				<div class="row">
          [loop.@task template.rs.rows]
           	<div class="col-md-6">[plot.card.task_card task_data="{@task.item}" /]</div>
          [/loop.@task]
        </div>
     
  	 <div class='show-pagination' style='text-align:center'></div>
   <script type=spa/axn 
     axn='jqpagination.init' 
     selector=".show-pagination" 
     content_selector="section[role='stories']"
     slug="[module.slug /].[template.name /]?page="
     total_pages="[template.get rs.found_pages /]"
     status="[request.get status /]"
     current_page="[request.get page /]">
   </script>
 
   [plot.task.status_count  set="template.status_counts"  /]  

   [template.set task_status_count]  
        $(".status-bar span.status-all").html("([template.get status_counts.total /])");  
        $(".status-bar span.status-signed-off").html("([template.get status_counts.signed-off /])");
        $(".status-bar span.status-new").html("([template.get status_counts.new_status /])");
        $(".status-bar span.status-work-in-progress").html("([template.get status_counts.work-in-progress /])");
        $(".status-bar span.status-feedback").html("([template.get status_counts.feedback /])");
        $(".status-bar span.status-hold").html("([template.get status_counts.hold /])");   
   [/template.set] 
   [plot.card.status_script status_count="{template.task_status_count}" /]
     
  </template>

[/templates.add]
//** GET TASKS: END **//]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860496</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 11:25:37]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 11:25:37]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[tasks]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>notes</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860497</link>
		<pubDate>Sat, 26 Oct 2019 11:25:50 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858279</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  [env.set app.page_title="Notes - Plot" /]
  //** Notes Card Start Here **//
  <div class="body-content-wrapper">
  	 <div>
  		<h1 class="font-regular font-size-largest mar-b-4">Notes</h1>      
     </div> 
      <div class="row">
    	<div class="col-md-12">
      	<div class="brand-white-bg mar-b-7 no-padding-bottom pad-x-5">
          <div class="font-size-smaller status-bar brand-white-bg">
                <ul class="task-count">            
                  [query.get_terms taxonomies=note_type set=template.notes_status_results hide_empty=0 /]
                  [plot.card.status-bar status_results="{template.notes_status_results}" ajax_template="{module.slug}.get_notes" update_selector=".notes" /]
                </ul>
          </div>
        </div>
      </div>
    </div>
    <section role="notes" class="notes">
			<template axn="control.update" route_module="[aw2.get module.slug /].get_notes" search="{request.search}" control="parents.notes"> </template>   
    </section>
  </div>
  
  
  //** Notes Card End Here **//
[/templates.add]

[templates.add get_notes]
	<template selector='.notes' axn="selector.update" get="me.html">
    <div class="row notes_holder"> 
      [plot.note.list pageno='{request.page}' 
                  note_type="{request.status}" search="{template.search}"  set="template.notes" /]            
      [loop.@note template.notes.rows]
        <div class="col-md-6 mar-b-6">
        	[plot.card.notes_card note_data="{@note.item}"/]
        </div>
      [/loop.@note]
    </div>
    <div class='row'>
      <div class="col-12">
        <div class='show-pagination' style='text-align:center'></div>
      </div>
    </div>

   <script type=spa/axn 
             axn='jqpagination.init' 
             selector=".show-pagination" 
             content_selector="section[role='stories']"
             slug="[module.slug /].[template.name /]?page="
             total_pages="[template.get rs.found_pages /]"
             current_page="[template.get page /]">
   </script>
   
		 [plot.note.type_count note_type="{request.note_type}" set="template.notes_count"  /]                 
     [template.set notes_type_count]  
          $(".status-bar span.status-all").html("([template.get notes_count.total /])");  
          $(".status-bar span.status-architecture").html("([template.get notes_count.architecture /])");
          $(".status-bar span.status-implementation").html("([template.get notes_count.implementation /])");
          $(".status-bar span.status-development").html("([template.get notes_count.development /])");
          $(".status-bar span.status-usage").html("([template.get notes_count.usage /])");
          $(".status-bar span.status-migration").html("([template.get notes_count.migration /])");   
     [/template.set]    
     [plot.card.status_script status_count="{template.notes_type_count}" /] 
   </template>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860497</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 11:25:50]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 11:25:50]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[notes]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>user-stories</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860498</link>
		<pubDate>Sat, 26 Oct 2019 11:26:59 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858281</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
[env.set app.page_title="User Stories - Plot" /]
  <div class="br-bottom brand-white-bg filters-wrapper pad-4">
    <form action="" class="filter">
      <div class="row">

          <div class="col-lg-3 col-md-6">
              [plot.filter.get_assigned_to_filter /]
          </div>
          <div class="col-lg-3 col-md-6 mar-t-6 text-center text-md-left">
            <div class="form-group">
              <button type="submit" class="btn btn-primary submit" name="filter-btn">Submit</button>
              <button type="button" class="btn btn-primary" id="filter-reset-btn">Reset</button>
            </div>
          </div>
      </div>
    </form>
    [session_ticket.create nonce=yes set=module.ticket_id /]     
    [session_ticket.set_activity {module.ticket_id} collection='{module.collection}' module='{module.slug}.get_stories' /]

    <script type=spa/axn axn='form.ajax' bind='submit' bind_selector="form.filter" disable_selector=".submit" route_ajax='t/[module.get ticket_id /]'></script>
    <script type="spa/axn" axn='core.run_script' bind='click' bind_selector="#filter-reset-btn">
    	$('#assigned_to')[0].sumo.unSelectAll();
    	$('#story_status')[0].sumo.unSelectAll();
      $('form.filter').submit();
    </script>
  </div>
  <div class="body-content-wrapper">
  	<div class="is-flex justify-content-between">
  		<h1 class="font-regular font-size-largest mar-b-4">User Stories</h1>
      <a class="align-items-center font-size-smallest is-flex user-add pointer mar-b-4" 
      			href="[app.path /]/add-user-story"
            bind="click"
            route_module='add-user-story'
            control='main'
            axn='page.update'
            document_title='Add User Story'>
              //** service**//
              [plot.icon.add-new color="brand-primary" /]
              <span class="gray font-bold pad-x-1 no-padding-right">Add User Story</span>
      </a>
    </div> 
    <div class="row">
    	<div class="col-md-12">
      	<div class="brand-white-bg mar-b-7 no-padding-bottom pad-x-5">
          <div class="font-size-smaller status-bar brand-white-bg">             
                  [query.get_terms taxonomies=story_status set=template.status_results hide_empty=0 /]
                	[plot.card.status-bar status_results="{template.status_results}" ajax_template="{module.slug}.get_stories" update_selector="section.cls_tasks" /]
              </div>
        </div>
      </div>
    </div>
  //** Status Bar End Here **//  

    <section role="stories" class="stories" axn='selector.update' route_ajax='[module.slug].get_stories'>
      <template axn="control.update" route_module="[aw2.get module.slug /].get_stories" control="parents.stories"> </template>
    </section>
  </div>
[/templates.add]

[templates.add get_stories]
  <template axn=selector.update selector='section.stories' get='me.html'>
  	<div class="row">
      
      [template.set search="{request.search}" /]
      [template.set priority="{request.priority}" /]
      [template.set story_status="{request.status}" /]
      [template.set assigned_to="{request.assigned_to}" /]
      [template.set page="{request.page}" default="1" /] 
      [template.set table="plot" /] 
      
			[plot.user_story.list page="{template.page}" search="{template.search}" priority="{template.priority}" assigned_to="{template.assigned_to}" story_status="{template.story_status}" table="{template.plot}" set="template.rs" /] 
   
        [loop.@story template.rs.rows]
        	<div class="col-md-6 mar-b-7">
          	[plot.card.story_card story_data="{@story.item}"/]
         	</div>
        [/loop.@story] 
        
        [if.empty template.rs.rows]
        	<div class="col-md-6 mar-b-7">
           <p>
           	No story [if.not_empty template.assigned_to] assigned to <em>[template.get assigned_to/]</em> [/if.not_empty]
            [if.not_empty template.story_status] for <em>[template.get story_status/]</em>[/if.not_empty]
           </p>	
         	</div>
        [/if.empty]
        <div class="gap-6"></div>      
    </div>

    <div class='row'>
      <div class="col-12">
        <div class='show-pagination' style='text-align:center'></div>
      </div>
    </div>

   <script type=spa/axn 
             axn='jqpagination.init' 
             selector=".show-pagination" 
             content_selector="section[role='stories']"
             slug="[module.slug /].[template.name /]?page="
             total_pages="[template.get rs.found_pages /]"
             current_page="[template.get page /]">
   </script>
   
   [plot.user_story.status_count  set="template.status_counts"  /]  
   [template.set story_status_count]  
        $(".status-bar span.status-all").html("([template.get status_counts.total /])");  
        $(".status-bar span.status-signed-off").html("([template.get status_counts.signed-off /])");
        $(".status-bar span.status-new").html("([template.get status_counts.new_status /])");
        $(".status-bar span.status-in-pipeline").html("([template.get status_counts.in-pipeline /])");
        $(".status-bar span.status-feedback").html("([template.get status_counts.feedback /])");
        $(".status-bar span.status-discussion").html("([template.get status_counts.discussion /])");   
        $(".status-bar span.status-ops").html("([template.get status_counts.ops /])");   
        $(".status-bar span.status-migration").html("([template.get status_counts.migration /])");   
   [/template.set] 
   [plot.card.status_script status_count="{template.story_status_count}" /]
   
  </template>

[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860498</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 11:26:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 11:26:59]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[user-stories]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>search-results</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860499</link>
		<pubDate>Sat, 26 Oct 2019 11:32:28 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858283</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[css.style]
	.filter-icon {
      display: none !important;
  }
  [/css.style]

  [template.set search="{request.search}" /]
  [env.set app.page_title="Search result for {template.searche} - Plot" /]
  <div class="body-content-wrapper">
  	<div class="justify-content-between">
  		<h3 class="font-regular font-size-largest text-center">
      	Search result for "[template.get search /]"</h3>
    </div>  
    
  [plot.user_story.list page="{template.page}" 
  										 records="24"	
  										 search="{template.search}" 
                       table="{template.plot}" 
                       set="template.user_story"
                       not_empty="{template.search}" /] 
   [if.not_empty template.user_story.rows]                        
  	<div class="is-flex justify-content-between">
  		<h1 class="font-regular font-size-largest mar-b-4">User Stories</h1>
    </div>  
    <div class="row">
      [loop.@story template.user_story.rows]
        <div class="col-md-6 mar-b-7">
          [plot.card.story_card story_data="{@story.item}"/]
        </div>
      [/loop.@story] 
      <div class="gap-6"></div>      
    </div>
    
    
   [/if.not_empty]
   
   [plot.task.list page="{template.page}" records="24" search="{template.search}" table="{template.table}"
                    set="template.task" not_empty="{template.search}" /]
                    
   [if.not_empty template.task.rows]         
    <div class="is-flex justify-content-between">
  		<h1 class="font-regular font-size-largest mar-b-4">Tasks</h1>
    </div>  
    <div class="row">
      
     
      [loop.@task template.task.rows]
        <div class="col-md-6">[plot.card.task_card task_data="{@task.item}" /]</div>
      [/loop.@task]
      <div class="gap-6"></div>      
    </div>
   [/if.not_empty]   
   
   
   [plot.note.list pageno='{request.page}' records="24"	 
    						search="{template.search}" set="template.notes" not_empty="{template.search}" /]                 
   [if.not_empty template.notes.rows]         
    <div class="is-flex justify-content-between">
  		<h1 class="font-regular font-size-largest mar-b-4">Notes</h1>
    </div>  
    <div class="row">
      [loop.@note template.notes.rows]
        <div class="col-md-6 mar-b-6">
          [plot.card.notes_card note_data="{@note.item}"/]
        </div>
      [/loop.@note]
      <div class="gap-6"></div>      
    </div>
   [/if.not_empty]  
   
   [if.equal lhs="{template.user_story.found_rows}" rhs="0"]
   [/if.equal]
   [if.and cond="{template.task.found_rows}" equal="0"]
   [/if.and]
   [if.and cond="{template.notes.found_rows}" equal="0"]
    <div class="justify-content-between">
   		<h3 class="text-center">No Results Found</h3>
    </div>      
   [/if.and]   
  </div>
  
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860499</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 11:32:28]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 11:32:28]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[search-results]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>task</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860500</link>
		<pubDate>Sat, 26 Oct 2019 11:37:34 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858285</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]

	<main>
  [css.style]
    .filter-icon {
        display: none !important;
    }
	[/css.style]
  [plot.task.single task_id='{qs.0}' set="template.task_data" not_empty="{qs.0}" /]
    
		//** check is valied tast id **//
    [template.set task_id="{template.task_data.task_id}" /]
    [if.empty template.task_id]
      [template.return /]
    [/if.empty]

    [template.set story_id="{template.task_data.story_id}" /]
    [plot.user_story.single story_id="{template.task_data.story_id}" set="template.story_data"  /]
    
    [env.set app.page_title="{template.task_data.task_title} - Plot" /]
    <div class="body-content-wrapper task-body">
     	<div class="row">
          <div class="col-md-7 response"></div>
      </div> 
      [template.set_array crumbs.new title='Dashboard' url="{app.path /}/" route_ajax='home'/]
      [template.set_array crumbs.new title='Tasks' url='{app.path}/tasks' route_ajax='tasks' /]
      [template.set_array crumbs.new title='{template.task_data.task_title}' url='' /]
      [plot.card.breadcrumbs crumbs="{template.crumbs}"/]
      
      <div class="no-gutters row is-md-none mobile-section mar-b-4 gray">
        <div class="col-5">
            <div class="font-bold gray-lighter-bg pad-1 text-center active tasks-tab">Tasks</div>
        </div>
        <div class="col-7">
            <div class="font-bold gray-lighter-bg pad-1 text-center story-tab">User Story & Notes</div>
        </div>
      </div>
      <div class="row">
       	<div class="col-md-7 mar-b-6 tasks">
          <div class="task-content brand-white-bg simple-box-shadow">
            <div class="is-flex br-bottom">
              [php.get_user_by p1="email" p2="{template.task_data.task_assigned_to}" 
              								 set="template.task_assigned_to" /]   
                               
              <div class="col-6 is-flex align-items-center pad-y-4 no-padding-right">
                <img src="[ui.avatar email='{template.task_data.task_assigned_to}' /]" 
                		 class="br-50" alt="[template.get task_assigned_to.display_name /]" 
                     title="[template.get task_assigned_to.display_name /]" /> 
                <div class="pad-x-4 no-padding-right">                  	
                  <label class="font-regular no-margin font-size-smallest">Assigned to:</label>
                  <p class="no-margin font-bold font-size-smaller">
                  	[template.get task_assigned_to.display_name /]</p>
                </div>
              </div>
              <div class="col-6 pad-4 text-right">
                [query.get_term_by field=slug value='{template.task_data.task_status}' 
                                   taxonomy=task_status set=template.result /]
                <div class="task-status font-size-smallest">
                  Current Status: 
							
                  <span class="status-[aw2.get template.result.slug /] task-status is-inline-block pad-x-2 text-uppercase"> 
                  [aw2.get template.result.name /]</span>

                </div>
                <label class="font-regular no-margin font-size-smallest">Due Date:</label>
                	<span class="brand-fourth due-date font-bold font-size-smaller is-inline-block"> [template.get task_data.task_due_date date_format="d M Y" /]</span>
              </div>
            </div>
              
              <div class="pad-x-6 pad-y-4">
              	<h2>[template.get task_data.task_title /]</h2>
                [php.preg_replace p1="/\\\\/" p2=""  p3="{template.task_data.task_description}" m.the_content=yes /]
                <div class="font-size-smallest tags pad-y-1 br-bottom">
               
                [if.not_empty template.task_data.task_tags]	
                  [loop.@tags template.task_data.task_tags.comma]
                      <span class="br br-5 mar-b-1 pad-x-2 pad-y-1 gray is-inline-block tag">
                      [aw2.get @tags.item /]
                      </span>
                  [/loop.@tags]
                [/if.not_empty]
                  <span class="br br-5 mar-b-1 pad-x-2 pad-y-1 gray font-bold is-inline-block add-tag pointer">
                  +</span>
                <div class="gap-2"></div>
                <form class="add-new-tag brand-white-bg is-none clearfix">
                  <div class="add-tag-form pad-y-5">
                    <div class="form-group col-md-5 no-padding" style="margin-right: 10px;">
                      <input name="new_tag" type="text" placeholder="Add Tag" class="form-control" required>
                    </div>
                    <div class="form-group">
                    	<button type="submit" id="add-tag" value="" class="add_tag br-none brand-primary brand-white-bg font-size-base pointer text-uppercase">
                    		Add tags</button>
                    </div>
                  </div>
                </form>  
                </div>
                
                <script type=spa/axn
                    axn='form.ajax'
                    bind='submit'
                    task_id='[template.task_data.task_id /]'
                    story_id='[template.task_data.story_id /]'
                    bind_selector="form.add-new-tag"
                    disable_selector=".add_tag"
                    route_ajax='[module.slug /].add_tag'>
                </script>

                <script type="spa/axn" axn="core.run_script">
                  $('.add-tag').click(function(){
                    $('.add-new-tag').toggleClass('is-none');
                  });
                </script>
                
                <div class="references pad-y-6 br-bottom">
                  [aw2.get template.task_data.task_reference_label_url.json_decode
                     					set="module.reference_label_url" /] 
                     
                  [if.not_empty module.reference_label_url]
                    <h5 class="font-bold">Reference Links</h5>
                    <ul class="reference-links">
                      [loop.@ref module.reference_label_url]
                        [do.@label not_empty='{@ref.item.url}']
                        <li>
                          <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">
                          [aw2.get @ref.index /]</span>
                          <a href="[aw2.get @ref.item.url /]" target="_blank" 
                             class="pad-x-2"  rel="noopener noreferrer">[aw2.get @ref.item.label /]</a></li>
                         [/do.@label]    
                      [/loop.@ref]
                    </ul>
                  [/if.not_empty]
                  [aw2.module slug="references" task_id="{template.task_id}" 
                  						story_id="{template.story_id}" type="task" is_required="required" /]
                </div>
                
                [aw2.get template.task_data.task_attachments.json_decode set="module.attachments" /]
                <div class="attachments pad-y-6 br-bottom">
                  <h5 class="font-bold">Attachments</h5>
                  <ul class="attachment-links mar-b-6">
                  	[loop.@att module.attachments]
                     [do.@label not_empty='{@att.item.url}']

                    <li>
                      <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">[aw2.get @att.index /]</span>
                      [php.pathinfo p1="{@att.item.url}" set="module.urlinfo" /]
                      
                      <a href="[aw2.get @att.item.url /]" target="_blank" 
                      	 class="pad-x-2" rel="noopener noreferrer">[aw2.get module.urlinfo.basename /]</a>
                    </li>
                    [/do.@label]
                    [/loop.@att]                   
                  </ul>
                  
                  [aw2.module slug="attachments"  task_id="{template.task_id}" story_id="{template.story_id}" type="task" is_required="required" /]
									//**
                  <ul>
                    [loop.@attach template.task_data.task_attachments.json_decode]
                      <li>
                        <a href="[aw2.get @attach.item.url /]" target="_blank" rel="noopener noreferrer">[php.basename p1="{@attach.item.url}" /]</a><br>
                      </li>
                    [/loop.@attach]
                  </ul>
                  **//
                </div>
                <div class="is-flex justify-content-between font-size-smallest mar-t-3">
                	<div class="task_creator">
                    [php.get_user_by p1="email" p2="{template.task_data.task_created_by}"
                    								 set="template.task_creator" /]
                    Created by: <span class="font-bold is-inline-block">
                    	[template.get task_creator.display_name /]</span>
                  </div>
                  <div class="task_created_date text-right">
                  	Created Date: <span class="font-bold is-inline-block">
                    		[template.get task_data.task_created_datetime date_format="d M Y" /]</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="gap-8"></div>
            
            //** Feedback section start **//
            <div class="feedback-container">
            	<h3 class="font-bold">Feedbacks</h3>
              
              [plot.task.feedbacks task_id="{template.task_id}" o.set="template.feedbacks" /]     
      
              [loop.@feed template.feedbacks.rows]
              <div class="feedback-card simple-box-shadow brand-white-bg mar-b-6">
                <div class="user-details br-bottom pad-4 is-flex">
                  <div class="img-wrapper">
                    <img src="[ui.avatar email='{@feed.item.task_feedback_created_by}' /]" 
                    		 class="br-50" alt="[template.get user_name /]" 
                         title="[template.get user_name /]" /> 
                  </div>
                  <div class="content-wrapper pad-x-4 no-padding-right">
                    [php.get_user_by p1="email" p2="{@feed.item.task_feedback_created_by}" 
                                     set="template.user" /]
                    <h6 class="no-margin">[template.get user.display_name /]</h6>
                    <p class="no-margin font-size-smallest">Feedback added on 
                      <span class="font-bold is-inline-block">
                        [aw2.get @feed.item.task_feedback_created_datetime date_format="d M Y, h:i A" /]
                      </span>
                    </p>
                  </div>
                 
                  </div>
                  	<div class="feedback-data pad-6">
                      <div class="feedback-description mar-b-4">
                        [aw2.get @feed.item.task_feedback_description /]
                      </div>
                     [aw2.get @feed.item.task_feedback_reference_label_url.json_decode
                     					set="module.reference_label_url" /] 
                     
                     [if.not_empty module.reference_label_url]
                      <h6>Reference Links</h6>
                      <ul class="reference-links">
                      	[loop.@ref module.reference_label_url]
                          <li>
                            <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">
                            [aw2.get @ref.index /]</span>
                            <a href="[aw2.get @ref.item.url /]" target="_blank" 
                               class="pad-x-2"  rel="noopener noreferrer">[aw2.get @ref.item.label /]</a></li>
                        [/loop.@ref]
                       </ul>
                    [/if.not_empty]
                    [aw2.get @feed.item.task_feedback_attachments.json_decode set="module.attachments" /]
                   
                    [if.not_empty module.attachments]
                      <h6>Attachments</h6>
                      <ul class="attachment-links">
                      	[loop.@att module.attachments]
                          <li>
                            <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">[aw2.get @att.index /]</span>
                            [php.pathinfo p1="{@att.item.url}" set="module.urlinfo" /]

                            <a href="[aw2.get @att.item.url /]" target="_blank" 
                               class="pad-x-2" rel="noopener noreferrer">
                               [aw2.get module.urlinfo.basename /]</a>
                          </li>
                          [/loop.@att] 
                      </ul>
                      [/if.not_empty]
                    </div>
                  </div>
              [/loop.@feed]          
              
              <div class="add-feedback-form brand-white-bg simple-box-shadow">
              	<div class="br-bottom pad-x-6 pad-y-4">
                	<h5 class="no-margin">Add Feedback on Task</h5>
                </div>
                <div class="pad-x-6 pad-y-5 no-padding-top">
                 [aw2.module slug="feedback" assigned_to="{template.task_data.task_assigned_to}" status="{template.task_data.task_status}" task_id="{template.task_id}" story_id="{template.story_id}"  due_date="{template.task_data.task_due_date}" type="task" /]
                </div>
              </div>
            </div>
            //** Feedback section start **//
            
          </div>
        <div class="col-md-5 mar-b-6 story">
          <div class="user-story">
            <h4 class="font-bold">User Story</h4>
            <div class="brand-white-bg font-size-smaller">
              <div class="text-right br-bottom">
                <span class="brand-info-bg brand-white task-status inline pad-x-2 text-uppercase">
                  [aw2.get template.story_data.story_status /]</span>
              </div>
              <div class="pad-4 is-flex">
                <div class="user flex-no-shrink">
                  <img src="[plot.avatar email='{template.story_data.story_assigned_to}' /]" class="br-50" alt="[template.get story_assigned_to.display_name /]" title="[template.get story_assigned_to.display_name /]" /> 
                </div>
                <div class="story-content pad-x-4 no-padding-right">
                  <h5 class="no-padding-bottom pad-y-1">
                  	<a href='[app.path]/user-story/[template.get story_data.story_id /]' 
                    	 story_id="[template.get story_data.story_id /]" bind="click" 
                       route_ajax='user-story/[template.get story_data.story_id /]' 
                       control='main' axn='page.update'>[template.get story_data.story_title /]</a>
         					</h5>
                  
                  //** Read More functionality **//
                  [aw2.get template.story_data.story_description set='module.content_more' /]
                  <div id="trimmed">[php.wp_trim_words p1={module.content_more} p2=40 /]...
                    <a href='javascript:jQuery("#trimmed").hide();jQuery("#full").show();'>Read More</a>
                  </div>
                  <div id="full" style="display:none;">
                    [module.get content_more the_content=true /]
                  </div>
                  <div class="gap-4"></div>   
                  //** End Read More functionality **//
                 [aw2.get template.story_data.story_reference_label_url.json_decode
                     					set="module.reference_label_url" /] 
                  [if.not_empty module.reference_label_url.0.url]
                  <h6>Useful and Reference Links</h6>
                  <ul class="reference-links">
                    [loop.@ref module.reference_label_url]
                      <li>x
                        <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">
                      [aw2.get @ref.index /]</span>
                      <a href="[aw2.get @ref.item.url /]" target="_blank" 
                         class="pad-x-2"  rel="noopener noreferrer">[aw2.get @ref.item.label /]</a></li>
                  [/loop.@ref]
                 </ul>
                [/if.not_empty]
          			<div class="gap-2"></div>
                [if.not_empty template.story_data.story_attachments]
                [aw2.get template.story_data.story_attachments.json_decode set="module.story_attachments" /]
                  <h6>Attachments</h6>
                  <ul class="attachment-links">
                    [loop.@att module.story_attachments]
                      <li>
                        <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">[aw2.get @att.index /]</span>
                        [php.pathinfo p1="{@att.item.url}" set="module.urlinfo" /]

                        <a href="[aw2.get @att.item.url /]" target="_blank" 
                           class="pad-x-2" rel="noopener noreferrer">
                           [aw2.get module.urlinfo.basename /]</a>
                      </li>
                      [/loop.@att] 
                  </ul>
                  [/if.not_empty]
              	</div>
              </div>
            </div>
        	</div>
          <div class="notes mar-t-6">
          	<div class="is-flex justify-content-between align-items-center">
            	<h4 class="font-bold">Notes</h4>
            	<a href='' bind="click" axn='control.append' control='body' route_ajax='add-note' 
              			class="align-items-center font-size-smallest is-flex user-add pointer mar-b-4 pull-right" task_id="[template.task_id /]">
              [plot.icon.add-new color="brand-primary" /]
              <span class="gray font-bold pad-x-1 no-padding-right">
               Add Note
              </span>
             </a>
            </div>
            <div class="gap-3"></div>
						[plot.note.list task_id='{template.task_data.task_id}' set="template.notes"/]
        
            [loop.@note template.notes.rows]
              <div class="note mar-b-6">
                [plot.card.simple_notes_card note_data="{@note.item}"/]
              </div>
          	[/loop.@note] 
            [if.empty template.notes.rows]
            		<h6 class="pad-4 brand-white-bg brand-warning">No Notes.</h6>
            [/if.empty]
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <h3 class="font-bold text-center">Activities Timeline</h3>
          <div class="pad-4 brand-white-bg">
            <div class="swiper-container swiper-container-horizontal">
              <div class="swiper-wrapper">
                
                [plot.activity.list  id="{template.task_id}"  o.set="template.activities" /]
                
                [loop.@activity template.activities.rows]
                  <div class="swiper-slide pad-x-4 no-padding">
                  	<div class="font-size-smallest text-center br-bottom timeline-bullet">
                    	<p class="no-margin font-bold">[aw2.get @activity.item.activity_datetime date_format="d M Y" /]</p>
                    	<p class="no-margin gray">[aw2.get @activity.item.activity_datetime date_format="m:h A" /]</p>
                    </div>
                    <div class="pad-4 mar-x-4 mar-t-7 activity-info text-center font-size-smaller">
                      [php.get_user_by p1="email" p2="{@activity.item.activity_user}" set="template.user" /]
                      <p>[aw2.get @activity.item.activity_note /]</p>
                      <div class="user-info">
                        <img src="[ui.avatar email='{@activity.item.activity_user}' /]" class="br-50 mar-b-1" alt="[template.get user.display_name /]" title="[template.get user.display_name /]" />  
                        <p class="font-bold no-margin">[template.get user.display_name /]</p>
                      </div>
                    </div>
                  </div>
                [/loop.@activity]
              </div>
              <div class="swiper-button-next"> 
              	<div class="gray-light-bg">[plot.icon.arrow-right color="brand-white" /]</div>
              </div>
              <div class="swiper-button-prev"> 
              	<div class="gray-light-bg">[plot.icon.arrow-left color="brand-white" /]</div>
              </div>
            </div>
          </div>
        </div>
      </div>  
    </div>
      
    [form_control.multi.file_upload_script /]      

    <script type="spa/axn" axn=core.run_script cdn_js_files='Swiper/3.4.2/js/swiper.jquery.min.js' cdn_css_files="Swiper/3.4.2/css/swiper.min.css">
    	$(".story-tab").click(function(){
      	$(this).addClass("active");
        $(".tasks-tab").removeClass("active");
      	$(".story").show();
      	$(".tasks").hide();
      });
      $(".tasks-tab").click(function(){
     		$(this).addClass("active");
        $(".story-tab").removeClass("active");
      	$(".tasks").show();
      	$(".story").hide();
      });
      var swiper = new Swiper('.swiper-container', {
          slidesPerView: 4,
          nextButton: '.swiper-button-next',
        	prevButton: '.swiper-button-prev',
          breakpoints: {
            991: {
                slidesPerView: 3
            },
            576: {
                slidesPerView: 1
            },
        }
      });
;
    	$(function() {
        $('img').addClass('img-responsive');
      });
    </script>
</main>
[/templates.add]

[templates.add add_tag]
 	[php.wp_insert_term p1='{request.new_tag}' p2='task_tag' set='template.res' /]
  
  [query.get_var set=template.old_task_tags]
    	SELECT meta_value from plot where 
      object_id="[aw2.get request.story_id /]" AND 
      coll_id="[aw2.get request.task_id /]" and 
      coll_type="task"
      AND meta_key="task_tags"
  [/query.get_var]
  	
    [if.empty template.old_task_tags]
    	[template.set tags="{request.new_tag}" /]
    [/if.empty]
    [if.not_empty template.old_task_tags]
    	[template.set tags="{template.old_task_tags},{request.new_tag}" /]
    [/if.not_empty]
    
    [template.set meta_arr.task_tags="{template.tags}" not_empty="{request.new_tag}" /]
    
  [plot.task.update metas='{template.meta_arr}' object_id="{request.story_id}" coll_id="{request.task_id}" set="template.res" /]
  
  <script type="spa/axn" axn=page.update route_ajax='task/[request.get task_id /]'></script> 
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860500</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 11:37:34]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 11:37:34]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[task]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>note</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860501</link>
		<pubDate>Sat, 26 Oct 2019 11:37:44 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858287</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
[css.style]
    .filter-icon {
        display: none !important;
    }
[/css.style]
 
  [template.set note_id = {qs.0} /]
  [plot.note.single note_id="{template.note_id}" o.set="template.note_meta" not_empty='{qs.0}' /]

  [if.empty template.note_meta]
  	[template.set error]
    	<h1 class='mar-t-10 text-center brand-warning'>Note does not exists.</h1>
    [/template.set]
    [template.return template.error /]
  [/if.empty]
  
  //** initialize heartbeat **//
  [plot.heartbeat.create_heartbeat token='note_{template.note_id}' set='module.heartbeatRes' /]
   [env.set app.page_title="{template.note_meta.note_title} - Plot" /]
  
  <div class="body-content-wrapper" id='note_[template.note_id /]'>
      [template.set_array crumbs.new title='Dashboard' url="{app.path /}/" route_ajax='home'/]
      [template.set_array crumbs.new title='Notes' url='{app.path}/notes' route_ajax='notes'/]
      [template.set_array crumbs.new title='{template.note_meta.note_title}' url='' /]
      [plot.card.breadcrumbs crumbs="{template.crumbs}"/]
     
    <section roll="notes-single" class="notes-single">
      <div class="row">
        <div class="col-12">
          <div class="brand-white-bg simple-box-shadow">
            <div class="is-flex br-bottom">
                <div class="col-6 is-flex align-items-center pad-4">                  
                    <div class="pad-x-2">
                        <p class="mar-b-1 font-bold font-size-smaller">
                        	User Story: <a href='[env.get app.path /]/user-story/[template.note_meta.user_story_id /]' class="font-light brand-fourth is-inline-block" target='_blank' rel="noopener noreferrer">[template.note_meta.user_story_title /]</a>
                        </p>
                        <p class="no-margin font-bold font-size-smaller">
                        	Task: <a href='[env.get app.path /]/task/[template.note_meta.task_id /]' class="font-light brand-fourth is-inline-block" target='_blank' rel="noopener noreferrer">[template.note_meta.task_title /]</a>
                        </p>
                    </div>
                </div>
                <div class="col-6 pad-4 text-right">
                	 <div class="pad-x-2">
                		 <label class="font-bold no-margin font-size-smallest">Note Type:</label>
                     <div class="font-size-smallest">
                        <span class="brand-info-bg brand-white notes-status inline pad-x-2 text-uppercase status-[template.note_meta.note_type /]">[template.note_meta.note_type /]</span>
                     </div>    
                    </div>
                </div>
            </div>
            <div>
              <div class="pad-x-6 pad-y-4">
              	<h2>[template.note_meta.note_title /]</h2>
                <div class="document-editor">
                  <div class="document-editor__toolbar"></div>
                  <div class="document-editor__editable-container invisible">
                      <div class="document-editor__editable">
                      	[template.note_meta.note_content  /]
                      </div>
                  </div>
                </div>
                  
                  <script type="spa/axn" axn='ckeditor5.run' editor='.document-editor__editable' toolbar='.document-editor__toolbar' upload_url='[aw2.get app.path]/[module.slug /].upload-images?note_id=[template.note_id /]'></script>
              </div>
               <div class="br-top font-size-smallest is-flex justify-content-between pad-x-6 pad-y-5 tags">
               		<div>
                  	[loop.@t template.note_meta.tags_label.comma]
                      <span class="br br-5 pad-x-2 pad-y-1 gray mar-b-1 mar-t-1 is-inline-block mar-x-1">[aw2.get @t.item /]</span>
                    [/loop.@t]
                    <span class="br br-5 pad-x-2 pad-y-1 gray mar-b-1 mar-t-1 is-inline-block add-tag pointer ">+</span>
                  </div>
                  <div class="align-items-center is-flex is-relative">                      
                      <span class="editor-text-formatting active-toolbar mar-x-2">[plot.icon.text-formatting color="gray" /]</span>
               
                      <span class="editor-save mar-x-2" title='save'>[plot.icon.save color="gray" /]</span>
                      <div class="loader-save" style="display:none;"></div> 
                  </div>
                </div>
                <form class="add-new-tag brand-white-bg is-none">
                  <div class="pad-x-2">
                    <div class="form-group">
                      <input name="new_tag" type="text" placeholder="Add Tag" class="form-control col-4" required>
                    </div>
                    <button type="submit" id="add-tag" value="" class="br-none brand-primary brand-white-bg pointer text-uppercase">Add Tag</button>
                  </div>
                  <div class="gap-5"></div>
                </form>
                <script type=spa/axn
                    axn='form.ajax'
                    bind='submit'
                    note_id='[template.note_id /]'
                    bind_selector="form.add-new-tag"
                    disable_selector=".add_tag"
                    route_ajax='[module.slug /].add_tag'>
                </script>
            </div>
         </div>
        </div>
       </div>
    </section>
  </div>
  
  [session_ticket.create {token} nonce="yes" set=module.save_form time=300 /]
  [session_ticket.set_activity {module.save_form} app='{app.slug}' module='{module.slug}.update_note_content' /]
  [session_ticket.set {module.save_form} field='update_note_id' value='{template.note_meta.note_id}' /]
  <script type="spa/axn" axn="core.run_script">
    $('.add-tag').click(function(){
      $('.add-new-tag').toggleClass('is-none');
    });
    
    $('.document-editor').bind('keydown', function(event) {
      if (event.ctrlKey || event.metaKey) {
          switch (String.fromCharCode(event.which).toLowerCase()) {
          case 's':
              event.preventDefault();
              $('.editor-save').click();
              break;
          }
      }
    });
	
    spa.noteEditor={};
    spa.noteEditor.isReadOnly = false;
    [if.not_equal lhs='{module.heartbeatRes.status}' rhs='error']
      $('.editor-save').click(function(){
        if(spa.noteEditor.isReadOnly)
          return false;

        spa.isAnyTaskInProgress = true;
        $('.loader-save').show();
        spa.route.run({
          route_ajax: 't/[module.save_form /]',
          block:{
            params:{
              content: $('.ck-content').html() || ''
            }
          }
        }).then(function(){
          $('.loader-save').hide();
          spa.isAnyTaskInProgress = false;
        });
      });
    [/if.not_equal]
      
    $('.editor-text-formatting').click(function(){
    	$('.document-editor__toolbar').toggleClass('invisible');
      $(this).toggleClass('active-toolbar');
    });
    
    window.onbeforeunload = confirmExit;
    function confirmExit() {
        if (spa.isAnyTaskInProgress) {
           return "Some task is in progress. Are you sure, you want to close?";
        }
    }
    
    $('.document-editor__editable-container').removeClass('invisible');
    
    
    //** below script is for notes single user access at a time functionality **//
    function noteOverrided(res){
      spa.noteEditor.isReadOnly = true;
      spa.notifications.alert({
      	alert: res['data']['user_name'] + ' has taken over and is currently editing. Your latest changes can not be saved.'
      });
    }
    
    function noteEditOnly(){
      spa.noteEditor.isReadOnly = true;
    }
    
    function getTicketResponse(str) {
      try {
        str = JSON.parse(str);
      } catch (e) {
        return false;
      }
      	return str;
    }
    var heartBeatFn = setInterval(function(){
    	if($('#note_[template.note_id /]').length == 0){
      	clearInterval(heartBeatFn);
      	return false;
      }
      
      $.ajax({
        url: '[app.path /]/t/note_[template.note_id /]'
      }).then(function(res){
        res = getTicketResponse(res);
        if(false == res){
          spa.route.run({route_ajax:'note.heartbeat?token=note_[template.note_id /]'});
        }else if('error' == res['status'] ){
          noteOverrided(res);
          clearInterval(heartBeatFn);
        }
      });
    },15000);
    
    if( '[module.heartbeatRes.status /]' == 'error' ){
    	noteEditOnly();
      clearInterval(heartBeatFn);
    }
  </script>
  
  [if.equal lhs='{module.heartbeatRes.status}' rhs='error']
  	<script type="spa/axn" axn="core.run_script" alert='[module.get heartbeatRes.data.user_name /] is already editing this Note. Opening note in read only mode.'></script>
  [/if.equal]
  <script type="spa/axn" axn="notifications.alert"></script>
  //** Notes single End Here **//
[/templates.add]

[templates.add update_note_content]
	[php.stripslashes p1={request.content} o.set=template.content /]
  [template.set_array meta.new meta_key='note_content' meta_value='{template.content}' coll_type='note' /]
  [plot.note.update meta='{template.meta}' note_id='{template.update_note_id}' /]
   //** Activity log **//
  [template.set metas_act.activity_note="Note (<a href='{app.path}/note/{template.update_note_id}'>{template.update_note_id}</a>) was updated." /]
  [plot.activity.log object_id="{template.update_note_id}" coll_type="note" metas="{template.metas_act}" set="template.activity" /]
	
[/templates.add]

[templates.add upload-images]
	[date.create now date_format='Y-m-d_H-i-s' set=template.current_dt /]
  
  [aw2.upload upload_to_path
      upload_element_id='upload'
      file_name='file_{template.current_dt}'
      dir_name='{app.slug}-docs/notes/{request.note_id}/'
      overwrite_file='no'
	    allowed_file_types="gif,png,jpg,jpeg,pdf,doc,docx,txt,xls,xlsx,xlsm,csv,zip,svg,tar,tar.gz,gz,ppt,psd,ai,rar,7z,ttf,xd,cdr"
      set='template.file_response'
    /]
    [if.not_empty template.file_response.filename]
      {
      	"url":"[app.path /]/file/?filename=notes/[request.note_id /]/[template.file_response.filename /]"
      }
    [/if.not_empty]
[/templates.add]

[templates.add add_tag]
  [db.meta.select_meta_key_value_pair meta_table="plot" coll_id="{request.note_id}" set="template.note_meta" not_empty='{request.note_id}' /]

	[php.wp_insert_term p1='{request.new_tag}' p2='task_tag' set='template.res' /]
  [if.not_empty template.res.term_id]
  	[query.get_term_by taxonomy='task_tag' field='term_id' value='{template.res.term_id}' set=template.new_term /]
  [/if.not_empty]
  [if.else]
  	[query.get_term_by taxonomy='task_tag' field='name' value='{request.new_tag}' set=template.new_term /]
  [/if.else]
  [template.new_term.name set='template.tag_name' /]
  [template.new_term.slug set='template.tag_slug' /]
  
  [if.not_empty template.note_meta.tags]
    [template.set_array meta.new meta_key='tags' meta_value='{template.note_meta.tags},{template.tag_slug}' coll_type='note' /]
    [template.set_array meta.new meta_key='tags_label' meta_value='{template.note_meta.tags_label},{template.tag_name}' coll_type='note' /]
  [/if.not_empty]
  [if.else]
    [template.set_array meta.new meta_key='tags' meta_value='{template.tag_slug}' coll_type='note' /]
    [template.set_array meta.new meta_key='tags_label' meta_value='{template.tag_name}' coll_type='note' /]
  [/if.else]
  
  [plot.note.update meta='{template.meta}' note_id='{request.note_id}' /]
  
  <script type="spa/axn" axn=page.update route_ajax='note/[request.get note_id /]'></script>
[/templates.add]
[templates.add heartbeat]
	  [plot.heartbeat.create_heartbeat token='{request.token}' o.set='module.heartbeatRes' not_empty='{request.token}' /]
    [module.get heartbeatRes /]
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860501</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 11:37:44]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 11:37:44]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[note]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>user-story</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860502</link>
		<pubDate>Sat, 26 Oct 2019 11:38:14 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858289</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
 <main>
 [css.style]
    .filter-icon {
        display: none !important;
    }
[/css.style]
	  [plot.user_story.single story_id="{qs.0}" set="template.story_data" not_empty="{qs.0}"/]
    [template.set story_id="{template.story_data.story_id}" /] 
	
    [if.empty template.story_id]
      [template.return /]
    [/if.empty]
    
    <div class="body-content-wrapper story-body">
    	<div class="row">
      	<div class="col-md-12">
        	<div class="popup-section"></div>
        </div>
      </div>
      <div class="row">
          <div class="col-md-7 response">
          </div>
      </div> 
      [env.set app.page_title="{template.story_data.story_title} - Plot" /]
      [template.set_array crumbs.new title='Dashboard' url="{app.path /}/" route_ajax='home'  /]
      [template.set_array crumbs.new title='User Stories' url='{app.path}/user-stories' route_ajax='user-stories' /]
      [template.set_array crumbs.new title='{template.story_data.story_title}' url='' /]
      [plot.card.breadcrumbs crumbs="{template.crumbs}" /]
      
      <div class="no-gutters row is-md-none mobile-section mar-b-4 gray">
          <div class="col-6">
              <div class="font-bold gray-lighter-bg pad-1 text-center active story-tab">User Story</div>
          </div>
          <div class="col-6">
              <div class="font-bold gray-lighter-bg pad-1 text-center tasks-tab">Tasks</div>
          </div>
      </div>
      
      <div class="row">
        <div class="col-md-7 mar-b-6 story">
            <div class="story-content brand-white-bg simple-box-shadow">
              <div class="is-flex br-bottom">
        
        				[php.get_user_by p1="email" p2="{template.story_data.story_assigned_to}" set="template.story_assigned_to" /]
                
                <div class="col-6 is-flex align-items-center pad-y-4 no-padding-right">
                  <img src="[ui.avatar email='{template.story_data.story_assigned_to}' /]" class="br-50" alt="[template.get story_assigned_to.display_name /]" title="[template.get story_assigned_to.display_name /]" /> 
                  <div class="pad-x-4 no-padding-right">                    
                    <label class="font-regular no-margin font-size-smallest">Assigned to:</label>
                    <p class="no-margin font-bold font-size-smaller">[template.get story_assigned_to.display_name /]</p>
                  </div>
                </div>
                <div class="col-6 pad-4 text-right">
                  [query.get_term_by field=slug value='{template.story_data.story_status}' taxonomy=story_status set=template.result /]
                  <div class="story-status font-size-smallest">
                    Current Status: <span class="task-status is-inline-block pad-x-2 text-uppercase status-[aw2.get template.result.slug /]"> [aw2.get template.result.name /]</span>
                  </div>
                  <label class="font-regular no-margin font-size-smallest">Due Date:</label><span class="brand-fourth due-date font-bold font-size-smaller is-inline-block"> [template.get story_data.story_due_date date_format="d M Y" /]</span>
                </div>
              </div>
              
              <div class="pad-x-6 pad-y-4">
                <h2>[template.get story_data.story_title /]</h2>
                [php.preg_replace p1="/\\\\/" p2=""  p3="{template.story_data.story_description}" m.the_content=yes/]
                <div class="font-size-smallest tags pad-y-6 br-bottom">
                  [if.not_empty template.task_data.story_tags]	
                    [loop.@tag template.story_data.story_tags.comma]
                      [query.get_term_by field=slug value="{@tag.item}" taxonomy='post_tag' set=template.tags_result /]
                      <span class="br br-5 mar-b-1 pad-x-2 pad-y-1 gray is-inline-block">[template.get tags_result.name /]</span>
                    [/loop.@tag]
                  [/if.not_empty]
                </div>
                <div class="references pad-y-6 br-bottom">
                  <h5 class="font-bold">Reference Links</h5>
                   [aw2.get template.story_data.story_reference_label_url.json_decode
                     					set="module.reference_label_url" /]
                            
                  [if.not_empty module.reference_label_url]
                    <ul class="reference-links">
                      [loop.@ref module.reference_label_url]
                        [do.@label not_empty='{{aw2.get @ref.item.url}}']
                        	<li><span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">[aw2.get @ref.index /]</span><a href="[aw2.get @ref.item.url /]" target="_blank" class="pad-x-2"  rel="noopener noreferrer">[aw2.get @ref.item.label /]</a></li>
                        [/do.@label]
                      [/loop.@ref]
                    </ul>
                  [/if.not_empty]
                  
                  [aw2.module slug="references" story_id="{template.story_id}" type="story" is_required="required"  /]
                </div>
                <div class="attachments pad-y-6 br-bottom">
                  <h5 class="font-bold">Attachments</h5>
                    [aw2.get  template.story_data.story_attachments.json_decode set="module.attachments" /]
                  <ul class="attachment-links mar-b-6">
                  	[loop.@attach module.attachments]
                     [do.@label not_empty='@attach.item.url']
                      <li>
                        <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">[aw2.get @attach.index /]</span>
                        <a href="[aw2.get @attach.item.url /]" target="_blank" class="pad-x-2" rel="noopener noreferrer">[php.basename p1="{@attach.item.url}" /]</a>
                      </li>
                      [/do.@label]
                    [/loop.@attach]
                  </ul>
                  [aw2.module slug="attachments" story_id="{template.story_id}" type="story" is_required="required" /]									
                </div>
                <div class="pad-y-6 br-bottom approved-section">
                  [if.not_equal lhs="{template.story_data.is_approved}" rhs="yes"]
                    [session_ticket.create nonce=yes set=module.ticket_id /]     
                    [session_ticket.set_activity {module.ticket_id} collection='{module.collection}' module='{module.slug}.mark_approved' /]
                    <a href="#" class="btn btn-primary width-100" story_id="[template.get story_id /]"  axn='route.run' bind='click' route_ajax='t/[module.get ticket_id /]'>APPROVE USER STORY</a>
                  [/if.not_equal]
                  [if.else]
                    <span class="btn btn-primary width-100">Approved</span>
                  [/if.else]
                </div>
                <div class="is-flex justify-content-between font-size-smallest mar-t-3">
                  <div class="story_creator">
                    [php.get_user_by p1="email" p2="{template.story_data.story_created_by}" set="template.story_creator" /]
                    Created by: <span class="font-bold is-inline-block">[template.get story_creator.display_name /]</span>
                  </div>
                  <div class="story_created_date text-right">
                    Created Date: <span class="font-bold is-inline-block">[template.get story_data.story_created_datetime date_format="d M Y" /]</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="gap-8"></div>
            
            //** Feedback section start **//
            <div class="feedback-container">
              <h3 class="font-bold">Feedback on User Story</h3>
            
              [plot.user_story.feedbacks  story_id="{template.story_id}" o.set="template.feedbacks" /]
     
              [loop.@feed template.feedbacks.rows]
              
                  <div class="feedback-card simple-box-shadow brand-white-bg mar-b-6">
                      <div class="user-details br-bottom pad-4 is-flex">
                          <div class="img-wrapper">
                              <img src="[plot.avatar email='{@feed.item.story_feedback_created_by}' /]" class="br-50" alt="[template.get user_name /]" title="[template.get user_name /]" /> 
                          </div>
                          <div class="content-wrapper pad-x-4 no-padding-right">
                              [php.get_user_by p1="email" p2="{@feed.item.story_feedback_created_by}" set="template.user" /]
                              <h6 class="no-margin">[template.get user.display_name /]</h6>
                              <p class="no-margin font-size-smallest">Feedback added on 
                                <span class="font-bold is-inline-block">[aw2.get @feed.item.story_feedback_created_datetime date_format="d M Y, h:i A" /]</span>
                              </p>
                          </div>
                      </div>
                      <div class="feedback-data pad-6">
                          <div class="feedback-description mar-b-4">
                              [aw2.get @feed.item.story_feedback_description m.the_content=yes/]
                          </div>
                           [aw2.get @feed.item.story_feedback_reference_label_url.json_decode
                     					set="module.reference_label_url" /] 
                     
                         [if.not_empty module.reference_label_url.0.label]
                              <h6>Reference Links</h6>
                              <ul class="reference-links">
                                [loop.@feed_ref @feed.item.story_feedback_reference_label_url.json_decode]
                                  <li>
                                    <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">
                                      [aw2.get @feed_ref.index /]
                                    </span>
                                    <a href="[aw2.get @feed_ref.item.url /]" target="_blank" class="pad-x-2" rel="noopener noreferrer">[aw2.get @feed_ref.item.label /]</a>
                                  </li>
                                [/loop.@feed_ref]
                              </ul>
                          [/if.not_empty]  
                       		[aw2.get @feed.item.story_feedback_attachments.json_decode set="module.attachments" /]
                   
                          [if.not_empty module.attachments.0.url]
                                <h6>Attachments</h6>
                                <ul class="attachment-links">
                                  [loop.@feed_attach @feed.item.story_feedback_attachments.json_decode]
                                  <li>
                                    <span class="align-items-center br-50 font-bold font-size-smaller gray-lighter-bg is-inline-flex justify-content-center text-center">
                                      [aw2.get @feed_attach.index /]
                                    </span>
                                    <a href="[aw2.get @feed_attach.item.url /]" target="_blank" class="pad-x-2" rel="noopener noreferrer">[php.basename p1="{@feed_attach.item.url}" /]</a>
                                  </li>
                                [/loop.@feed_attach]
                                </ul>
                          [/if.not_empty]
                    
                      </div>
                  </div>
              [/loop.@feed]          
              
              <div class="add-feedback-form brand-white-bg simple-box-shadow">
                <div class="br-bottom pad-x-6 pad-y-4">
                  <h5 class="no-margin">Add Feedback on User Story</h5>
                </div>
                <div class="pad-x-6 pad-y-5 no-padding-top">
                  [aw2.module slug="feedback" story_id="{template.story_id}" type="story" status="{template.story_data.story_status}" assigned_to="{template.story_data.story_assigned_to}" due_date="{template.story_data.story_due_date}" /]
                </div>
              </div>
            </div>
            //** Feedback section start **//
            
          </div>
        <div class="col-md-5 mar-b-6 tasks">
            <div class="is-flex justify-content-between align-items-center">
              <h4 class="font-bold">Tasks on User Story</h4>
             
            
            <a href='#' class="align-items-center font-size-smallest is-flex user-add pointer mar-b-4 pull-right" story_id="[aw2.get template.story_data.story_id /]" bind="click" route_ajax='add-task' axn='route.run'>
              [plot.icon.add-new color="brand-primary" /]
              <span class="gray font-bold pad-x-1 no-padding-right">Add New Task</span>
      			</a>
     				//**End modal popup button **//
            </div>
            
            <div class="panel with-nav-tabs panel-success">
              <div class="font-size-smaller status-bar pad-x-4 brand-white-bg">
              [query.get_terms taxonomies=task_status set=template.task_status_results hide_empty=0 /]
              [plot.card.status-bar status_results="{template.task_status_results}" story_id="{template.story_id}" ajax_template="{module.slug}.get_tasks" update_selector="div#task-listing" /]
              
              </div>
              <div class="task-lists" id="task-listing"></div>
            </div>

            <script type=spa/axn axn='selector.update' selector='div#task-listing' route_ajax='[module.slug].get_tasks' story_id='[template.get story_id /]'></script>
            
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          [plot.activity.list id='{template.story_id}' type='user_story' o.set="template.activities"/]
          <h3 class="font-bold text-center">Activities Timeline</h3>
          <div class="pad-4 brand-white-bg">
            <div class="swiper-container swiper-container-horizontal">
              <div class="swiper-wrapper">
                [loop.@activity template.activities.rows]
                  <div class="swiper-slide pad-x-4 no-padding">
                    <div class="font-size-smallest text-center br-bottom timeline-bullet">
                      <p class="no-margin font-bold">[aw2.get @activity.item.activity_datetime date_format="d M Y" /]</p>
                      <p class="no-margin gray">[aw2.get @activity.item.activity_datetime date_format="h:i A" /]</p>
                    </div>
                    <div class="pad-4 mar-x-4 mar-t-7 activity-info text-center font-size-smaller">
                      [php.get_user_by p1="email" p2="{@activity.item.activity_user}" set="template.user" /]
                      <p>[aw2.get @activity.item.activity_note /]</p>
                      <div class="user-info">
                        <img src="[ui.avatar email='{@activity.item.activity_user}' /]" class="br-50 mar-b-1" alt="[template.get user.display_name /]" title="[template.get user.display_name /]" />  
                        <p class="font-bold no-margin">[template.get user.display_name /]</p>
                      </div>
                    </div>
                  </div>
                [/loop.@activity]
              </div>
              <div class="swiper-button-next"> 
                <div class="gray-light-bg">[plot.icon.arrow-right color="brand-white" /]</div>
              </div>
              <div class="swiper-button-prev"> 
                <div class="gray-light-bg">[plot.icon.arrow-left color="brand-white" /]</div>
              </div>
            </div>
          </div>
        </div>
      </div>  
    </div>
      
    [form_control.multi.file_upload_script /]      

    <script type="spa/axn" axn=core.run_script cdn_js_files='Swiper/3.4.2/js/swiper.jquery.min.js' cdn_css_files="Swiper/3.4.2/css/swiper.min.css">
      $(".story-tab").click(function(){
        $(this).addClass("active");
        $(".tasks-tab").removeClass("active");
        $(".story").show();
        $(".tasks").hide();
      });
      $(".tasks-tab").click(function(){
        $(this).addClass("active");
        $(".story-tab").removeClass("active");
        $(".tasks").show();
        $(".story").hide();
      });
      var swiper = new Swiper('.swiper-container', {
          slidesPerView: 4,
          nextButton: '.swiper-button-next',
          prevButton: '.swiper-button-prev',
          breakpoints: {
            991: {
                slidesPerView: 3
            },
            576: {
                slidesPerView: 1
            },
        }
      });
;
      $(function() {
        $('img').addClass('img-responsive');
      });
    </script>
</main>
[/templates.add]

[templates.add get_tasks]
 <template axn=selector.update selector='div.task-lists' get='me.html'>    
  [plot.task.list records=20 page="{request.page}" task_status="{request.status}" story_id="{request.story_id}" o.set="template.rs"/]
  
  [if.empty template.rs.rows]
      <h6 class="pad-4 brand-white-bg brand-warning mar-t-2">An user story without a task, why don't you add one?</h6>
  [/if.empty]
  

  [loop.@task template.rs.rows]
    <div class="story-task-card brand-white-bg mar-t-3">
          <div class="is-flex justify-content-between align-items-center font-size-smallest br-bottom">
          	<div class="pad-x-4">
              <p class="task-due-date font-size-smallest no-margin">Due Date: 
                	<span class="brand-fourth due-date">[aw2.get @task.item.task_due_date date_format="d M Y" /]</span>
              </p>
            </div>
            <div>
              <span class="task-status gray-light-bg pad-x-4 brand-white font-bold is-inline-block status-[aw2.get @task.item.task_status /]">
              [query.get_term_by field=slug value='{@task.item.task_status}' taxonomy=task_status set=template.task_status_result /]
              [aw2.get template.task_status_result.name /]</span>
            </div>
          </div>
          <div class="is-flex pad-x-4 pad-y-2">
              <div class="img-wrapper mar-x-2 no-margin-left">
                  <img src="[ui.avatar email='{@task.item.task_assigned_to}' /]" class="br-50" alt="[aw2.get @task.item.task_assigned_to /]" title="[aw2.get @task.item.task_assigned_to /]" /> 
              </div>
              <div class="content-wrapper">
                  <h6 class="no-margin"><a href="[app.path /]/task/[aw2.get @task.item.task_id /]" class="" bind="click" route_ajax='task/[aw2.get @task.item.task_id /]' control='main'axn='page.update'>[aw2.get @task.item.task_title /]</a></h6>
              </div>
          </div>
      </div>
  [/loop.@task]
	  <div class='show-pagination mar-t-4' style='text-align:center'></div>
   <script type=spa/axn 
     axn='jqpagination.init' 
     selector=".show-pagination" 
     content_selector="section[role='stories']"
     slug="[module.slug /].[template.name /]?page="
     total_pages="[template.get rs.found_pages /]"
     status="[request.get status /]"
     story_id="[request.get story_id/]"
     current_page="[request.get page /]">
   </script>
  [plot.task.status_count  story_id='{request.story_id}' set="template.status_counts"  /]  

   [template.set task_status_count]  
        $(".status-bar span.status-all").html("([template.get status_counts.total /])");  
        [if.not_empty template.status_counts.signed-off]
            $(".status-bar span.status-signed-off").html("([template.get status_counts.signed-off /])");
        [/if.not_empty] 
        [if.not_empty template.status_counts.new_status]
           $(".status-bar span.status-new").html("([template.get status_counts.new_status /])");
        [/if.not_empty]
        [if.not_empty template.status_counts.work-in-progress]
          $(".status-bar span.status-work-in-progress").html("([template.get status_counts.work-in-progress/])");
        [/if.not_empty] 
        [if.not_empty template.status_counts.feedback]
         $(".status-bar span.status-feedback").html("([template.get status_counts.feedback /])");
        [/if.not_empty] 
        [if.not_empty template.status_counts.hold]
          $(".status-bar span.status-hold").html("([template.get status_counts.hold  /])"); 
        [/if.not_empty]
   [/template.set] 
   [plot.card.status_script status_count="{template.task_status_count}" /]
</template>
[/templates.add]

[templates.add mark_approved]
    //** set meta array **//
    [template.set meta_arr.is_approved="yes" /]
    
    //**Call add story service**//
    [plot.user_story.update metas='{template.meta_arr}' object_id="{request.story_id}" set="template.res" /]
    
    //** Activity log **//
    [template.set metas_act.activity_note="<a href='{app.path}/user-story/{request.story_id}'> Story </a> status changed to Approved." /]
    [plot.activity.log object_id="{request.story_id}"  coll_type="story_status_change" metas="{template.metas_act}" set="template.activity" /]
    
    //** response **//
    <template axn=selector.update selector='div.approved-section' get='me.html'>
      <span class="btn btn-primary width-100">Approved</span>
    </template>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860502</wp:post_id>
		<wp:post_date><![CDATA[2019-10-26 11:38:14]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-26 11:38:14]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[user-story]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>add-user-story</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860503</link>
		<pubDate>Mon, 28 Oct 2019 07:18:43 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858317</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[css.style]
	.header .filter-icon{
  	display: none !important;
  }
  [/css.style]
	[if.not_empty qs.0]
	  [template.set story_id="{qs.0}" /]
  	[db.meta.select_meta_key_value_pair meta_table="plot" object_id="{template.story_id}" set="template.story_data" /]
    [template.get story_data.story_attachments.json_decode set="template.arr_story_attachment" /]
    [template.get story_data.story_reference_label_url.json_decode set="template.arr_story_reference_label_url"  /]
    [template.get story_data.story_references.json_decode set="template.arr_story_references"  /]
  [/if.not_empty]
  <div class="body-content-wrapper add-user-stories-res">
  	<h1 class="font-regular font-size-largest br-bottom pad-y-2 no-padding-top mar-b-4">Add User Story</h1>
    
    <form action="" class="user-story-form" novalidate>
    	<div class="row">
       <div class="col-md-8">
          <div class="row">
            <div class="col-12">
              [form_control.text  value="{template.story_data.story_title}" id="story_title" class="" placeholder="User Story Title*"  label="User Story Title" required="yes" /] 
            </div>

            <div class="col-12">
            
              [form_control.trumbowyg_editor textarea_name="story_description" placeholder="User Story Description*" label="User Story Description" title="User Story Description" content="{template.story_data.story_description}" required="yes" /]
            </div>
            
            <div class="col-12">
            	 <label class="gray">Reference Links</label>
               [form_control.multi.label_url name="story_reference" intial_data="{template.arr_story_reference_label_url}" /]
              //** [form_control.multi.label_url_script  /] **//
            </div>
          </div>

          [if.not_empty template.arr_story_attachment]
            <div class="row allAttachments">
                [loop.@eachAttachment template.arr_story_attachment]
                  <div class="col-11">[aw2.get @eachAttachment.item.url /]</div>
                  <div class="col-1"><span class="removeAttachment" data-story_id="[template.get story_data.story_id /]" data-attachment_id="[aw2.get @eachAttachment.item.id /]">x</span></div>
                [/loop.@eachAttachment]
            </div>
          [/if.not_empty]

          <div class="row">
            <div class="col-12">
            	<label class="gray">Attachments</label>
              [form_control.multi.file_upload name="attachment" label="Reference User Story/Task" /]
              [form_control.multi.file_upload_script /] 
            </div>
          </div>
      
      </div>
    	
        <div class="col-md-4"> 
        	<div class="row">
          	<div class="col-12">
            	[form_control.text value="{template.story_data.story_due_date}" name="story_due_date" id="story_due_date" class="story_due_date datetime" required="yes" placeholder="Due Date" label="Due Date" /]
            </div>
          </div>
        
          <div class="row">
            <div class="col-12">
              [plot.filter.get_assigned_to user="{template.story_data.story_assigned_to}" /]
            </div>

            <div class="col-12">
               [plot.filter.select_tags  values='{template.story_data.story_tags}' taxonomy="task_tag" id="story_tags" required="yes" /]
            </div>
          </div>
          
          [if.not_empty template.arr_story_references]
            <div class="row">
                [loop.@eachStoryRef template.arr_story_references]
                  <div class="col-9">[aw2.get @eachStoryRef.item.url /]</div>
                  <div class="col-3"><a href="">x</a></div>
                [/loop.@eachStoryRef]
            </div>
          [/if.not_empty]
          <div class="row">
            <div class="col-12">
              [form_control2.select2 label="Reference User Story/Task" class="" id="story_references"  multiple="yes" ajax-handler="plot.user_story.search_reference"  /]
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <button type="submit" id="add-user-story" value="" class="btn btn-primary width-100">Save</button>
            </div> 	
          </div>  	
          </div>
      </div>
	 </form>
     <div id="dev-helper"></div>
  </div>

  [session_ticket.create nonce=yes set=module.ticket_id /]   
  [if.not_empty template.story_data.story_id]
     [session_ticket.set {module.ticket_id} field='story_id' value='{template.story_data.story_id}' /]
  [/if.not_empty]
  [session_ticket.set_activity {module.ticket_id} collection='{module.collection}' module='{module.slug}.save_details' /]

  <script type=spa/axn
        axn='form_upload.ajax'
        bind='submit'
        bind_selector="form.user-story-form" 
        disable_selector=".submit"
        route_ajax='t/[module.get ticket_id /]'></script>

<script type="spa/axn" axn="core.run_script" cdn_js_files="flatpickr/4.5.0/flatpickr.min.js" cdn_css_files="flatpickr/4.5.0/flatpickr.min.css">
      flatpickr(".story_due_date", {
        enableTime: false,
        minDate: "today",
        dateFormat: "d-m-Y",
        "locale": {
          "firstDayOfWeek": 1
        },
      "locale": {
          "firstDayOfWeek": 1 // start week on Monday
      }
      });
  </script>


<script type='spa/axn' 
  				 axn='selector.update' 
           selector=".allAttachments" 
           bind='click' 
           bind_selector='.removeAttachment' 
           route_ajax='[aw2.get module.slug /].remove-attachment' 
           ></script>
[/templates.add]

[templates.add remove-attachment]
	[plot.user_story.remove_attachments story_id="{request.data-story_id}" attachment_id="{request.data-attachment_id}" /] 
  //** Activity: Start **//
    [template.set act_id='ACT{unique_number}' /]
    [template.set activity_meta_arr.story_id="{request.data-story_id}" /]
    [template.set activity_meta_arr.section="story" /]
    [template.set activity_meta_arr.action="story_attachment_remove" /]
    [template.set activity_meta_arr.activity_note="Story attachment removed by {current_user.display_name}" /]
    [template.set activity_meta_arr.user_email="{current_user.user_email}" /]
    [plot.activity.log metas='{template.activity_meta_arr}' object_id="{template.act_id}" set="template.activity_res" action="add" /]
  //** Activity: End **//
[/templates.add]

[templates.add save_details]
		//** EDIT: BEGIN **//
    [if.not_empty qs.0 ]
      [template.set submitted_id="{qs.0}" /]
      [db.meta.select_meta_key_value_pair meta_table="plot" object_id="{template.submitted_id}" set="template.story_data" /]
    [/if.not_empty]

    [if.empty template.story_data.story_id]
      	//** Set Id **//
  			[template.set story_id='us{unique_number}' /]
    [/if.empty]

    //** Previous data to save 
    [if.not_empty template.story_data]
    **//
			//** set meta array 
  		[template.set story_id='{template.story_data.story_id}' /]
  		[template.set revision_story_id='us{unique_number}' /]
      [template.set revision_meta_arr.story_title="{template.story_data.story_title}" /]
      [template.set revision_meta_arr.story_description="{template.story_data.story_description}" /]
      [template.set revision_meta_arr.story_reference_label_url="{template.story_data.story_reference_label_url}" /]
      [template.set revision_meta_arr.story_attachments="{template.story_data.story_attachments}" /]
      [template.set revision_meta_arr.story_assigned_to="{template.story_data.story_assigned_to}" /]
      [template.set revision_meta_arr.story_priority="{template.story_data.story_priority}" /]
      [template.set revision_meta_arr.story_status="archive" /]
      [template.set revision_meta_arr.story_tags="{template.story_data.story_tags}" /]
      [template.set revision_meta_arr.story_due_date="{template.story_data.story_due_date}" /]
      [template.set revision_meta_arr.story_references="{template.story_data.story_references}" /]
      [template.set revision_meta_arr.story_id="{template.revision_story_id}" /]
      [template.set revision_meta_arr.parent_story_id="{template.story_data.story_id}" /]
      **//
      //** Call add story service
      	[plot.user_story.add metas='{template.revision_meta_arr}' object_id="{template.revision_story_id}" set="template.rev_res" action="add" /]
    [/if.not_empty]
      **//


    //** Multiple file upload**//
   [aw2.upload upload_multiple_to_path
       upload_element_id="attachment"
       dir_name="plot-docs/{template.story_id}"
       overwrite_file='no'
	     allowed_file_types="gif,png,jpg,jpeg,pdf,doc,docx,txt,xls,xlsx,xlsm,csv,zip,svg,tar,tar.gz,gz,ppt,psd,ai,rar,7z,ttf,xd,cdr"
       set=template.file_res /]
  	[if.empty  template.file_res.0.error]   
      [if.greater_than_zero template.file_res.count]
        [loop.@att template.file_res]
          [template.set_array attachment_ids.new id="{@att.item.filename}" url="{@att.item.url}" /] 
        [/loop.@att]
      [/if.greater_than_zero]
    [/if.empty] 
    
    
    [template.get story_data.story_attachments.json_decode set="template.arr_story_attachment" /]
		[loop.@eachAttachment template.arr_story_attachment]
      [template.set_array attachment_ids.new id="{aw2.get @eachAttachment.item.id}" url="{aw2.get @eachAttachment.item.url}" /] 
    [/loop.@eachAttachment]
    
    [template.get attachment_ids.json_encode set="template.attachments" /]

    //** multiple reference lable and url **//
    [if.not_empty request.story_reference_label]
      [loop.@each_ref request.story_reference_label]
        [aw2.get request.story_reference_url.{@each_ref.key} set="template.url" /]
        [template.set_array reference_arr.new label="{{aw2.get @each_ref.item m.stripslashes_deep=yes}}" url="{template.url}" /] 
      [/loop.@each_ref]
    [/if.not_empty]
    
    //**reference task & story selected **//
        
    [if.not_empty request.story_references]
      [loop.@each_ref request.story_references]
      [aw2.get @each_ref.item /]
       [php.strpos p1='{@each_ref.item}' p2='tsk' o.set='template.task_pos' /]
       [if.not_bool template.task_pos]		
	       	[db.meta.select_meta_key_value_pair meta_table="plot" coll_id="{@each_ref.item}" set="template.task_data" /]
          [template.set_array reference_arr.new label="{template.task_data.task_title}" url="{app.path}/task/{@each_ref.item}" /]   
       [/if.not_bool]
       
       [php.strpos p1='{@each_ref.item}' p2='us' o.set='template.us_pos' /]
       [if.not_bool template.us_pos]
         	[db.meta.select_meta_key_value_pair meta_table="plot" object_id="{@each_ref.item}" set="template.story_data" /]    
          [template.set_array reference_arr.new label="{template.story_data.story_title}" url="{app.path}/user-story/{@each_ref.item}" /] 
       [/if.not_bool]

      [/loop.@each_ref]
    [/if.not_empty]
	
    
    //** Tags **//
    [loop.@tags request.story_tags]
        [aw2.get @tags.item set="template.tag" /]
        [php.get_term_by p1="name" p2="{template.tag}" p3="post_tag" set="template.term_data" /]
        [if.false template.term_data]
          [php.wp_insert_term p1="{template.tag}" p2=story_task_tags set="template.term_data" /]
          [php.get_term_by p1="id" p2="{template.term_data.term_id}" p3="story_task_tags" set="template.term_data" /]
          [aw2.get template.term_data.slug set="template.tag" /]
        [/if.false]    
        [template.set story_tags.new="{template.tag}" /]
    [/loop.@tags]
		
    
    [date.create now date_format='Y-m-d H:i:s' set=template.current_dt /]
    //** set meta array **//
    [template.set meta_arr.story_title="{{request.get story_title m.stripslashes_deep=yes}}" /]
    [template.set meta_arr.story_description="{{request.get story_description m.stripslashes_deep=yes}}" /]
    [template.set meta_arr.story_reference_label_url="{template.reference_arr.json_encode}" /]
    [template.set meta_arr.story_attachments="{template.attachments}" not_empty="{template.attachments}" /]
    [template.set meta_arr.story_assigned_to="{request.assigned_to}" /]
    [template.set meta_arr.story_assigned_datetime="{template.current_dt}"  not_empty="{template.assigned_to}" /]

    [template.set meta_arr.story_priority="{request.priority}" /]
  	[if.not_empty template.story_data]
    	[template.set meta_arr.story_status="{template.story_data.story_status}" /]
    [/if.not_empty]
    [if.else]
    	[template.set meta_arr.story_status="new" /]
    [/if.else]
    [template.set meta_arr.story_tags="{template.story_tags.comma}" /]
    [template.set meta_arr.story_due_date="{request.story_due_date}" /]
    [template.set meta_arr.story_id="{template.story_id}" /]

    //**Call add story service **//
    [plot.user_story.add metas='{template.meta_arr}' object_id="{template.story_id}" set="template.res" /]
		
    [template.set metas.activity_note="New story '<em><a href='{app.path}/user-story/{template.story_id}'>{template.meta_arr.story_title}</a></em>' added." /]
		[plot.activity.log object_id="{template.story_id}"  metas="{template.metas}"  coll_type="story" set="template.activity" /]
		
    		
    	
    [template.set activity_url='{app.path}/user-story/{template.story_id}' /]
     [template.set_array for_email]
      [from_name][app.get settings.from_name/][/from_name]
      [from_email][app.get settings.from_email/][/from_email]
      [assigned_to][request.get assigned_to/][/assigned_to] 
      [display_name][env.get current_user.display_name /][/display_name]
      [activity_title][request.get story_title /][/activity_title]
      [activity_url][env.get template.activity_url  /][/activity_url]
     [/template.set_array] 

 		 [plot.send-mail.new_user_story data='{template.for_email}' /]
    
    //** set response message **//
   [if.empty template.res]
    [template.set alert_class="alert-success" /]
    [template.set alert_msg="<strong>Success!</strong> Created new story! <em>{template.story_title}</em>" /]
    <script type=spa/axn axn='core.redirect' url='[aw2.get app.path /]/user-story/[template.get story_id /]' ></script>
   [/if.empty]
   [if.not_empty template.res]
    [template.set alert_class="alert-danger" /]
    [template.set alert_msg="<strong>Error!</strong> Something went wrong. Try again." /]
   [/if.not_empty]

  	//** Update response **//
  	<template axn=selector.update selector='div.add-user-stories-res' get='me.html'>
    	[form_control.alert alert_class="{template.alert_class}" alert_msg="{template.alert_msg}" /] 
      
  	</template>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860503</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 07:18:43]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 07:18:43]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[add-user-story]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>feedback</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860504</link>
		<pubDate>Mon, 28 Oct 2019 14:40:57 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858346</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
    <form action="" class="add-feedback-form" novalidate>  
      <div class="row">
       <div class="col-md-6"> 
        	[plot.filter.get_assigned_to email="{module.assigned_to}" is_required="yes" /]
        </div>
        <div class="col-md-6">
        	[if.equal lhs="{module.type}" rhs="task"]
          	[plot.filter.get_task_status task_status='{module.status}' is_required="yes" /]
        	[/if.equal]
          [if.equal lhs="{module.type}" rhs="story"]
          	[plot.filter.get_story_status story_status='{module.status}' is_required="yes" /]
        	[/if.equal]
        </div>
				<div class="col-md-6"> 
        	  [form_control.text label="Due Date" name="due_date" value="{module.due_date}" id="due_date" class="due_date" required="yes" /]  
            
            <script type="spa/axn" axn="core.run_script" cdn_js_files="flatpickr/4.5.0/flatpickr.min.js" cdn_css_files="flatpickr/4.5.0/flatpickr.min.css">
               flatpickr("#due_date", {
                  enableTime: false,
                  minDate: "today",
                  dateFormat: "d-m-Y",
                  "locale": {
                    "firstDayOfWeek": 1
                  }
                });
  					</script>
        </div>
        <div class="col-md-6">
        	[if.equal lhs="{module.type}" rhs="task"]
           [form_control.hhmm_duration label="Time Spent" name="time_spent" placeholder="HH:MM" id="time_spent" required="yes" /]
        	[/if.equal]
        </div>
        <div class="col-12">
          [form_control.trumbowyg_editor label="Description" placeholder="Description" textarea_name="{{aw2.get module.type}}_feedback" required="yes" /]
        </div> 
        <div class="col-12">
        	<h6>Reference Links</h6>
          [form_control.multi.label_url name="{{aw2.get module.type}}_feedback_reference" /]
        </div>
        <div class="col-12">
        	<h6>Attachments</h6>
          [form_control.multi.file_upload name="{{aw2.get module.type}}_feedback_attachment" /]
        </div>
      </div>
      <button type="submit" id="add-feedback" value="" class="btn btn-primary width-100">Add Feedback</button> 
      <div class="gap-4"></div>
      <div class="feedback-res"></div>
    </form>
	
  	[session_ticket.create nonce=yes set=module.ticket_id time=180 /]
    [session_ticket.set_activity {module.ticket_id} collection='{module.collection}' module='{module.slug}.save_feedback' /]

    <script type=spa/axn
            axn='form_upload.ajax'
            bind='submit'
            bind_selector="form.add-feedback-form" 
            disable_selector=".submit"
            story_id="[module.get story_id /]"
            task_id="[module.get task_id /]"
            action_type="[module.get type /]"
            route_ajax='t/[module.get ticket_id /]'></script>
          
[/templates.add]          
[templates.add save_feedback]
	
  //** Set Id **//
  	[template.set feedback_id='fb{unique_number}' /]
  	[template.set story_id='{request.story_id}' /]
  	[template.set task_id='{request.task_id}' not_empty="{request.task_id}" /]
		
    
    [if.equal lhs="{request.action_type}" rhs="story"]
    	[template.set type="story" /]
    [/if.equal]
    [if.equal lhs="{request.action_type}" rhs="task"]
    	[template.set type="task" /]
    [/if.equal]
    

    //** Check valied type **//
    [if.empty template.type]
      [template.set alert_class="alert-danger" /]
    	[template.set alert_msg="<strong>Fail!</strong> Invalid data passed!" /]
			[form_control.alert alert_class="{template.alert_class}" alert_msg="{template.alert_msg}" /] 
    	[template.return /]
    [/if.empty]   
    
    [if.equal lhs="{template.type}" rhs="task"]
    	[template.set attachfolder="{template.task_id}" /]
    [/if.equal]
    [if.equal lhs="{template.type}" rhs="story"]
    	[template.set attachfolder="{template.story_id}" /]	
    [/if.equal]
		
  [aw2.upload upload_multiple_to_path
       upload_element_id="{template.type}_feedback_attachment"
       dir_name="plot-docs/{template.attachfolder}"
       overwrite_file='no'
       allowed_file_types="gif,png,jpg,jpeg,pdf,doc,docx,txt,xls,xlsx,xlsm,csv,zip,svg,tar,tar.gz,gz,ppt,psd,ai,rar,7z,ttf,xd,cdr"
       set=template.file_res /]       

   [if.empty  template.file_res.0.error]   
    [if.greater_than_zero template.file_res.count]
      [loop.@att template.file_res]
        [template.set_array attachment_ids.new id="{@att.item.filename}" url="{@att.item.url}" /] 
      [/loop.@att]
    [/if.greater_than_zero]
    [/if.empty]
    
   
    [template.get attachment_ids.json_encode set="template.attachments" /]
	
    //** multiple reference lable and url **//
    [if.not_empty request.{template.type}_feedback_reference_label]
      [loop.@each_ref request.{template.type}_feedback_reference_label]
        [aw2.get request.{template.type}_feedback_reference_url.{@each_ref.key} set="template.url" /]
        [template.set_array reference_arr.new label="{{aw2.get @each_ref.item m.stripslashes_deep=yes}}" url="{template.url}" not_empty="{template.url}" /] 
      [/loop.@each_ref]
    [/if.not_empty]
	

  	[if.equal lhs="{template.type}" rhs="task"]

      //** set meta array **//
      [template.set meta_arr.task_feedback_description="{{request.get task_feedback m.stripslashes_deep=yes}}" /]
      [template.set meta_arr.task_feedback_reference_label_url="{template.reference_arr.json_encode}" /]
      [template.set meta_arr.task_feedback_attachments="{template.attachments}" not_empty="{template.attachments}" /]
      
     
      [template.set meta_arr.time_spent="{request.time_spent}" /]
      [template.set meta_arr.task_feedback_id="{template.feedback_id}" /]
      [template.set meta_arr.task_id="{template.task_id}" /]
      [template.set meta_arr.story_id="{template.story_id}" /]    

      //**Call add task service **//
      [plot.task.add_feedback metas='{template.meta_arr}' object_id="{template.task_id}" coll_id="{template.feedback_id}" set="template.res" /]
      
      [template.set keys_arr.new]task_title[/template.set]
      [template.set keys_arr.new]task_assigned_to[/template.set]
      [template.set keys_arr.new]task_status[/template.set]
      [template.set keys_arr.new]task_due_date[/template.set]

      
      [db.meta.select_meta_key_value_pair meta_table='plot' coll_id='{template.task_id}' object_id='{template.story_id}' meta_keys="{template.keys_arr}" set='template.taskmeta'/]
      
      [template.set activity_title='{template.taskmeta.task_title}' /]
      [template.set activity_url='{app.path}/task/{template.task_id}' /]
      
      [template.set meta_arr="" /]
      [template.set meta_arr.task_assigned_to="{request.assigned_to}" cond='{template.taskmeta.task_assigned_to}' not_equal="{request.assigned_to}" /]
      [template.set meta_arr.task_status="{request.task_status}" cond='{template.taskmeta.task_status}' not_equal="{request.task_status}" /]
      [template.set meta_arr.task_due_date="{request.due_date}" cond='{template.taskmeta.task_due_date}' not_equal="{request.due_date}" /]
      [plot.task.update metas='{template.meta_arr}' object_id="{template.story_id}" coll_id="{template.task_id}" set="template.res" /]
      
        [template.set metas_act="" /]
        [template.set metas_act.activity_note="Status changed to <em>{request.task_status}</em> for task <a href='{template.activity_url}'>{template.taskmeta.task_title}</a>" /]
        [plot.activity.log object_id="{template.task_id}" metas="{template.metas_act}" coll_type="task"  
        									 set="template.activity" c.cond='template.taskmeta.task_status' c.neq="request.task_status" /] 

        [template.set metas_act="" /]
        [template.set metas_act.activity_note="Task (<em><a href='{template.activity_url}'>{template.taskmeta.task_title}</a></em>) assigned to <em>{request.assigned_to}</em>" /]
        [plot.activity.log object_id="{template.task_id}" metas="{template.metas_act}" coll_type="task"  
        									 set="template.activity"  c.cond='template.taskmeta.task_assigned_to' c.neq="request.assigned_to" /]
        
        [template.set metas_act="" /]
        [template.set metas_act.activity_note="Due date changed to <em>{request.due_date} </em> for task <a href='{template.activity_url}'>{template.taskmeta.task_title}</a>" /]
        [plot.activity.log object_id="{template.task_id}" metas="{template.metas_act}" coll_type="task" 
        									set="template.activity"  c.cond='template.taskmeta.task_due_date' c.neq="request.due_date" /] 
      
      [template.set metas_act.activity_note="New feedback was added to task <a href='{template.activity_url}'>{template.taskmeta.task_title}</a>." /]
      [plot.activity.log object_id="{template.task_id}"  metas="{template.metas_act}" coll_type="task" set="template.activity" /] //** Activity log **//
    [/if.equal]
  
    [if.equal lhs="{template.type}" rhs="story"]

      //** set meta array **//
      [template.set meta_arr.story_feedback_description="{request.story_feedback}" /]
      [template.set meta_arr.story_feedback_reference_label_url="{template.reference_arr.json_encode}" /]
      [template.set meta_arr.story_feedback_attachments="{template.attachments}" not_empty="{template.attachments}" /]
      [template.set meta_arr.story_feedback_id="{template.feedback_id}" /]
      [template.set meta_arr.story_id="{template.story_id}" /]
			//**Call add story service **//
      [plot.user_story.add_feedback metas='{template.meta_arr}' object_id="{request.story_id}" 
      													coll_id="{template.feedback_id}" set="template.res" /]
      
      
      
      [template.set keys_arr.new]story_title[/template.set]
      [template.set keys_arr.new]story_assigned_to[/template.set]
      [template.set keys_arr.new]story_status[/template.set]
      [template.set keys_arr.new]story_due_date[/template.set]
      
      [db.meta.select_meta_key_value_pair meta_table='plot' coll_id='plot' object_id='{template.story_id}' meta_keys="{template.keys_arr}" o.set='template.storymeta'/]
      
      [template.set activity_title='{template.storymeta.story_title}' /]
      [template.set activity_url='{app.path}/user-story/{template.story_id}' /]
      
      [template.set meta_arr="" /]
      [template.set meta_arr.story_assigned_to="{request.assigned_to}" cond='{template.storymeta.story_assigned_to}' not_equal="{request.assigned_to}" /]
      [template.set meta_arr.story_status ="{request.story_status}" cond='{template.storymeta.story_status}' not_equal="{request.story_status}" /]
      [template.set meta_arr.story_due_date="{request.due_date}" cond='{template.storymeta.story_due_date}' not_equal="{request.due_date}" /]
  		[plot.user_story.update metas='{template.meta_arr}' object_id="{template.story_id}" set="template.res" /]
      
        //** TODO detect the individual activity and give actual change**//
        [template.set meta_arr="" /]
        [template.set metas_act.activity_note="Status changed to <em>{request.story_status}</em> for user story <a href='{template.activity_url}'>{template.activity_title}</a>" /]
        [plot.activity.log object_id="{template.story_id}" metas="{template.metas_act}" coll_type="story"  
        					set="template.activity" cond='{template.storymeta.story_status}' not_equal="{request.story_status}"/] 

        [template.set meta_arr="" /]
        [template.set metas_act.activity_note="Story (<a href='{template.activity_url}'>{template.activity_title}</a>) assigned to <em>{request.assigned_to}</em>" /]
        [plot.activity.log object_id="{template.story_id}" metas="{template.metas_act}" coll_type="story"  
        						set="template.activity" cond='{template.storymeta.story_assigned_to}' not_equal="{request.assigned_to}" /] 
      
        [template.set meta_arr="" /]
        [template.set metas_act.activity_note="Due date changed to <em>{request.due_date}</em> for user story <a href='{template.activity_url}'>{template.activity_title}</a>" /]
        [plot.activity.log object_id="{template.story_id}" metas="{template.metas_act}" coll_type="story" 
        									set="template.activity" cond='{template.storymeta.story_due_date}' not_equal="{request.due_date}"/] 
      
      [template.set metas_act.activity_note="New feedback added to user story <a href='{template.activity_url}'>{template.activity_title}</a>." /]
    	[plot.activity.log object_id="{template.story_id}" coll_type="story" metas="{template.metas_act}" set="template.activity" /]
      
      //** Activity log **//
    [/if.equal]
   	//** set response message **//
    [if.empty template.res]
      [template.set alert_class="alert-success" /]
      [template.set alert_msg="<strong>Success!</strong> Your feedback has been noted!" /]
    [/if.empty]
    [if.not_empty template.res]
      [template.set alert_class="alert-danger" /]
      [template.set alert_msg="<strong>Error!</strong> Something went wrong. Try again." /]
    [/if.not_empty]
    
    <template axn=selector.update selector='div.feedback-res' get='me.html'>
    	[form_control.alert alert_class="{template.alert_class}" alert_msg="{template.alert_msg}" /]
    </template>
    
    [if.equal lhs="{template.type}" rhs="task"]
		<script type="spa/axn" axn=page.update route_ajax='task/[template.get task_id /]'></script> 
   [/if.equal]  
   
    [if.equal lhs="{template.type}" rhs="story"]
		<script type="spa/axn" axn=page.update route_ajax='user-story/[template.get story_id /]'></script> 
   [/if.equal] 
		
     [template.set_array for_email]
      [from_name][app.get settings.from_name/][/from_name]
      [from_email][app.get settings.from_email/][/from_email]
      [assigned_to][request.get assigned_to/][/assigned_to] 
      [display_name][env.get current_user.display_name /][/display_name]
      [activity_title][env.get template.activity_title /][/activity_title]
      [activity_url][env.get  template.activity_url  /][/activity_url]
     [/template.set_array] 

  [plot.send-mail.new_feedback data='{template.for_email}' /]


[/templates.add]
]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860504</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 14:40:57]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 14:40:57]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[feedback]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>add-note</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860505</link>
		<pubDate>Mon, 28 Oct 2019 15:15:45 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858356</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	<section class="add-note-wrapper is-fixed width-100 height-100 modal-container z-index-max add-note-modal" style="background-color:rgba(0,0,0,0.6); top:0; left:0; z-index:9999; overflow-y:auto;">
  	<style> body{overflow: hidden} </style>
  	<div class='container'>
      <div class="row justify-content-center align-items-center">
        <div class="col-12 col-md-8">
          <div class="gap-10"></div>
          <div class="gap-10 is-md-none"></div>
          <div class="gap-10 is-md-none"></div>
          <div class="brand-white-bg box-shadow pad-x-8 is-relative mobile-modal">
            <i class="icon-close is-absolute brand-white-bg br-50 pad-4 gray close-add-note-modal box-shadow cursor" style='cursor:pointer; top: -20px; right: -20px;'></i>
            <h3 class="br-bottom mar-b-7 pad-y-6 text-center">Add Note</h3>
            <div class='notes-type'>
            <form class='add-note-form flex-wrap is-flex justify-content-center' role="notes_type">
            	<div class="col-md-7 col-12 form-group">
              	<label>Note Title</label>
              	<input id="note_title" name="note_title" type="text" placeholder="Note Title" class="form-control input-md " value="" required>
              </div>
              <div class="form-group col-md-7 col-12">
				[plot.filter.get_note_type is_required=yes /]
              </div>
              <div class="text-center col-12 col-md-7 mar-t-4">
              	<button type="submit" id="add-note" value="" class="btn btn-primary add_note width-100">Add Note</button>
              </div>
            </form>
            
            <script type=spa/axn
                  axn='form.ajax'
                  bind='submit'
                  bind_selector="form.add-note-form"
                  task_id="[aw2.get request.task_id /]"
                  disable_selector=".add_note"
                  route_ajax='[module.slug /].add_note'></script>
            </div>
            <div class='gap-6'></div>
          </div>
          <div class="gap-10"></div>
        </div>
      </div>
      
      <script type="spa/axn" axn='core.run_script'>
        $('.close-add-note-modal').click(function(){
          $('.add-note-wrapper').remove();
        });
      </script>
    </div>
  </section>
[/templates.add]
[templates.add add_note]
	[plot.note.add task_id='{request.task_id}' note_title='{{request.get note_title m.stripslashes_deep=yes}}' note_type='{request.note_type}' set=template.res /]
   //** Activity log **//
  [template.set metas_act.activity_note="Note <em>(<a href='{app.path}/note/{template.res.note_id}'>{request.note_title}</a>)</em> was created." /]
  [plot.activity.log object_id="{request.task_id}" coll_type="note" metas="{template.metas_act}" set="template.activity" /]

  <script type="spa/axn" axn="core.run_script">
  	spa.loader.show();
    $('.add-note-wrapper').remove();
  	spa.page.update({
    	href:'[app.path /]/note/[template.res.note_id /]',
      route_ajax: 'note/[template.res.note_id /]',
    }).then(function(){
      spa.loader.hide();
    });
  </script>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860505</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 15:15:45]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 15:15:45]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[add-note]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>add-task</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860506</link>
		<pubDate>Mon, 28 Oct 2019 15:22:25 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858359</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
[css.style]
.filter-icon{
  display: none !important;
}
.flex-no-shrink{
      flex-shrink: 0;
  }
  .trumbowyg-editor {
    min-height: 200px;
  }
[/css.style]
<main> 
  //** 
    Modal Popup template here!
  **//
<template axn=selector.update selector=".popup-section" get='me.html'> 
	[css.style]
  	.trumbowyg-editor{
      min-height: 200px;
   	}
    .modal-dialog{
      max-width: 1200px;
      padding:10px;
    }
    .modal {
    	z-index: 99999;
      padding-right:0px !important;
      top:0% !important;
    }
    .modal-backdrop {
      z-index: 9999;
      //**background-color: rgba(0,0,0,1);**//
    }
    .select2-container {
   		width: 100% !important;
      z-index:99999;
		}
  [/css.style]

  [module.set story_id="{request.story_id}" default="{qs.0}" /]
  [db.meta.select_meta_key_value_pair meta_table="plot" object_id="{qs.0}" set="template.story_data" /]

  <!-- The Modal of Add New Task -->
  <div class="modal" id="addNew_Task">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Add New Task</h4>
          <button type="button" class="close reset-template" data-dismiss="modal"></button>
        </div>
        <!-- Modal body -->
        <div class="modal-body">
          <form action="" class="add-task-form" novalidate>
            <div class="row">
              <div class="col-12">
                  <div class="feedback-res"></div>
              </div>
              <div class="col-md-7">
                 <div class="row">
                  <div class="col-12">
                    [form_control.text label="Title" id="task_title" placeholder="Title" required="yes" /] 
                  </div>
                  <div class="col-12">
                    [form_control.trumbowyg_editor label="Task Deliverables" placeholder="Task Deliverables"
                    															 textarea_name="task_description" 
                                                   editor_name="editor1" required="yes" /]
                  
                  </div>
                  <div class="col-12">
                  	<label class="gray">Reference Links</label>
                  	[form_control.multi.label_url name="task_reference" /]
                  </div>
                  <div class="col-12">
                  	<label class="gray">Attachments</label>
                  	[form_control.multi.file_upload name="attachment" /]
                		[form_control.multi.file_upload_script /]    
                  </div>
                </div> 
              </div>

              <div class="col-md-5">
                <div class="row">
                  <div class="col-12">
                    <div class="">
                       [plot.filter.select_tags  values='{template.story_data.story_tags}' taxonomy="task_tag" id="task_tags" required="yes" /]
                    </div>
                  </div>
                  <div class="col-12">
                    [plot.filter.get_assigned_to  id="task_assigned" required="yes" /]
                  </div>
                  <div class="col-6">
                    [form_control.text label="Due Date" name="task_due_date" value="" id="task_due_date" class="task_due_date" required="yes" /] 
                  </div>  
                  <div class="col-6">
                    [form_control.hhmm_duration label="Estimated Time" name="estimated_time" placeholder="HH:MM" value="" id="estimated_time" class="estimated_time" required="yes" /] 
                  </div>
               </div>
              	<button type="submit" id="add-user-story" value="" class="btn btn-primary add-user-story width-100">Save</button>
              </div>
            </div>
          </form>
        </div>

      </div>
    </div>
  </div>
  <!-- End The Modal of Add New Task -->

  <script type="spa/axn" axn="core.run_script" cdn_js_files="bootstrap/4.3.1/js/bootstrap.min.js" >
    $('#addNew_Task').modal('show');
    $(".reset-template").click(function(){
    	$(".popup-section").modal('hide');
    });
  </script>
	  
  [session_ticket.create nonce=yes set=module.ticket_id /]  
  [session_ticket.set_activity {module.ticket_id} collection='{module.collection}' module='{module.slug}.save_details' /]

  <script type=spa/axn
        axn='form_upload.ajax'
        bind='submit'
        bind_selector="form.add-task-form" 
        disable_selector=".add-user-story"
        story_id="[module.get story_id /]"
        route_ajax='t/[module.get ticket_id /]'></script>

  <script type="spa/axn" axn="core.run_script" cdn_js_files="flatpickr/4.5.0/flatpickr.min.js" cdn_css_files="flatpickr/4.5.0/flatpickr.min.css">
      flatpickr(".task_due_date", {
        enableTime: false,
        minDate: "today",
        dateFormat: "d-m-Y",
        "locale": {
          "firstDayOfWeek": 1
        },
        "disable": [
          function(date) {
              // return true to disable
              return (date.getDay() === 0 || date.getDay() === 6);

          }
      ],
      "locale": {
          "firstDayOfWeek": 1 // start week on Monday
      }

      });
  </script>

  <script type="spa/axn" axn=core.run_script>
    $(function() {
      $('img').addClass('img-responsive');
    });
  </script>
	</template> 
  
</main>
[/templates.add]

[templates.add save_details]
		
    [template.set task_id='tsk{unique_number}' /]

    [aw2.upload upload_multiple_to_path
       upload_element_id="attachment"
       dir_name="plot-docs/{template.task_id}"
       overwrite_file='no'
	     allowed_file_types="gif,png,jpg,jpeg,pdf,doc,docx,txt,xls,xlsx,xlsm,csv,zip,svg,tar,tar.gz,gz,ppt,psd,ai,rar,7z,ttf,xd,cdr"
       set=template.file_res /]
  	[if.empty  template.file_res.0.error]   
      [if.greater_than_zero template.file_res.count]
        [loop.@att template.file_res]
          [template.set_array attachment_ids.new id="{@att.item.filename}" url="{@att.item.url}" /] 
        [/loop.@att]
      [/if.greater_than_zero]
    [/if.empty] 
        
    [template.get attachment_ids.json_encode set="template.attachments" /]

    //** multiple reference lable and url **//
    [if.not_empty request.task_reference_label]
      [loop.@each_ref request.task_reference_label]
        [aw2.get request.task_reference_url.{@each_ref.key} set="template.url" /]
        [template.set_array reference_arr.new label="{@each_ref.item}" url="{template.url}" /] 
      [/loop.@each_ref]
    [/if.not_empty]
	
    [date.create now date_format='Y-m-d H:i:s' set=template.current_dt /]
    [template.set meta_arr.story_id="{request.story_id}" /]
    [template.set meta_arr.task_id="{template.task_id}" /]
    [template.set meta_arr.task_title="{{request.get task_title m.stripslashes_deep=yes}}" /]
    [template.set meta_arr.task_description="{{request.get task_description m.stripslashes_deep=yes}}" /]
    [template.set meta_arr.task_reference_label_url="{template.reference_arr.json_encode}" /]
    [template.set meta_arr.task_attachments="{template.attachments}" not_empty="{template.attachments}" /]
    [template.set meta_arr.task_assigned_to="{request.assigned_to}" /]
    [template.set meta_arr.task_assigned_datetime="{template.current_dt}"  not_empty="{template.assigned_to}" /]
    [template.set meta_arr.task_priority="{request.task_priority}" /]
    [template.set meta_arr.task_tags="{request.task_tags.comma}" /]
    [template.set meta_arr.task_due_date="{request.task_due_date}" /]
    [template.set meta_arr.estimated_time="{request.estimated_time}" /]
    [template.set meta_arr.task_status="new" /] //** TODO: default_task_status **//

    [plot.task.add metas='{template.meta_arr}' object_id="{request.story_id}" coll_id="{template.task_id}" set="template.res" /]

    //** Activity log **//
    [template.set metas_act.activity_note="Task (<a href='{app.path}/task/{template.task_id}'>{{request.get task_title m.stripslashes_deep=yes}}</a>) was created." /]
  	[plot.activity.log object_id="{request.story_id}" coll_type="story" metas="{template.metas_act}" set="template.activity" /]
		
    	
    [template.set activity_url='{app.path}/task/{template.task_id}' /]
    [template.set_array for_email]
      [from_name][app.get settings.from_name/][/from_name]
      [from_email][app.get settings.from_email/][/from_email]
      [assigned_to][request.get assigned_to/][/assigned_to] 
      [display_name][env.get current_user.display_name /][/display_name]
      [activity_title][request.get task_title /][/activity_title]
      [activity_url][env.get template.activity_url  /][/activity_url]
    [/template.set_array] 

 		[plot.send-mail.new_task data='{template.for_email}' /]
  
    [if.empty template.res]
      [template.set alert_class="alert-success" /]
      [template.set alert_msg="Task ({{request.get task_title m.stripslashes_deep=yes}}) was created." /]
    [/if.empty]
   
    
    <template axn=selector.update selector='div.feedback-res' get='me.html'>
    	[form_control.alert alert_class="{template.alert_class}" alert_msg="{template.alert_msg}" /]
    </template>
    <script type="spa/axn" axn="core.run_script">
    	window.open('[app.path]/user-story/[aw2.get request.story_id /]', "_self");
      $(".add-task-form").trigger("reset");
    </script>
  
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860506</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 15:22:25]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 15:22:25]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[add-task]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>api</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860507</link>
		<pubDate>Mon, 28 Oct 2019 16:33:54 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858383</guid>
		<description></description>
		<content:encoded><![CDATA[//**
*
* url:https://plot.getawesomestudio.com/plot/module/api/?username=plot-api&password=plot@1234&force_single_access=yes
**//
[templates.add main]
  [env.set api_datetime={qs.0} c.not_empty=qs.0 /]
  
  [module.set_array query]
    [pagesize]1000[/pagesize]
    [pageno][template.get page /][/pageno]
    [query_count]yes[/query_count]
    [with]
       [sql]
        SELECT coll_id as data_id FROM plot WHERE coll_type="task" AND meta_key='task_id' and stamp >= "[env.get api_datetime /]"
       [/sql]
        [add_field new ]
          [sql raw]
           SELECT object_id as data_id FROM plot WHERE coll_type="task_feedback" AND meta_key ='task_feedback_id'  and stamp >= "[env.get api_datetime /]"
          [/sql]
      [/add_field] 
      [add_field new ]
          [sql raw]
            SELECT q0.*  from q0 Union select q1.* from q1
          [/sql]
      [/add_field]
      [filter new]
        [sql raw]
           select q2.*, meta_value as task_due_date from q2 join plot pa on q2.data_id = pa.coll_id where coll_type='task' and meta_key='task_due_date'
        [/sql]
      [/filter] 
      [filter new]
        [sql raw]
            select q3.*, sum(meta_value) as task_spent from q3 left join plot pa on q3.data_id = pa.object_id and coll_type='task_feedback' and meta_key='time_spent' group by q3.data_id
        [/sql]
      [/filter]
    [/with]
    [transform ref_id=data_id /]
    [meta new]
       [table]plot[/table]
     [meta_keys]story_id,task_id,task_title,task_due_date,task_status,task_assigned_to,task_priority,task_tags,task_created_by,created_datetime,estimated_time[/meta_keys] 
       [id_field]coll_id[/id_field]
    [/meta]
    [meta new]
        [sql raw]
            SELECT 'meta' AS type, bounded_data.data_id,'time_spent' as meta_key,bounded_data.task_spent as meta_value FROM bounded_data 
        [/sql]
    [/meta]
    [order]task_due_date DESC[/order]
	[/module.set_array]
	[db.meta_query query="{module.query}" set="template.rs"/]

    
  [loop.@i template.rs.rows]  
    [template.set task_url='{app.path}/task/{@i.item.task_id}' /]
    [template.get task_url set="template.rs.rows.{@i.item.task_id}.task_url"/] 
  [/loop.@i]
  
  [php.json_encode p1="{template.rs.rows}" set="template.res" /]
  [template.return template.res /]

[/templates.add]

[templates.add activities]

 [template.set api_datetime={qs.0} c.not_empty=qs.0 /]
 [plot.api.get_activities api_datetime='{template.api_datetime}' o.set='template.rs'/]
 [env.get template.rs.rows  m.json_encode=true o.set='template.res'/]
 [template.return template.res /]
 
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860507</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 16:33:54]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 16:33:54]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[api]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>migration</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860508</link>
		<pubDate>Mon, 28 Oct 2019 16:34:11 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858385</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
  
  <main>
    <div class="container">
      <div class="pad-5"></div>
      <div class="row">
        <div class="col-12">
  				
          //** Get Alll users**//
          [query.get_users set="template.users" /]
    
          //** Set array Id with email pair**//
          [template.set user_email="" /]
          [loop.@user template.users]
            [template.set user_email.{@user.item.ID}][aw2.get @user.item.data.user_email /] [/template.set]
          [/loop.@user]
        
				[query.posts_builder posts_builder part=start]
          {
            "posts_per_page": -1,
            "post_type": "as_task",
            "post_status": "publish"
          }
        [/query.posts_builder]
        [query.posts_builder part=tax_query]
          {
            "taxonomy": "task_tag",
            "field": "slug",
            "terms": ["story"]
          }
        [/query.posts_builder]
        [query.posts_builder part=meta_query]
          {
            "key": "migrate",
            "compare": "NOT EXISTS"
          }
        [/query.posts_builder]
        [query.posts_builder part=run set=template.stories /]
		
		//** check story found or not **//
        [if.greater_than_zero template.stories.found_posts]
          [loop.@story template.stories.posts]
        		[template.set post_id="{@story.item.ID}" /]
            
            [template.set story_id='us{unique_number}' /]
            
						[aw2.get @story.item.post_title set="template.story_title" /]
            [aw2.get @story.item.post_content set="template.story_description" /]
            
            [aw2.get @story.item.post_date date_format='Y-m-d H:i:s' set="template.story_created_datetime" /]
            [aw2.get @story.item.post_date date_format='Ymd' set="template.story_created_date" /]
            
            
            [aw2.get @story.item.post_author  set="template.story_created_by" /]
            [aw2.get template.user_email.{template.story_created_by} set="template.story_created_by" /]
                        
            [aw2.get @story.item.taxonomy.slugs.task_status.comma set="template.story_status" /]
            
            
            
            //** multiple reference lable and url **//
            [template.set quick_links="" /]
            [php.get_field p1="quick_links" p2="{template.post_id}" set="template.quick_links" /]
            [template.get quick_links.json_encode set="template.quick_links"]
            
            
            
            //** Attachments **//
            [php.get_field p1="attachments" p2="{template.post_id}" set="template.attachments" /]        
            [template.set attachment="" /]
            [if.not_empty template.attachments]
              [loop.@attachment template.attachments]
                [template.set_array attachment.new id="{@attachment.key}" url="{@attachment.item}" /]
              [/loop.@attachment]
            [/if.not_empty]
            [template.get attachment.json_encode set="template.attachment" /]
            
            //**Status Config Array**//
            [template.set_array story_old_status]
              [feedback-pending]feedback[/feedback-pending]
              [new]new[/new]
              [signed-off]signed-off[/signed-off]
              [discussion-pending]discussion[/discussion-pending]
            [/template.set_array]
            
            [template.get story_old_status.{template.story_status} o.set="template.new_story_status" /]
            
            //** assigned_to **//
            [php.get_field p1="assigned_to" p2="{template.post_id}" set="template.assigned_to" /]
            [aw2.get template.user_email.{template.assigned_to} set="template.assigned_to" /]
            
            //** task_due **//
            [php.get_field p1="task_due" p2="{template.post_id}" set="template.story_due_date" /]
            [template.get story_due_date date_format='d-m-Y' set="template.story_due_date" /]
            
            [template.set meta_arr="" /]
            [template.set meta_arr.story_title="{template.story_title}" /]
            [template.set meta_arr.story_description="{template.story_description}" /]
            [template.set meta_arr.story_priority="mid" /]
            [template.set meta_arr.story_reference_label_url="{template.quick_links}" not_empty="{template.quick_links}" /]
            [template.set meta_arr.story_attachments="{template.attachment}" not_empty="{template.attachment}" /]
            [template.set meta_arr.story_assigned_to="{template.assigned_to}" /]
            [template.set meta_arr.story_assigned_datetime="{template.story_created_datetime}"  not_empty="{template.assigned_to}" /]
            [template.set meta_arr.story_status="{template.new_story_status}" /]
            [template.set meta_arr.story_due_date="{template.story_due_date}" /]
            [template.set meta_arr.story_id="{template.story_id}" /]
            
            
            [if.not_empty @story.item.comment_count]
              [templates.run add_story_feedback post_id="{template.post_id}" story_id="{template.story_id}" /]
            	//****//
            [/if.not_empty]
            
            //****//
            [plot.user_story.add metas='{template.meta_arr}' object_id="{template.story_id}" story_created_datetime="{template.story_created_datetime}" story_created_by="{template.story_created_by}" set="template.res" /]
            
            
            [query.update_post_meta post_id="{template.post_id}" meta_key="migrate"  meta_value="yes" set="template.temp" /]
            
            [template.get story_id /]:::: [template.get post_id /]<br>
            
          [/loop.@story]
					
          <h3>Stories Migrated.......................<br></h3> 
          
        [/if.greater_than_zero]
                
                         
          
        //***************************************
        *************								*************
        *************		Task Add   	*************
        *************								*************
        ***************************************//

         //** check whether story exist or not **//
        [template.set story_id="{qs.0}" /]
        [db.meta.select_meta_key_value_pair meta_table="plot" object_id="{template.story_id}" set="template.story_data" /]

        [if.empty template.story_data.story_id]
          [template.set story_error="Invalid story ID passed. Please check story exists or not" /]
          [module.return template.story_error /]
        [/if.empty]

          //** Get all tasks **//
          [query.posts_builder posts_builder part=start]
            {
              "posts_per_page": -1,
              "post_type": "as_task",
              "post_status": "publish"
            }
          [/query.posts_builder]
          [query.posts_builder part=tax_query]
            {
              "taxonomy": "task_tag",
              "field": "slug",
              "terms": ["story"],
              "operator":"NOT IN"
            }
          [/query.posts_builder]
          [query.posts_builder part=meta_query]
            {
              "key": "migrate",
              "compare": "NOT EXISTS"
            }
          [/query.posts_builder]
          [query.posts_builder part=run set=template.tasks /]
          
          [if.empty template.tasks]
            [template.set error="Task is empty" /]
            [module.return template.error /]
          [/if.empty]
          
          [template.set_array old_user_id]
            [24]20[/24]
            [32]32[/32] 
            [7]18[/7]  
            [25]29[/25] 
            [14]2[/14] 
            [17]27[/17] 
            [29]23[/29] 
            [10]14[/10] 
            [30]30[/30] 
            [22]28[/22] 
            [33]34[/33] 
            [35]34[/35] 
            [23]21[/23] 
            [18]9[/18] 
            [9]11[/9]  
            [37]36[/37] 
            [40]37[/40] 
            [28]22[/28] 
            [11]8[/11] 
            [20]10[/20] 
            [39]4[/39] 
            [38]25[/38] 
            [41]38[/41] 
            [36]35[/36] 
            [16]19[/16] 
            [31]31[/31] 
            [21]17[/21] 
            [5]7[/5]  
            [34]33[/34] 
            [8]13[/8]  
            [42]42[/42] 
            [12]12[/12]
            [15]3[/15] 
            [3]6[/3]  
            [13]16[/13] 
            [26]39[/26] 
            [27]24[/27] 
            [1]5[/1]  
          [/template.set_array]
            
					[loop.@task template.tasks.posts]
        		[template.set post_id="{@task.item.ID}" /]
            //** Set value **//
            [aw2.get @task.item.post_title set="template.task_title" /]
            [aw2.get @task.item.post_content set="template.task_description" /]
            [aw2.get @task.item.post_date date_format='Y-m-d H:i:s' set="template.task_created_datetime" /]
            [aw2.get @task.item.post_date date_format='Ymd' set="template.task_created_date" /]
            [aw2.get @task.item.post_author  set="template.task_created_by" /]
            [template.get old_user_id.{template.task_created_by} o.set="template.new_task_created_by" /]
            [if.empty template.new_task_created_by]
            	[template.set new_task_created_by='4' /]
            [/if.empty]
            [aw2.get template.user_email.{template.new_task_created_by} set="template.task_created_by" /]
            
            [aw2.get @task.item.taxonomy.slugs.task_status.comma set="template.task_status" /]
  
            //** multiple reference lable and url **//
            [template.set quick_links="" /]
            [php.get_field p1="quick_links" p2="{template.post_id}" set="template.quick_links" /]
            [template.get quick_links.json_encode set="template.quick_links"]
            
            //** Attachments **//
            [php.get_field p1="attachments" p2="{template.post_id}" set="template.attachments" /]        
            [template.set attachment="" /]
            [if.not_empty template.attachments]
              [loop.@attachment template.attachments]
                [template.set_array attachment.new id="{@attachment.key}" url="{@attachment.item}" /]
              [/loop.@attachment]
            [/if.not_empty]
            [template.get attachment.json_encode set="template.attachment" /]
            
            
            //** assigned_to **//
            [php.get_field p1="assigned_to" p2="{template.post_id}" set="template.assigned_to" /]
            [template.get old_user_id.{template.assigned_to} o.set="template.new_assigned_to" /]
            [if.empty template.new_assigned_to]
            	[template.set new_assigned_to='4' /]
            [/if.empty]
            [aw2.get template.user_email.{template.new_assigned_to} set="template.assigned_to" /]
            
            //** task_due **//
            [php.get_field p1="task_due" p2="{template.post_id}" set="template.task_due_date" /]
            [template.get task_due_date date_format='d-m-Y' set="template.task_due_date" /]
            
            //**Status Config Array**//
            [template.set_array task_old_status]
              [feedback-pending]feedback[/feedback-pending]
              [feedback]feedback[/feedback]
              [on-hold]hold[/on-hold]
              [hold]hold[/hold]
              [new]new[/new]
              [signed-off]signed-off[/signed-off]
              [content-pending]work-in-progress[/content-pending]
              [design-pending]work-in-progress[/design-pending]
              [development-pending]work-in-progress[/development-pending]
              [devops-pending]work-in-progress[/devops-pending]
              [discussion-pending]work-in-progress[/discussion-pending]
              [image-pending]work-in-progress[/image-pending]
              [review-pending]work-in-progress[/review-pending]
              [sign-off-pending]work-in-progress[/sign-off-pending]
              [work-in-progress]work-in-progress[/work-in-progress]
            [/template.set_array]         
                        
            [template.get task_old_status.{template.task_status} o.set="template.new_task_status" /]
            
            [template.set meta_arr="" /]
            [template.set task_id='tsk{unique_number}' /]
            
            [template.set meta_arr.story_id="{template.story_id}" /]
            [template.set meta_arr.task_id="{template.task_id}" /]
            [template.set meta_arr.task_title="{template.task_title}" /]
            [template.set meta_arr.task_description="{template.task_description}" /]
            [template.set meta_arr.task_reference_label_url="{template.quick_links}" not_empty="{template.quick_links}" /]
            [template.set meta_arr.task_attachments="{template.attachment}" not_empty="{template.attachment}" /]
            [template.set meta_arr.task_assigned_to="{template.assigned_to}" /]
            [template.set meta_arr.task_priority="{template.task_priority}" /]
            [template.set meta_arr.task_tags="{template.task_tags.comma}" /]
            [template.set meta_arr.task_due_date="{template.task_due_date}" /]
            [template.set meta_arr.task_status="{template.new_task_status}" /]
            [template.set meta_arr.task_ip="{ip}" /]
               
            
            [plot.task.add metas='{template.meta_arr}' object_id="{template.story_id}" coll_id="{template.task_id}" task_created_datetime="{template.task_created_datetime}" task_created_by="{template.task_created_by}" set="template.res" /]
            
            //** Feedback & activity  section str **//
            
              //** check feedback exist or not***//
              [if.greater_than_zero @task.item.comment_count]
                //** Add feedback **//
                [templates.run add_feedback post_id="{template.post_id}" task_id="{template.task_id}" story_id="{template.story_id}" /] 
              [/if.greater_than_zero]
              
            //**Feedback & activity section end **//
            
            [query.update_post_meta post_id="{template.post_id}" meta_key="migrate"  meta_value="yes" /]
            [template.get task_id /]::::[template.get post_id /]<br>
            <hr>
					[/loop.@task]
          <h3>Task Done.......................<br></h3> 
        </div>
      </div>
    </div>
	</main>
[/templates.add]

[templates.add add_feedback]

	[query.get_comments set=template.comments]
    {
      "post_id":"[template.get post_id /]"
    }
	[/query.get_comments]
  
  [loop.@comment template.comments]
  	
    [template.set metas_act="" /]
   	
    [if.equal lhs="activity_log" rhs="{@comment.item.comment_type}"]
      [template.set metas_act.activity_note="{@comment.item.comment_content}" /]
  		
      [plot.activity.log object_id="{template.task_id}" activity_datetime="{@comment.item.comment_date}" activity_user="{@comment.item.comment_author_email}" metas="{template.metas_act}" set="template.activity" /]
    [/if.equal]
    
    [if.empty @comment.item.comment_type]
    //** Add to feedback **//
			
    //** set meta array **//
    
    
    [template.set meta_feed='' /]
    [template.set feedback_id='fb{unique_number}' /]
   	[template.set meta_feed.task_feedback_description="{@comment.item.comment_content}" /]
    [template.set meta_feed.task_feedback_id="{template.feedback_id}" /]
    [template.set meta_feed.task_id="{template.task_id}" /]
    [template.set meta_feed.story_id="{template.story_id}" /]
    
    //**Call add task service **//
    [plot.task.feedback metas='{template.meta_feed}' object_id="{template.task_id}" task_feedback_created_datetime="{@comment.item.comment_date}" task_feedback_created_by="{@comment.item.comment_author_email}" coll_id="{template.feedback_id}" set="template.res" /]
    
    [/if.empty]
    
  [/loop.@comment]
  
[/templates.add]

[templates.add add_story_feedback]
	
	[query.get_comments set=template.comments]
    {
      "post_id":"[template.get post_id /]"
    }
	[/query.get_comments]
  
  	[loop.@comment template.comments]
  	
      [template.set metas_act="" /]

      [if.equal lhs="activity_log" rhs="{@comment.item.comment_type}"]
        [template.set metas_act.activity_note="{@comment.item.comment_content}" /]
				
        //****//
        [plot.activity.log object_id="{template.story_id}" activity_datetime="{@comment.item.comment_date}" activity_user="{@comment.item.comment_author_email}" metas="{template.metas_act}" set="template.activity" /]
      [/if.equal]
    
    [if.empty @comment.item.comment_type]
    		//** Add to feedback **//
        //** set meta array **//

        [template.set meta_feed='' /]
        [template.set feedback_id='fb{unique_number}' /]
        [template.set meta_feed.story_feedback_id="{template.feedback_id}" /]
        [template.set meta_feed.story_feedback_description="{@comment.item.comment_content}" /]
        [template.set meta_feed.story_id="{template.story_id}" /]

        //**Call add task service **//
        [plot.user_story.feedback metas='{template.meta_feed}' object_id="{template.story_id}" story_feedback_created_datetime="{@comment.item.comment_date}" story_feedback_created_by="{@comment.item.comment_author_email}" coll_id="{template.feedback_id}" set="template.res" /]
    [/if.empty]
    
  [/loop.@comment]

[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860508</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 16:34:11]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 16:34:11]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[migration]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>setup</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860509</link>
		<pubDate>Mon, 28 Oct 2019 16:34:42 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858387</guid>
		<description></description>
		<content:encoded><![CDATA[[multi.select]

CREATE TABLE IF NOT EXISTS `plot` (
  `ID` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `stamp` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_by` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `object_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `coll_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `coll_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `meta_key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `meta_value` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `meta_key` (`meta_key`),
  KEY `coll_id` (`coll_id`),
  KEY `object_id` (`object_id`),
  KEY `meta_value` (`meta_value`(100)),
  KEY `combo` (`object_id`,`coll_id`,`meta_key`),
  KEY `coll_type` (`coll_type`),
  KEY `combo2` (`coll_id`,`meta_key`,`meta_value`(100)),
  KEY `coll_id_meta_key` (`coll_id`,`meta_key`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



CREATE TABLE IF NOT EXISTS `plot_activities` (
  `ID` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `stamp` datetime NOT NULL DEFAULT current_timestamp(),
  `updated_by` varchar(100) NOT NULL,
  `object_id` varchar(50) NOT NULL,
  `coll_id` varchar(50) NOT NULL,
  `coll_type` varchar(50) NOT NULL,
  `meta_key` varchar(50) NOT NULL,
  `meta_value` longtext NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `plot_activities`
ADD INDEX `object_id` (`object_id`),
ADD INDEX `coll_id` (`coll_id`),
ADD INDEX `coll_id_meta_key_meta_value` (`coll_id`, `meta_key`, `meta_value`(100));

COMMIT;

[/multi.select]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860509</wp:post_id>
		<wp:post_date><![CDATA[2019-10-28 16:34:42]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-10-28 16:34:42]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[setup]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>common-css</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860510</link>
		<pubDate>Fri, 01 Nov 2019 01:38:00 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858471</guid>
		<description></description>
		<content:encoded><![CDATA[[css.minify]
[css.less]
body{
	overflow-x:hidden;
 	background-color: #f5f5f5;
   table.dataTable tbody tr.even { background-color: #f2f2f2; }
  table.dataTable tbody tr.odd { background-color: #fff; }
  .header{
    height: 70px;
    z-index: 9999;
    position: fixed;
    width: 100%;
    top: 0;
    box-shadow: 0 0px 6px rgba(0,0,0,0.1);
    
    .logo-wrapper{
      .logo-img{
        max-height: 50px;
      }
      @media only screen and (max-width: 991px) {
      	padding-left: 0;
        border: 0;
      }
    }
    .header-main{ 
    		input[type=text]{
            outline:none;
            padding-left: 45px;
            box-shadow: none;
            border: 0;
        }
        
        .search-container{          
          .sprite-icon{
              position: absolute;
              top: 8px;
              left: 15px;
          }
        }
        @media only screen and (max-width: 767px) {
            padding-bottom:10px;
            padding-top:10px;
            order: 1;
            display: none;
            position:absolute;
            top:100%;
            border-top: 1px solid @gray-white;
        }
        @media only screen and (min-width: 768px) {
        		display: block !important;
        }
    }
    .dropdown{
    		
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #fff;
            min-width: 160px;
            width: 90%;
            box-shadow: 0 8px 16px 0 rgba(0,0,0,.2);
            z-index: 1;
            top: 100%;
            right: 5px;
            text-align: center;
            padding: 0;
            list-style-type: none;
            
            li a{
            	display: block;
              padding-top: 10px;
              padding-bottom: 10px;
              &:hover{
              		background: @gray-white;
              }
            }
        }
        &:hover .dropdown-content {
            display: block;
        }
    }
  }  
  .header-gap{
  	height: 70px;
  }
  
  .filters-wrapper{
    	display: none;
      padding: 15px 40px;
      position:fixed;
      width: 83.33%;
      z-index: 9;
      box-shadow: 0px 1px 8px rgba(0,0,0,0.1);
      @media only screen and (max-width: 991px) {
    		padding: 15px;
        width: 100%;
    	}
      .filter{      
        label{
            font-size: 13px;
            margin-top: 0;
        }
      }
  }
    
  .body-content-wrapper{
  	padding: 40px;
  	@media only screen and (max-width: 991px) {
    		padding: 15px;
    }
  }
  a.anchor-absolute {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
  }
  .trumbowyg-editor{
   	 background: #fff;
  }
  
  .add-feedback-form {
  	.trumbowyg-box{
       min-height:150px;
    } 
    .trumbowyg-editor{
       min-height:125px;
    }
  }
  .flatpickr-input[readonly]{
      background: #fff;
  }
  .add-more-url, .remove-url{
  	height: 20px;
    margin-bottom: 20px;
  }
}

.label-info { background-color: #5bc0de; }
.label {
    display: inline;
    padding: .2em .6em .3em;
    font-size: 75%;
    font-weight: 700;
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: .25em;
}
.pointer{ cursor:pointer;}

/** Drop zone - css **/
.files{ 
	position:relative;
  background-color: #fff;
  outline: 2px dashed #92b0b3;
  padding:5%;
  
	input { 
  	opacity:0;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }
}
.uploaded-files{
		clear: both;
}
.status-new, .status-implementation{
		background-color:  #2a92d4;
    color: #fff;
}
.status-work-in-progress, .status-ops, .status-development{
  	background-color: #f09a09;
    color: #fff;
}
.status-feedback{
  	background-color: #e15f6f;
    color: #fff;
}
.status-hold, .status-in-pipeline, .status-usage{
  	background-color: #765285;
    color: #fff;
}
.status-signed-off{
  	background-color: #828a9d;
    color: #fff;
}
.status-discussion, .status-architecture{
		background-color: #01aaac;
    color: #fff;
}
.status-story{
		background-color: #795548;
    color: #fff;
}
.status-migration{
		background-color: #8ec53e;
    color: #fff;
}
.status-bar ul li{
	border-bottom: 3px solid transparent;
  .status-new, .status-implementation{
			color:  #2a92d4;
      background-color: transparent;
  }
  .status-work-in-progress, .status-ops, .status-development{
     color: #f09a09;
     background-color: transparent;
  }
  .status-feedback{
      color: #e15f6f;
      background-color: transparent;
  }
  .status-hold, .status-in-pipeline, .status-usage{
      color: #765285;
      background-color: transparent;
  }
  .status-signed-off{
      color: #828a9d;
      background-color: transparent;
  }
  .status-discussion, .status-architecture{
      color: #01aaac;
      background-color: transparent;
  }
  .status-migration{
      color: #8ec53e;
      background-color: transparent;
  }
 
}

.SumoSelect{
		width: 100%;
		.SelectBox{
        padding: .9rem;
        font-size: 16px;
        height: auto;
    }
    >.CaptionCont>span {
    		font-style: normal;
        font-size: 16px;
    		&.placeholder
        {
          color: @gray;
          font-style: normal;
          font-size: 16px;
        }
    }
}
.trumbowyg-box{
		margin-top: 5px;
}
.has-error .SumoSelect .SelectBox, .has-error .trumbowyg-box {
    border-color: #a94442;
}
.select2-container--default .select2-selection--multiple {
    border: 1px solid #e2e2e2 !important;
    padding: .5rem 15px .5rem .5rem;
}
[/css.less]
[css.less]
	.sidebar{
    overflow-y: auto;
    z-index: 9999;
    
    .sidebar-wrapper{
    	position: fixed;
      top: 70px;
      left: 0;
      bottom: 100%;
      overflow-y: auto;
      width: 100%;
      z-index: 9999;
      transition: all 0.5s ease-in-out;
      &::-webkit-scrollbar {
        width: 7px;
      }
      &::-webkit-scrollbar-track {
        background: #eee; 
      }
      &::-webkit-scrollbar-thumb {
        background: #bbb; 
      }
      &::-webkit-scrollbar-thumb:hover {
        background: #aaa; 
      }
      
      &.active{
      	bottom: 0;
      }
      
      ul{
      	padding:0;
        margin: 0;
        list-style-type: none;
        
        li{
        	position: relative;
        	a{
              display: block;
              padding: 12px 15px 12px 20px;
              color: rgba(255,255,255, 0.8);
              position: relative;
              transition: all 0.4s ease-in-out;
              font-size: 16px;
              
              display: -webkit-box!important;
              display: -ms-flexbox!important;
              display: flex!important;
              
              -webkit-box-align: center!important;
              -ms-flex-align: center!important;
              align-items: center!important;
              
              span{
              	padding-left: 10px;
              }
              
              &:before {
                  content: '';
                  position: absolute;
                  top: 0px;
                  left: 0;
                  width: 4px;
                  bottom: 0px;
                  transition: all 0.4s ease-in-out;
              }
              
          }
          &:hover, &.active{
          		>.submenu-icon{
                background: rgba(0,0,0,.3);
              }
              >a{
                  background-color: rgba(0,0,0,0.4);
                 	&:before {
                   	background: @brand-primary;
                  }
              }
          }
        }
      }
      .sub-menu li:hover a{
          color: #ffffff;
      }
      .submenu-icon{
          position: absolute;
          right: 0;
          top: 0;
          padding: 14px 10px;
          font-size: 22px;
          transition: all 0.5s ease-in-out;
           @media only screen and (max-width: 768px) {
           		padding: 13px 10px;
           }
      }
      .sub-menu{
          display:none;
          background: #747474;

          li a{
              padding-left: 20px;
          }
      }
      @media only screen and (min-width: 992px) {
      	width: 16.6666666667%;
        bottom: 0;
      }
    }
  }
[/css.less]
[css.less]
    .notes-card{
      .notes-status {
        padding-top: 2px;
        padding-bottom: 2px;
      }	
      .title-ellipsis {
          width: 235px;
      }
    }
    
    .status-bar{
    	overflow: auto;
      white-space: nowrap;
      ul{
        list-style-type:none;
        margin-bottom:0;
        padding:0;
        li{
          display:inline-block;
          margin-right:15px;
          padding-bottom: 15px;
          padding-top: 15px;        
          &:hover{
               border-bottom: 3px solid #da002b;
          }
          a{
            color:#000;
          }
         	@media (max-width:767px){
          	padding-bottom: 10px;
            padding-top: 10px;
         	}
        }
      }
     	.active-status{
      	border-bottom: 3px solid #da002b;
    	}
       @media (min-width:768px) and (max-width:1024px){
            width: 80%;
      }
    }
[/css.less]
[css.less]
  	.invisible{
    	visibility: hidden;
    }
    .active-toolbar svg {
      fill: rgba(17, 166, 176,1) !important;
    }
    .notes-status{
      padding-top: 2px;
      padding-bottom: 2px;
     }

     .loader-save {
      border: 3px solid #f3f3f3;
      -webkit-animation: spin 3s linear infinite;
      animation: spin 3s linear infinite;
      border-top: 3px solid #555;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      position: absolute;
      right: -5px;
      top: -8px;
    }
    @-webkit-keyframes spin {
    0% { -webkit-transform: rotate(0deg); }
    100% { -webkit-transform: rotate(360deg); }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    

    .document-editor {
        border: 1px solid var(--ck-color-base-border);
        border-radius: var(--ck-border-radius);

        /* Set vertical boundaries for the document editor. */

        /* This element is a flex container for easier rendering. */
        display: flex;
        flex-flow: column nowrap;
    }


    .document-editor__toolbar {
        /* Make sure the toolbar container is always above the editable. */
        z-index: 1;

        /* Create the illusion of the toolbar floating over the editable. */
        box-shadow: 0 0 5px hsla( 0,0%,0%,.2 );

        /* Use the CKEditor CSS variables to keep the UI consistent. */
        border-bottom: 1px solid var(--ck-color-toolbar-border);
    }

    /* Adjust the look of the toolbar inside the container. */
    .document-editor__toolbar .ck-toolbar {
        border: 0;
        border-radius: 0;
    }

    /* Make the editable container look like the inside of a native word processor application. */
    .document-editor__editable-container {
        background: var(--ck-color-base-foreground);
        i{
        	font-style: italic;
        }
    }

    .document-editor__editable-container .ck-editor__editable {
        border: 1px hsl( 0,0%,82.7% ) solid;
        border-radius: var(--ck-border-radius);
        background: white;
        box-shadow: 0 0 5px hsla( 0,0%,0%,.1 );
        margin: 15px auto;
        min-height: 250px;
        max-width: 768px;
    }

    /* Set the default font for the "page" of the content. */
    .document-editor .ck-content,
    .document-editor .ck-heading-dropdown .ck-list .ck-button__label {
        font: 16px/1.6 "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    
    /* Scale down all heading previews because they are way too big to be presented in the UI.
    Preserve the relative scale, though. */
    .document-editor .ck-heading-dropdown .ck-list .ck-button:not(.ck-heading_paragraph) .ck-button__label {
        transform: scale(0.8);
        transform-origin: left;
    }

    /* Set the styles for "Heading 1". */
    .document-editor .ck-content h2,
    .document-editor .ck-heading-dropdown .ck-heading_heading1 .ck-button__label {
        font-size: 2.18em;
        font-weight: normal;
    }

    .document-editor .ck-content h2 {
        line-height: 1.37em;
        padding-top: .342em;
        margin-bottom: .142em;
    }

    /* Set the styles for "Heading 2". */
    .document-editor .ck-content h3,
    .document-editor .ck-heading-dropdown .ck-heading_heading2 .ck-button__label {
        font-size: 1.75em;
        font-weight: normal;
        color: hsl( 203, 100%, 50% );
    }

    .document-editor .ck-heading-dropdown .ck-heading_heading2.ck-on .ck-button__label {
        color: var(--ck-color-list-button-on-text);
    }

    /* Set the styles for "Heading 2". */
    .document-editor .ck-content h3 {
        line-height: 1.86em;
        padding-top: .171em;
        margin-bottom: .357em;
    }

    /* Set the styles for "Heading 3". */
    .document-editor .ck-content h4,
    .document-editor .ck-heading-dropdown .ck-heading_heading3 .ck-button__label {
        font-size: 1.31em;
        font-weight: bold;
    }

    .document-editor .ck-content h4 {
        line-height: 1.24em;
        padding-top: .286em;
        margin-bottom: .952em;
    }

    /* Set the styles for "Paragraph". */
    .document-editor .ck-content p {
        font-size: 1em;
        line-height: 1.63em;
        padding-top: .5em;
        margin-bottom: 1.13em;
    }

    /* Make the block quoted text serif with some additional spacing. */
    .document-editor .ck-content blockquote {
        font-family: Georgia, serif;
        margin-left: calc( 2 * var(--ck-spacing-large) );
        margin-right: calc( 2 * var(--ck-spacing-large) );
    }
    
    
    .document-editor__toolbar{
      position: -webkit-sticky;
      position: sticky;
      top: 70px;
      z-index: 1020;
    }
  [/css.less]
[css.less]
  
    .breadcrumb{
    	overflow: hidden;
    	>* {
        flex-shrink: 0;
			}
    }
  	.reference-links, .attachment-links{
    	list-style-type: none;
      padding:0;
      li{
      	margin-bottom: 10px;
      }
      span{
      	width: 25px;
        height: 25px;
      }
    }
    .add-links{
    	&:focus{
      	outline: none;
      }
    }
    .form-group label{
    		color: inherit;
    }
    .swiper-slide{
    		height: auto;
    }
    .timeline-bullet{
    		position: relative;
        padding-top: 10px;
        padding-bottom: 20px;
        &:after {
          content: '';
          width: 15px;
          height: 15px;
          border-radius: 50%;
          background: @gray-light;
          position: absolute;
          bottom: -8px;
          left: 50%;
    			transform: translateX(-50%);
      }
  }
  .activity-info{
  		position: relative;
      border: 1px solid @gray-lighter;
      &:before {
          content: '';
          width: 0;
          height: 0;
          border-left: 10px solid transparent;
          border-right: 10px solid transparent;
          border-bottom: 10px solid @gray-lighter;
          position: absolute;
          top: -11px;
          left: 50%;
    			transform: translateX(-50%);
      }
  }
  .swiper-button-next, .swiper-button-prev {
      background-image: none;
      top: 68px;
      background: #fff;
      height: 40px;
    	width: 40px;
      >div{
      	border-radius: 50%;
        padding: 10px;
        height: 40px;
        width: 40px;
      }
      &.swiper-button-disabled{
      	opacity: 1;
        >div{
        	opacity: 0.3;
        }
      }
  }
  .swiper-button-next{
  	right: 0;
  }
  .swiper-button-prev{
  	left: 0;
  }
  .mobile-section{
  	.active{
    		background: @gray;
        color: #ffffff;
    }
  }
  .story, .tasks{
  	@media (min-width:768px){
    		display: block !important;
    }
  }
  .task-body{
    .story{
      @media (max-width:767px){
          display: none;
      }
    }
  }
  .story-body{
    .tasks{
      @media (max-width:767px){
          display: none;
      }
    }
  }
  
  /* width */
  .status-bar::-webkit-scrollbar {
    height: 8px;
  }

  /* Track */
  .status-bar::-webkit-scrollbar-track {
    background: #f1f1f1; 
    border-radius: 10px;
  }

  /* Handle */
  .status-bar::-webkit-scrollbar-thumb {
    background: rgba(0,0,0,0.15); 
    border-radius: 10px;
  }

  /* Handle on hover */
  .status-bar::-webkit-scrollbar-thumb:hover {
    background: rgba(0,0,0,0.3); 
  }
  
  .flex-no-shrink{
    flex-shrink: 0;
  }
  .tag{
  	margin-right: 5px;
  }
	.story-task-card .img-wrapper {
    flex-shrink: 0;
	}
  	.user-icon{
    	height:45px;
      width:45px;
    }
    .title-ellipsis{
    	width:235px;
    }
    .user-story-label label{
      font-weight: 400;
    	color: @gray;
      margin-bottom: 0;
    }
    .task-status{
      padding-top: 3px;
    	padding-bottom: 3px;
    }
    .br-red{
    	border-color:#da002b;
    }
    .user-story-label span {
        margin-right: 5px;
    }
    .tags span {
        display: inline-block;
        margin-bottom: 5px;
    }
    @media (max-width:767px){
        .title-ellipsis {
            width: 210px;
        }
        .tag-name{
        	padding-left:10px;
          padding-right:10px;
        }

    }
     @media (max-width:320px){
        .title-ellipsis {
            width: 182px;
        }
    }
  [/css.less]
  
[css.less]
body{
    font-size: 18px;
    line-height: 1.65;
}

.line-height-1 {
    line-height: 1.5
}

@media only screen and (max-width: 768px) {
    .line-height-1 {
        line-height:1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-1 {
        line-height: 1.5
    }
}

.line-height-2 {
    line-height: 1.5
}

@media only screen and (max-width: 768px) {
    .line-height-2 {
        line-height:1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-2 {
        line-height: 1.5
    }
}

.line-height-3 {
    line-height: 1.6
}

@media only screen and (max-width: 768px) {
    .line-height-3 {
        line-height:1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-3 {
        line-height: 1.6
    }
}

.line-height-4 {
    line-height: 1.65
}

@media only screen and (max-width: 768px) {
    .line-height-4 {
        line-height:1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-4 {
        line-height: 1.75
    }
}

.line-height-5 {
    line-height: 1.6
}

@media only screen and (max-width: 768px) {
    .line-height-5 {
        line-height:1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-5 {
        line-height: 1.6
    }
}

.line-height-6 {
    line-height: 1.6
}

@media only screen and (max-width: 768px) {
    .line-height-6 {
        line-height:1.6
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-6 {
        line-height: 1.5
    }
}

.line-height-7 {
    line-height: 1.3
}

@media only screen and (max-width: 768px) {
    .line-height-7 {
        line-height:1.3
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-7 {
        line-height: 1.3
    }
}

.line-height-8 {
    line-height: 1.3
}

@media only screen and (max-width: 768px) {
    .line-height-8 {
        line-height:1.3
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-8 {
        line-height: 1.3
    }
}

.line-height-9 {
    line-height: 1.25
}

@media only screen and (max-width: 768px) {
    .line-height-9 {
        line-height:1.25
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-9 {
        line-height: 1.25
    }
}

.line-height-10 {
    line-height: 1.2
}

@media only screen and (max-width: 768px) {
    .line-height-10 {
        line-height:1.2
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .line-height-10 {
        line-height: 1.2
    }
}

.font-size-smallest {
    font-size: 13px;
    line-height: 1.5
}

@media only screen and (max-width: 768px) {
    .font-size-smallest {
        font-size:13px;
        line-height: 1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-smallest {
        font-size: 13px;
        line-height: 1.5
    }
}

.font-size-smaller {
    font-size: 14px;
    line-height: 1.5
}

@media only screen and (max-width: 768px) {
    .font-size-smaller {
        font-size:14px;
        line-height: 1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-smaller {
        font-size: 14px;
        line-height: 1.5
    }
}

.font-size-small {
    font-size: 15px;
    line-height: 1.6;
}

@media only screen and (max-width: 768px) {
    .font-size-small {
        font-size:14px;
        line-height: 1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-small {
        font-size: 14px;
        line-height: 1.6
    }
}

.font-size-base {
    font-size: 18px;
    line-height: 1.6
}

@media only screen and (max-width: 768px) {
    .font-size-base {
        font-size:14px;
        line-height: 1.5
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-base {
        font-size: 14px;
        line-height: 1.6
    }
}

.font-size-big {
    font-size: 17px;
    line-height: 1.6;
}

@media only screen and (max-width: 768px) {
    .font-size-big {
        font-size:15px;
        line-height: 1.5;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-big {
        font-size: 15px;
        line-height: 1.6;
    }
}

.font-size-large {
    font-size: 20px;
    line-height: 1.6;
}

@media only screen and (max-width: 768px) {
    .font-size-large {
        font-size:18px;
        line-height: 1.6;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-large {
        font-size: 18px;
        line-height: 1.5;
    }
}

.font-size-larger {
    font-size: 24px;
    line-height: 1.3;
}

@media only screen and (max-width: 768px) {
    .font-size-larger {
        font-size:21px;
        line-height: 1.3;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-larger {
        font-size: 21px;
        line-height: 1.3;
    }
}

.font-size-largest {
    font-size: 27px;
    line-height: 1.3;
}

@media only screen and (max-width: 768px) {
    .font-size-largest {
        font-size:24px;
        line-height: 1.3;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-largest {
        font-size: 24px;
        line-height: 1.3;
    }
}

.font-size-huge {
    font-size: 30px;
    line-height: 1.25;
}

@media only screen and (max-width: 768px) {
    .font-size-huge {
        font-size:26px;
        line-height: 1.25;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-huge {
        font-size: 26px;
        line-height: 1.25;
    }
}

.font-size-jumbo {
    font-size: 36px;
    line-height: 1.2;
}

@media only screen and (max-width: 768px) {
    .font-size-jumbo {
        font-size:30px;
        line-height: 1.2;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-jumbo {
        font-size: 30px;
        line-height: 1.2;
    }
}

.font-size-giant {
    font-size: 44px;
    line-height: 1.2;
}

@media only screen and (max-width: 768px) {
    .font-size-giant {
        font-size:34px;
        line-height: 1.2;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    .font-size-giant {
        font-size: 34px;
        line-height: 1.1
    }
}

h1, .h1 {
    font-size: 30px;
    font-weight: 700
}

@media only screen and (max-width:768px) {
    h1, .h1 {
        font-size: 26px;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    h1, .h1 {
        font-size: 26px;
    }
}

h2, .h2 {
    font-size: 27px;
    font-weight: 300;
}

@media only screen and (max-width: 768px) {
    h2, .h2 {
        font-size:24px;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    h2, .h2 {
        font-size: 24px;
    }
}

h3, .h3 {
    font-size: 24px;
    font-weight: 500;
}

@media only screen and (max-width: 768px) {
    h3, .h3 {
        font-size:21px;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    h3, .h3 {
        font-size: 21px;
    }
}

h4, .h4 {
    font-size: 20px;
    font-weight: 500;
}

@media only screen and (max-width: 768px) {
    h4, .h4 {
        font-size:18px;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    h4, .h4 {
        font-size: 18px;
    }
}

h5, .h5 {
    font-size: 17px;
    font-weight: 700;
}

@media only screen and (max-width: 768px) {
    h5, .h5 {
        font-size:15px;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    h5, .h5 {
        font-size: 15px;
    }
}

h6, .h6 {
    font-size: 15px;
    font-weight: 700;
}

@media only screen and (max-width: 768px) {
    h6, .h6 {
        font-size:14px;
    }
}

@media only screen and (min-width:769px) and (max-width:992px) {
    h6, .h6 {
        font-size: 14px;
    }
}

h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
    margin-bottom: .5em;
}

h1 {
    line-height: 1.25;
}

h2 {
    line-height: 1.3;
}

h3 {
    line-height: 1.3;
}

h4 {
    line-height: 1.6;
}

h5 {
    line-height: 1.6;
}

h6 {
    line-height: 1.6;
}

i.font-size-smallest {
    font-size: 13px;
    line-height: 1.5;
}

i.font-size-smaller {
    font-size: 14px;
    line-height: 1.5;
}

i.font-size-small {
    font-size: 15px;
    line-height: 1.6;
}

i.font-size-base {
    font-size: 18px;
    line-height: 1.65;
}

i.font-size-big {
    font-size: 17px;
    line-height: 1.6;
}

i.font-size-large {
    font-size: 20px;
    line-height: 1.6;
}

i.font-size-larger {
    font-size: 24px;
    line-height: 1.3;
}

i.font-size-largest {
    font-size: 27px;
    line-height: 1.3;
}

i.font-size-huge {
    font-size: 30px;
    line-height: 1.25;
}

i.font-size-jumbo {
    font-size: 36px;
    line-height: 1.2;
}

i.font-size-giant {
    font-size: 44px;
    line-height: 1.2;
}

.form-group .form-control {
    padding: .9rem;
    font-size: 16px;
}
.btn {
    display: inline-block;
    font-weight: 700;
    font-size: 16px;
    text-align: center;
    white-space: normal;
    border: 0;
    padding: 10px 40px 10px 40px;
    min-height: 29px;
    border-radius: 3px;
    transition: 300ms ease-in-out;
    transform: translate3d(0,0,0);
}
.btn:hover, .btn:focus {
    text-decoration: none;
}


[/css.less] 
[/css.minify]  ]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860510</wp:post_id>
		<wp:post_date><![CDATA[2019-11-01 01:38:00]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-01 01:38:00]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[common-css]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														</item>
					<item>
		<title>attachments</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860511</link>
		<pubDate>Sun, 03 Nov 2019 12:53:50 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858614</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[template.set token="{token}" /]
  <form action="" method="post" class="attachments-[template.get token /]" enctype="multipart/form-data">  
    <div class="row">
      <div class="col-12">
        [form_control.multi.file_upload name="{{aw2.get module.type}}_attachments" is_required="{{aw2.get module.is_required}}" /]
      </div>
    </div>
    <button type="submit" value="uploads"
    				class="br-none brand-primary brand-white-bg pointer text-uppercase">Upload Files</button> 
    <div class="attach-stories-res"></div>        
  </form>

  [session_ticket.create nonce=yes set=module.ticket_id /]
  [session_ticket.set_activity {module.ticket_id} collection='{module.collection}' module='{module.slug}.save_attachments' /]

  <script type=spa/axn
          axn='form_upload.ajax'
          bind='submit'
          bind_selector="form.attachments-[template.get token /]" 
          disable_selector=".submit"
          task_id="[module.get task_id /]"
          story_id="[module.get story_id /]"
          action_type="[module.get type /]"
          route_ajax='t/[module.get ticket_id /]'></script>
[/templates.add]


[templates.add save_attachments]
  	//** Set Id 
			[aw2.get request dump="true" /]
  		[template.set story_feedback_id='fb{unique_number}' /]
    **//

    [if.equal lhs="{request.action_type}" rhs="story"]
    	[template.set attachment_count_key="{request.story_attachments_count}" /]
    	[template.set type="story" /]
      [template.set query_str]
    		SELECT meta_value from plot where object_id="[aw2.get request.story_id /]" AND
        coll_type="user_stories " AND
        meta_key="[request.get action_type /]_attachments" 
      [/template.set]
    [/if.equal]
    [if.equal lhs="{request.action_type}" rhs="task"]
    	[template.set attachment_count_key="{request.task_attachments1.count}" /]
    	[template.set type="task" /]
      [template.set query_str]
    		SELECT meta_value from plot where 
        object_id="[aw2.get request.story_id /]" AND 
        coll_id="[aw2.get request.task_id /]" and 
        coll_type="task"
        AND meta_key="[request.get action_type /]_attachments"
      [/template.set]
    [/if.equal]
		
		[query.get_var set=template.old_attachments]
    	[template.get query_str /]
    [/query.get_var]
    [template.get old_attachments.json_decode set="template.old_attachments" /]
    
    [if.equal lhs="{template.type}" rhs="task"]
    	[template.set attachfolder="{request.task_id}" /]
      [template.set filename="task" /]
    [/if.equal]
    [if.equal lhs="{template.type}" rhs="story"]
    	[template.set attachfolder="{request.story_id}" /]
    	[template.set filename="story" /]	
    [/if.equal]

    //** Multiple file upload**//
    	[aw2.upload upload_multiple_to_path
                   upload_element_id="{template.type}_attachments"
                   dir_name="plot-docs/{template.attachfolder}"
                   overwrite_file='no'
                   allowed_file_types="gif,png,jpg,jpeg,pdf,doc,docx,txt,xls,xlsx,xlsm,csv,zip,svg,tar,tar.gz,gz,ppt,psd,ai,rar,7z,ttf,xd,cdr"
                   set=template.file_res /]
                   
    [if.empty  template.file_res.0.error]           
      [if.greater_than_zero template.file_res.count]
        [loop.@att template.file_res]
          [template.set_array attachments.new id="{@att.item.filename}" url="{@att.item.url}" /] 
        [/loop.@att]
      [/if.greater_than_zero]
    [/if.empty]   

			[php.array_merge p1="{template.old_attachments}" p2="{template.attachments}" 
      								 set="template.attachments" not_empty="{template.old_attachments}" /]
		
    //** Activity log note set **//
   

    //** set meta array **//
    [if.equal lhs="{template.type}" rhs="task"]
    		[template.set meta_arr.task_attachments="{template.attachments.json_encode}" not_empty="{template.attachments}" /]
  			[plot.task.update metas='{template.meta_arr}' object_id="{request.story_id}" coll_id="{request.task_id}" set="template.res" /]
				
        [template.set act_metas.activity_note="New attachment added to task <a href='{app.path}/task/{template.task_id}'>{template.task_id}</a>." /]
        [plot.activity.log object_id="{template.task_id}"  metas="{template.act_metas}" coll_type="task_attachment" set="template.activity" /] //** Activity log **//
        
    [/if.equal]
    [if.equal lhs="{template.type}" rhs="story"]
    		[template.set meta_arr.story_attachments="{template.attachments.json_encode}" not_empty="{template.attachments}" /]
        [plot.user_story.update metas='{template.meta_arr}' object_id="{request.story_id}" set="template.res" /]
         [template.set act_metas.activity_note="New attachment added to user story <a href='{app.path}/user-story/{template.story_id}'>{template.story_id}</a>." /]
				[plot.activity.log object_id="{template.story_id}"  metas="{template.act_metas}" coll_type="story_attachment" set="template.activity" /]  //** Activity log **//
    [/if.equal]

   //** set response message **//
   [if.empty template.res]
   	[template.set alert_class="alert-success" /]
    [template.set alert_msg="<strong>Success!</strong> Files uploaded successfully!" /]
   [/if.empty]
   [if.not_empty template.res]
    [template.set alert_class="alert-danger" /]
    [template.set alert_msg="<strong>Error!</strong> Something went wrong. Try again." /]
   [/if.not_empty]
	
  
  	//** Update response  **//
  	<template axn=selector.update selector='div.attach-stories-res' get='me.html'>
    	[form_control.alert alert_class="{template.alert_class}" alert_msg="{template.alert_msg}" /] 
  	</template>
   [if.equal lhs="{template.type}" rhs="task"]
		<script type="spa/axn" axn=page.update route_ajax='task/[request.get task_id /]'></script> 
   [/if.equal] 
[/templates.add]
]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860511</wp:post_id>
		<wp:post_date><![CDATA[2019-11-03 12:53:50]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-03 12:53:50]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[attachments]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>references</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=860512</link>
		<pubDate>Sun, 03 Nov 2019 12:58:37 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">http://nxt.wpoets.com/?post_type=m_plot&#038;p=858617</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
	[template.set token="{token}" /]
  <form action="" class="references-[template.get token /]">  
    <div class="row">
      <div class="col-12">
        [form_control.multi.label_url name="{{aw2.get module.type}}_reference" is_required="{{aw2.get module.is_required}}" /]
      </div>
    </div>
    <button type="submit" value="add" class="br-none brand-primary brand-white-bg pointer text-uppercase add-links">Add Links</button> 
    <div class="add-user-stories-res"></div>
  </form>

  [session_ticket.create nonce=yes set=module.ticket_id /]
  [session_ticket.set_activity {module.ticket_id} collection='{module.collection}' module='{module.slug}.save_references' /]

  <script type=spa/axn
          axn='form_upload.ajax'
          bind='submit'
          bind_selector="form.references-[template.get token /]" 
          disable_selector=".submit"
        	task_id="[module.get task_id /]"
          story_id="[module.get story_id /]"
          action_type="[module.get type /]"
          route_ajax='t/[module.get ticket_id /]'></script>
          
[/templates.add]
[templates.add save_references]

  	[if.equal lhs="{request.action_type}" rhs="story"]
    	[template.set type="story" /]
      [template.set query_str]
    		SELECT meta_value from plot where 
        object_id="[aw2.get request.story_id /]" AND
        coll_type="user_stories " AND
        meta_key="[request.get action_type /]_reference_label_url" 
      [/template.set]
    [/if.equal]
    [if.equal lhs="{request.action_type}" rhs="task"]
    	[template.set type="task" /]
      [template.set query_str]
    		SELECT meta_value from plot where 
        object_id="[aw2.get request.story_id /]" AND 
        coll_id="[aw2.get request.task_id /]" and 
        coll_type="task"
        AND meta_key="[request.get action_type /]_reference_label_url"
      [/template.set]
    [/if.equal]
    
    [query.get_var set=template.old_references]
			[template.get query_str /]
    [/query.get_var]
    [template.set old_references="{template.old_references.json_decode}" /]
		
    
    //** multiple reference lable and url **//
    [if.not_empty request.{template.type}_reference_label]
      [loop.@each_ref request.{template.type}_reference_label]
        [aw2.get request.{template.type}_reference_url.{@each_ref.key} set="template.url" /]
        [template.set_array reference_arr.new label="{{aw2.get @each_ref.item m.stripslashes_deep=yes}}" url="{template.url}" /] 
      [/loop.@each_ref]
    [/if.not_empty]
    

    [php.array_merge p1="{template.old_references}" p2="{template.reference_arr}" set="template.reference_arr" not_empty="{template.old_references}" /]
	
    
    //** set meta array **//
    [if.equal lhs="{template.type}" rhs="task"]    
    	[template.set meta_arr.task_reference_label_url="{template.reference_arr.json_encode}" not_empty="{template.reference_arr}" /]
      [plot.task.update metas='{template.meta_arr}' object_id="{request.story_id}" coll_id="{request.task_id}" set="template.res" /]      
      
      [template.set metas_act.activity_note="New reference url added to task <a href='{app.path}/task/{request.task_id}'>{request.task_id}</a> ." /]
      [plot.activity.log object_id="{request.task_id}"  metas="{template.metas_act}" coll_type="task_reference" set="template.activity" /] //** Activity log **//
    [/if.equal]
    
    [if.equal lhs="{template.type}" rhs="story"]
    	[template.set meta_arr.story_reference_label_url="{template.reference_arr.json_encode}" not_empty="{template.reference_arr}" /]
  		[plot.user_story.update metas='{template.meta_arr}' object_id="{request.story_id}" set="template.res" /]
      
      [template.set metas_act.activity_note="New reference url added to user story <a href='{app.path}/user-story/{request.story_id}'>{request.story_id}</a> ." /]
      [plot.activity.log object_id="{request.story_id}"  metas="{template.metas_act}"  coll_type="story_reference"  set="template.activity" /] //** Activity log **//
    [/if.equal]
		
   //** set response message	**//
     [if.empty template.res]
      [template.set alert_class="alert-success" /]
      [template.set alert_msg="<strong>Success!</strong> Reference links added." /]
     [/if.empty]
     [if.not_empty template.res]
      [template.set alert_class="alert-danger" /]
      [template.set alert_msg="<strong>Error!</strong> Something went wrong. Try again." /]
     [/if.not_empty]

  	
  	//** Update response **//
  	<template axn=selector.update selector='div.add-user-stories-res' get='me.html'>
    	[form_control.alert alert_class="{template.alert_class}" alert_msg="{template.alert_msg}" /] 
  	</template>
    
    [if.equal lhs="{template.type}" rhs="task"]
      <script type="spa/axn" axn=page.update route_ajax='task/[request.get task_id /]'></script> 
   	[/if.equal] 
    
     [if.equal lhs="{template.type}" rhs="story"]
      <script type="spa/axn" axn=page.update route_ajax='user-story/[request.get story_id /]'></script> 
   	[/if.equal] 
    
[/templates.add]
]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>860512</wp:post_id>
		<wp:post_date><![CDATA[2019-11-03 12:58:37]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-11-03 12:58:37]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[references]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>reports</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=861108</link>
		<pubDate>Fri, 06 Dec 2019 02:38:43 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://wpoets.com/?post_type=m_plot&#038;p=861108</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
[env.set app.page_title="Overview Report - Plot" /]
  <div class="body-content-wrapper">
  	<div class="justify-content-between">
  		<h1 class="font-regular text-center font-size-largest mar-b-4">Overview</h1>
    </div> 
 		   <section role="charts" class="">
    <div class="row">
    		<div class="col-md-6">
          <div class="mar-b-6" >
                <!-- preparing a DOM with width and height for ECharts -->
         <div id="task-chart-summary" style="width:100%; height:400px;"></div>
           [plot.task.status_count o.set='template.task_statuses' /]
          
           [env.set_array module.task_chart.option title.text='Status of Tasks' /]
           [env.set_array module.task_chart.option title.subtext='Count' /]
           [env.set_array module.task_chart.option title.x='center' /]
           
           [env.set_array module.task_chart.option tooltip.trigger='item' /]
           [env.set module.task_chart.option tooltip.formatter]{a} <br/>{b}: {c} ({d}%)[/env.set]
      
      		 [loop.@inner template.task_statuses]
           
             [env.set_array module.task_data.new 
                        value='{@inner.item}' name='{@inner.key}' cond="{@inner.key}" not_equal="total"/]
           [/loop.@inner]
      		 
            [env.set module.center.new]50%[/env.set]  
     				[env.set module.center.new]60%[/env.set]  
           
      		 [env.set_array module.task_chart.option.series.new name='Task Status' type='pie' radius='55%' center='{module.center}'  data='{module.task_data}'/]
          
          <script type="spa/axn" axn='core.run_script' cdn_js_files='echarts/4.4.0/echarts.min.js'>
            var chart_obj = echarts.init(document.getElementById('task-chart-summary'));
            var options= $.parseJSON('[env.get module.task_chart.option json_encode=true /]');
            chart_obj.setOption(options);
          </script>    
         </div>
         </div>
         <div class="col-md-6">
          <div class="mar-b-6" >
                <!-- preparing a DOM with width and height for ECharts -->
         <div id="story-chart-summary" style="width:100%; height:400px;"></div>
          [plot.user_story.status_count o.set='template.user_story_statuses' /]
           [env.set_array module.story_chart.option title.text='Status of User Stories' /]
           [env.set_array module.story_chart.option title.subtext='Count' /]
           [env.set_array module.story_chart.option title.x='center' /]
           
           [env.set_array module.story_chart.option tooltip.trigger='item' /]
           [env.set module.story_chart.option tooltip.formatter]{a} <br/>{b}: {c} ({d}%)[/env.set]
      
      		 [loop.@inner template.user_story_statuses]
           
             [env.set_array module.story_data.new 
                        value='{@inner.item}' name='{@inner.key}' cond="{@inner.key}" not_equal="total"/]
           [/loop.@inner]
      		 
            [env.set module.center.new]50%[/env.set]  
     				[env.set module.center.new]60%[/env.set]  
           
      		 [env.set_array module.story_chart.option.series.new name='Task Status' type='pie' radius='55%' center='{module.center}'  data='{module.story_data}'/]
           <script type="spa/axn" axn='core.run_script' cdn_js_files='echarts/4.4.0/echarts.min.js'>
              var chart_obj = echarts.init(document.getElementById('story-chart-summary'));
              var options= $.parseJSON('[env.get module.story_chart.option json_encode=true /]');
              chart_obj.setOption(options);
            </script>        
         </div>
         </div>
    </div>
    </section>
    
    <section role="tasks" class="tasks">
    	<h3 class="font-bold"></h3>
      	[module.set_array args]
          [after_submit raw]
            [query]
              [atts debug_dataset=yes    ignore=true /]
                [pagesize]100[/pagesize]
                [with]
                  [sql]
                  select coll_id as data_id, meta_value as user_email from plot where coll_type='task' and meta_key ='task_assigned_to'
                  [/sql]
                  [add_field new]
                    [sql raw]          
                    select [module.previous_query_no /].*, meta_value as status from [module.previous_query_no /] JOIN plot ON [module.previous_query_no /].data_id=plot.coll_id where coll_type='task' and meta_key ='task_status'
                   [/sql]
                  [/add_field]
                  [add_field new]
                    [sql raw]          
                    select [module.previous_query_no /].*, display_name from [module.previous_query_no /] JOIN wp_users ON [module.previous_query_no /].user_email=wp_users.user_email
                   [/sql]
                  [/add_field]
                  [add_field new]
                    [sql raw]          
                    select [module.previous_query_no /].display_name,  count(1) AS total,
                    sum(case when status= 'signed-off' then 1 else 0 end) AS `signed-off`,
                    sum(case when status= 'new' then 1 else 0 end) AS new_status,
                    sum(case when status= 'work-in-progress' then 1 else 0 end) AS `work-in-progress`,
                    sum(case when status= 'feedback' then 1 else 0 end) AS feedback,
                    sum(case when status= 'hold' then 1 else 0 end) AS hold 
                    from [module.previous_query_no /] group by [module.previous_query_no /].user_email
                   [/sql]
                  [/add_field]  
                [/with]
            [/query]
            [table]
                  [column new label='User' meta_key='display_name' /]

                  [column new label='Total Tasks' meta_key='total'/]
                  [column new label='New' meta_key='new_status'/]
                  [column new label='Work In Progress' meta_key='work-in-progress'/]
                  [column new label='Feedback' meta_key='feedback'/]
                  [column new label='Signed Off' meta_key='signed-off'/]
                  [column new label='Hold' meta_key='hold'/]

            [/table]
            [/after_submit]
            [handlers]
            	[summarytable label='Refresh Report'][/summarytable]
            [/handlers]
      [/module.set_array]
      [plot.search-filter.main args="{module.args}" title='Status of Tasks Assigned to Users' auto_handler="summarytable" /]
    </section>
  </div>

[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>861108</wp:post_id>
		<wp:post_date><![CDATA[2019-12-06 02:38:43]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-12-06 02:38:43]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[reports]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>task-worked-upon</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=861110</link>
		<pubDate>Fri, 06 Dec 2019 02:39:10 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://wpoets.com/?post_type=m_plot&#038;p=861110</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
[module.set_array tasks_timeline]
  [after_submit raw]
    [query]              
        [pagesize]100[/pagesize]
        [with]
          [sql]
            SELECT coll_id as data_id, object_id  FROM `plot` where coll_type = 'task' and meta_key='task_status' 
             [if.not_whitespace form_data.to_date]
                       and date(stamp) <= date('[env.get form_data.to_date /]')	
             [/if.not_whitespace] 
				     [if.not_whitespace form_data.from_date]
                       and date(stamp) >= date('[env.get form_data.from_date /]')	
             [/if.not_whitespace] 
          [/sql] 
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , STR_TO_DATE(meta_value,'%d-%m-%Y') AS task_due_date   
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].data_id = plot.coll_id and coll_type='task' AND meta_key='task_due_date'
              [/sql]
          [/add_field] 
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , stamp AS signed_off_date   
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].data_id = plot.coll_id and coll_type='task' AND meta_key='task_status' AND meta_value='signed-off'
              [/sql]
          [/add_field]
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , meta_value as story_title 
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].object_id = plot.object_id and coll_type="user_stories" 
                 AND meta_key="story_title"
              [/sql]
           [/add_field]       
        [/with]   
        [transform ref_id=data_id /]
          [meta new]
           [table]plot[/table]
						[meta_keys]story_id, task_id, task_title, task_due_date, task_status,task_created_datetime,task_assigned_to[/meta_keys] 
           [id_field]coll_id[/id_field]
          [/meta]
          [meta new]
           [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'story_title' AS meta_key,story_title AS meta_value FROM bounded_data
           [/sql]
          [/meta] 
          [meta new]
            [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'signed_off_date' AS meta_key,signed_off_date AS meta_value FROM bounded_data
            [/sql]
          [/meta] 
        [order]
             task_due_date DESC
        [/order]
        [atts query_count=yes /]
    [/query]
    [table]     
            [column new label='Task']
              [calc raw] 
              	[if.equal lhs='{form_data.submit_handler}' rhs='datatable']
                <a target="_blank" href='[app.path /]/task/[aw2.get row.task_id /]' rel="noopener noreferrer" class="brand-primary">
                  [aw2.get row.task_title /]
                </a>
                 [/if.equal]
                [if.else]
                		 [aw2.get row.task_title /]
                [/if.else]
               [/calc]
            [/column]    		  
            [column new label='User story' ]
              [calc raw]
              	[if.equal lhs='{form_data.submit_handler}' rhs='datatable']
                 <a target="_blank" href='[app.path /]/user-story/[aw2.get row.story_id /]' rel="noopener noreferrer" class="brand-primary">
                  [aw2.get row.story_title /]
                </a>
                [/if.equal]
                [if.else]
                		[aw2.get row.story_title /]
                [/if.else]
                
              [/calc]
            [/column]            
						[column new label='Assigned To']
                [calc raw]
                	 [query.get_user_by field='email' value='{row.task_assigned_to}' o.set='template.user' /]
                   [template.get user.display_name /]
                [/calc]
            [/column]  
            [column new label='Created On']
                [calc raw]
                   [aw2.get row.task_created_datetime m.date_format='d-m-Y' /]
                [/calc]
            [/column]   
            [column new label='Due Date']
                [calc raw]
                   [aw2.get row.task_due_date m.date_format='d-m-Y' /]
                [/calc]
            [/column]            
            [column new label='Status']
               [calc raw]
                   [aw2.get row.task_status /]
                [/calc]
            [/column]                      
            [column new label='Signed-Off Date']
                [calc raw]
                [if.not_empty  row.signed_off_date]
                   [aw2.get row.signed_off_date m.date_format='d-m-Y' /]
                 [/if.not_empty]  
                [/calc]
            [/column]                   
    [/table]
	[/after_submit]
  [handlers]
      [datatable label='Show Tasks'][/datatable]    
      [csv filename='task-worked-upon.csv' label='Download Report' pagesize='1000' ][/csv]
  [/handlers]
  [filters]
     [section period keys="from_date,to_date" /]
  [/filters]
[/module.set_array]   
	[env.set app.page_title="Task Timeline Report - Plot" /]
  <div class="body-content-wrapper">
    <section role="tasks" class="tasks">
       [plot.search-filter.main args="{module.tasks_timeline}" title='Tasks Worked Upon'  /]
    </section>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>861110</wp:post_id>
		<wp:post_date><![CDATA[2019-12-06 02:39:10]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-12-06 02:39:10]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[task-worked-upon]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>all-activity</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=861112</link>
		<pubDate>Fri, 06 Dec 2019 02:39:36 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://wpoets.com/?post_type=m_plot&#038;p=861112</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
[module.set_array args]
  [after_submit raw]
    [query]              
        [pagesize]100[/pagesize]
        [atts debug_dataset=yes ignore=true /]
        [with]
          [sql]
            SELECT coll_id as data_id,object_id, stamp as created_date FROM `plot_activities` where meta_key='activity_id' 
             [if.not_whitespace form_data.before_date]
                       and date(stamp) <= date('[env.get form_data.before_date /]')	
             [/if.not_whitespace] 
				     [if.not_whitespace form_data.after_date]
                       and date(stamp) >= date('[env.get form_data.after_date /]')	
             [/if.not_whitespace] 
          [/sql]  
          [filter new not_empty={form_data.users}]
              [sql raw]
                select [module.previous_query_no /].*   
                from [module.previous_query_no /] JOIN plot_activities as pa 
                ON [module.previous_query_no /].data_id = pa.coll_id AND meta_key='activity_user' AND meta_value='[env.get form_data.users /]'
              [/sql]
          [/filter] 
            
        [/with]   
        [transform ref_id=data_id /]
          [meta new]
           [table]plot_activities[/table]
						[meta_keys]activity_user, activity_note, activity_id, activity_datetime, activity_user[/meta_keys] 
           [id_field]coll_id[/id_field]
          [/meta]
        [order]
             created_date DESC
        [/order]
        [atts query_count=yes /]
    [/query]
    [table]     
           [column new label='Date']
                [calc raw]
                   [aw2.get row.activity_datetime m.date_format='d-m-Y' /]
                [/calc]
            [/column] 
						[column new label='User']
                [calc raw]
                	 [query.get_user_by field='email' value='{row.activity_user}' o.set='template.user' /]
                   [template.get user.display_name /]
                [/calc]
            [/column] 
            [column new label='Activity']
              [calc raw] 
                		 [aw2.get row.activity_note /]     
               [/calc]
            [/column]    		  
                             
    [/table]
	[/after_submit]
  [handlers]
      [datatable label='Show Activites'][/datatable]    
      [csv filename='activites-performed.csv' label='Download Report' pagesize='1000' ][/csv]
  [/handlers]
  [filters]
     [section period keys="from_date,to_date" /]
     [section filter keys='users' /]
  [/filters]
[/module.set_array]   
	[env.set app.page_title="Activities Report - Plot" /]
  <div class="body-content-wrapper">
    <section role="tasks" class="tasks">
       [plot.search-filter.main args="{module.args}" title='Activites Performed' auto_handler='datatable' /]
    </section>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>861112</wp:post_id>
		<wp:post_date><![CDATA[2019-12-06 02:39:36]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-12-06 02:39:36]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[all-activity]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>task-timeline</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=861114</link>
		<pubDate>Fri, 06 Dec 2019 02:40:01 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://wpoets.com/?post_type=m_plot&#038;p=861114</guid>
		<description></description>
		<content:encoded><![CDATA[[module.set_array tasks_timeline]
  [after_submit raw]
    [query]              
        [pagesize]100[/pagesize]
        [with]
          [sql]
            SELECT coll_id as data_id, object_id  FROM `plot` where coll_type = 'task' and meta_key='task_id'
          [/sql] 
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , STR_TO_DATE(meta_value,'%d-%m-%Y') AS task_due_date   
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].data_id = plot.coll_id and coll_type='task' AND meta_key='task_due_date'
              [/sql]
          [/add_field] 
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , stamp AS signed_off_date   
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].data_id = plot.coll_id and coll_type='task' AND meta_key='task_status' AND meta_value='signed-off'
              [/sql]
          [/add_field]
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , meta_value as story_title 
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].object_id = plot.object_id and coll_type="user_stories" 
                 AND meta_key="story_title"
              [/sql]
           [/add_field]       
        [/with]   
        [transform ref_id=data_id /]
          [meta new]
           [table]plot[/table]
						[meta_keys]story_id, task_id, task_title, task_due_date, task_status[/meta_keys] 
           [id_field]coll_id[/id_field]
          [/meta]
          [meta new]
           [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'story_title' AS meta_key,story_title AS meta_value FROM bounded_data
           [/sql]
          [/meta] 
          [meta new]
            [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'signed_off_date' AS meta_key,signed_off_date AS meta_value FROM bounded_data
            [/sql]
          [/meta] 
        [order]
             task_due_date ASC
        [/order]
        [atts query_count=yes /]
    [/query]
    [table]     
    				[column new label='Sr. No.' cond='{form_data.submit_handler}' equal='datatable']
              [calc raw]
                [module.set temp_calc='{module.dataset.pagesize}*({module.dataset.pageno}-1) + {env.@my_row.index}' /]
								[module.get temp_calc.math /]
              [/calc]
            [/column]  
            [column new label='User story' ]
              [calc raw]
              	[if.equal lhs='{form_data.submit_handler}' rhs='datatable']
                 <a target="_blank" href='[app.path /]/user-story/[aw2.get row.story_id /]' rel="noopener noreferrer" class="brand-primary">
                  [aw2.get row.story_title /]
                </a>
                [/if.equal]
                [if.else]
                		[aw2.get row.story_title /]
                [/if.else]
                
              [/calc]
            [/column]            
            [column new label='Task']
              [calc raw] 
              	[if.equal lhs='{form_data.submit_handler}' rhs='datatable']
                <a target="_blank" href='[app.path /]/task/[aw2.get row.task_id /]' rel="noopener noreferrer" class="brand-primary">
                  [aw2.get row.task_title /]
                </a>
                 [/if.equal]
                [if.else]
                		 [aw2.get row.task_title /]
                [/if.else]
               [/calc]
             [/column]
             [column new label='Due date']
                [calc raw]
                   [aw2.get row.task_due_date m.date_format='d-m-Y' /]
                [/calc]
             [/column]            
            [column new label='Status']
               [calc raw]
                   [aw2.get row.task_status /]
                [/calc]
            [/column]                      
            [column new label='Signed-Off date']
                [calc raw]
                [if.not_empty  row.signed_off_date]
                   [aw2.get row.signed_off_date m.date_format='d-m-Y' /]
                 [/if.not_empty]  
                [/calc]
            [/column]                   
    [/table]
	[/after_submit]
  [handlers]
      [datatable label='Refresh List'][/datatable]   
      [csv filename='task-timeline.csv' label='Download Report' pagesize='1000' ][/csv]
  [/handlers]
[/module.set_array]   
	[env.set app.page_title="Task Timeline Report - Plot" /]
  <div class="body-content-wrapper">
  	<div class="is-flex justify-content-between">
  		<h1 class="font-regular font-size-largest mar-b-4">Task Timeline Report</h1>
    </div> 
    <section role="tasks" class="tasks">
      [plot.search-filter.main args="{module.tasks_timeline}" auto_handler="datatable" /]
    </section>
  </div>
]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>861114</wp:post_id>
		<wp:post_date><![CDATA[2019-12-06 02:40:01]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-12-06 02:40:01]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[task-timeline]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>upload-images</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=861651</link>
		<pubDate>Wed, 25 Dec 2019 04:47:41 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://wpoets.com/?post_type=m_plot&#038;p=861651</guid>
		<description></description>
		<content:encoded><![CDATA[[aw2.upload upload_to_path
                   upload_element_id="image_file"
                   dir_name="plot-docs/inside-posts"
                   overwrite_file='no'
                   set=template.file_res /]
          
[if.empty template.file_res.error]
{"success": true,"url": "[app.path /]/fileviewer?filename=inside-posts/[env.get template.file_res.filename]"}
[/if.empty]
[if.not_empty template.file_res.error]
{"success": false}
[/if.not_empty]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>861651</wp:post_id>
		<wp:post_date><![CDATA[2019-12-25 04:47:41]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-12-25 04:47:41]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[upload-images]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title>task-worked-upon</title>
		<link>https://wpoets.com/?post_type=m_plot&#038;p=861110</link>
		<pubDate>Fri, 06 Dec 2019 02:39:10 +0000</pubDate>
		<dc:creator><![CDATA[wpoid_web]]></dc:creator>
		<guid isPermaLink="false">https://wpoets.com/?post_type=m_plot&#038;p=861110</guid>
		<description></description>
		<content:encoded><![CDATA[[templates.add main]
[module.set_array tasks_timeline]
  [after_submit raw]
    [query]              
        [pagesize]100[/pagesize]
        [atts query_count=yes /]
        [with]
          [sql]
            SELECT coll_id as data_id, object_id  FROM `plot` where coll_type = 'task' and meta_key='task_status' 
             [if.not_whitespace form_data.to_date]
                       and date(stamp) <= date('[env.get form_data.to_date /]')	
             [/if.not_whitespace] 
				     [if.not_whitespace form_data.from_date]
                       and date(stamp) >= date('[env.get form_data.from_date /]')	
             [/if.not_whitespace] 
          [/sql] 
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , STR_TO_DATE(meta_value,'%d-%m-%Y') AS task_due_date   
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].data_id = plot.coll_id and coll_type='task' AND meta_key='task_due_date'
              [/sql]
          [/add_field] 
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , stamp AS signed_off_date   
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].data_id = plot.coll_id and coll_type='task' AND meta_key='task_status' AND meta_value='signed-off'
              [/sql]
          [/add_field]
          [add_field new ]
              [sql raw]
                select [module.previous_query_no /].* , meta_value as story_title 
                from [module.previous_query_no /] LEFT JOIN plot 
                ON [module.previous_query_no /].object_id = plot.object_id and coll_type="user_stories" 
                 AND meta_key="story_title"
              [/sql]
           [/add_field]       
        [/with]   
        [transform ref_id=data_id /]
          [meta new]
           [table]plot[/table]
						[meta_keys]story_id, task_id, task_title, task_due_date, task_status,task_created_datetime,task_assigned_to[/meta_keys] 
           [id_field]coll_id[/id_field]
          [/meta]
          [meta new]
           [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'story_title' AS meta_key,story_title AS meta_value FROM bounded_data
           [/sql]
          [/meta] 
          [meta new]
            [sql raw]
              SELECT 'meta' AS type,data_id AS data_id,'signed_off_date' AS meta_key,signed_off_date AS meta_value FROM bounded_data
            [/sql]
          [/meta] 
        [order]
             task_due_date DESC
        [/order]
    [/query]
    [table]     
            [column new label='Task']
              [calc raw] 
              	[if.equal lhs='{form_data.submit_handler}' rhs='datatable']
                <a target="_blank" href='[app.path /]/task/[aw2.get row.task_id /]' rel="noopener noreferrer" class="brand-primary">
                  [aw2.get row.task_title /]
                </a>
                 [/if.equal]
                [if.else]
                		 [aw2.get row.task_title /]
                [/if.else]
               [/calc]
            [/column]    		  
            [column new label='User story' ]
              [calc raw]
              	[if.equal lhs='{form_data.submit_handler}' rhs='datatable']
                 <a target="_blank" href='[app.path /]/user-story/[aw2.get row.story_id /]' rel="noopener noreferrer" class="brand-primary">
                  [aw2.get row.story_title /]
                </a>
                [/if.equal]
                [if.else]
                		[aw2.get row.story_title /]
                [/if.else]
                
              [/calc]
            [/column]            
						[column new label='Assigned To']
                [calc raw]
                	 [query.get_user_by field='email' value='{row.task_assigned_to}' o.set='template.user' /]
                   [template.get user.display_name /]
                [/calc]
            [/column]  
            [column new label='Created On']
                [calc raw]
                   [aw2.get row.task_created_datetime m.date_format='d-m-Y' /]
                [/calc]
            [/column]   
            [column new label='Due Date']
                [calc raw]
                   [aw2.get row.task_due_date m.date_format='d-m-Y' /]
                [/calc]
            [/column]            
            [column new label='Status']
               [calc raw]
                   [aw2.get row.task_status /]
                [/calc]
            [/column]                      
            [column new label='Signed-Off Date']
                [calc raw]
                [if.not_empty  row.signed_off_date]
                   [aw2.get row.signed_off_date m.date_format='d-m-Y' /]
                 [/if.not_empty]  
                [/calc]
            [/column]                   
    [/table]
	[/after_submit]
  [handlers]
      [datatable label='Show Tasks'][/datatable]    
      [csv filename='task-worked-upon.csv' label='Download Report' pagesize='1000' ][/csv]
  [/handlers]
  [filters]
     [section period keys="from_date,to_date" /]
  [/filters]
[/module.set_array]   
	[env.set app.page_title="Task Timeline Report - Plot" /]
  <div class="body-content-wrapper">
    <section role="tasks" class="tasks">
       [plot.search-filter.main args="{module.tasks_timeline}" title='Tasks Worked Upon'  /]
    </section>
  </div>
[/templates.add]]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>861110</wp:post_id>
		<wp:post_date><![CDATA[2019-12-06 02:39:10]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2019-12-06 02:39:10]]></wp:post_date_gmt>
		<wp:comment_status><![CDATA[closed]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[task-worked-upon]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[m_plot]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
														<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[5]]></wp:meta_value>
		</wp:postmeta>
							</item>		
						
		</channel>
</rss>
	
<!--
Performance optimized by W3 Total Cache. Learn more: https://www.w3-edge.com/products/


Served from: nxt.wpoets.com @ 2019-11-19 21:50:29 by W3 Total Cache
-->